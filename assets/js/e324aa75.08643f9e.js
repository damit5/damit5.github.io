"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[3119],{4289:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534855458238-7f2208e5708691c26baa06cd441c16e9.png"},11336:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534825248466-dee5fe68298fab1063ad64e82cc55ada.png"},14437:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534813102236-3b0878a745235e9bf73edf582093e266.png"},17471:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534843237526-abb01e816981d6c2855bcf11eb142751.png"},24379:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u5348121752070-845e3697d3a0a29132b9137a4e1dfb95.png"},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var r=s(96540);const t={},d=r.createContext(t);function c(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(d.Provider,{value:n},e.children)}},50931:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534843812947-73db18480a49909856a05c897add46d9.png"},52315:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534840317054-9e8d6fc91536cdbb63eb52c3b1dbad89.png"},65160:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534861645418-27ed67994447566c9255d14480343e20.png"},65340:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534873219209-db493f6c3d23a550e77a8eedf6ecc106.png"},69207:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534861559677-07c3dcf3e63e247860221b0ccc2fff98.png"},70058:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534813339565-f3b8aa816b6f52045976999dde4e8137.png"},74913:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534871424947-63aff8647b93e1aef499e6a2fa5bd61f.png"},75574:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534873247110-1efd68d3c00696b4de444349016a13de.png"},78662:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"\u7f16\u7a0b\u5f00\u53d1/vueJS/electron\u7ed3\u5408vue3","title":"electron\u7ed3\u5408vue3","description":"electron\u57fa\u7840","source":"@site/docs/03.\u7f16\u7a0b\u5f00\u53d1/vueJS/06.electron\u7ed3\u5408vue3.md","sourceDirName":"03.\u7f16\u7a0b\u5f00\u53d1/vueJS","slug":"/\u7f16\u7a0b\u5f00\u53d1/vueJS/electron\u7ed3\u5408vue3","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/vueJS/electron\u7ed3\u5408vue3","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1749871713000,"sidebarPosition":6,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"vue\u9879\u76ee\u642d\u5efa\u5c0f\u7ed3","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/vueJS/vue\u9879\u76ee\u642d\u5efa\u5c0f\u7ed3"},"next":{"title":"\u5fae\u4fe1\u516c\u4f17\u53f7\u673a\u5668\u4eba","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/\u5fae\u4fe1\u516c\u4f17\u53f7\u673a\u5668\u4eba/"}}');var t=s(74848),d=s(28453);const c={},i=void 0,l={},a=[{value:"electron\u57fa\u7840",id:"electron\u57fa\u7840",level:2},{value:"electron+vue3",id:"electronvue3",level:2},{value:"\u9879\u76ee\u642d\u5efa",id:"\u9879\u76ee\u642d\u5efa",level:3},{value:"\u6dfb\u52a0preload.js",id:"\u6dfb\u52a0preloadjs",level:3},{value:"preload\u4e3b\u52a8\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef",id:"preload\u4e3b\u52a8\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef",level:3},{value:"\u9690\u85cf\u83dc\u5355",id:"\u9690\u85cf\u83dc\u5355",level:3},{value:"\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e",id:"\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e",level:3},{value:"\u4efb\u52a1\u680f\u56fe\u6807\u663e\u793a",id:"\u4efb\u52a1\u680f\u56fe\u6807\u663e\u793a",level:3},{value:"\u6253\u5305\u56fe\u6807\u751f\u6210",id:"\u6253\u5305\u56fe\u6807\u751f\u6210",level:3},{value:"\u6ce8\u610f\u95ee\u9898",id:"\u6ce8\u610f\u95ee\u9898",level:2},{value:"\u6253\u5305\u5f02\u5e38",id:"\u6253\u5305\u5f02\u5e38",level:3},{value:"\u6253\u5305\u540e\u9996\u9875\u767d\u677f",id:"\u6253\u5305\u540e\u9996\u9875\u767d\u677f",level:3}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"electron\u57fa\u7840",children:"electron\u57fa\u7840"}),"\n",(0,t.jsxs)(n.p,{children:["\u6559\u7a0b\u5f88\u7ec6\u5f88\u8be6\u7ec6\u4e86\uff0c\u64cd\u4f5c\u4e5f\u5f88\u7b80\u5355\uff0c\u53ef\u53c2\u8003",(0,t.jsx)(n.a,{href:"https://electron.nodejs.cn/docs/latest/tutorial/quick-start",children:"\u5b98\u65b9\u5f00\u53d1\u6587\u6863"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e2a\u4eba\u7406\u89e3\u6765\u8bf4\uff0celectron\u5c31\u662f\u4e00\u4e2a\u628ahtml\u6253\u5305\u6210\u684c\u9762\u5e94\u7528\u7684\u6846\u67b6\uff0c\u5176\u5185\u7f6e\u4e86\u4e00\u4e2aChromium\u53ef\u4ee5\u52a0\u8f7d\u5404\u79cd\u7f51\u9875\uff0c\u4ee5\u53ca\u53ef\u4ee5\u5728",(0,t.jsx)(n.code,{children:"index.js"})," \u548c",(0,t.jsx)(n.code,{children:"preload.js"}),"\u4e2d\u6267\u884cnodejs\u4ee3\u7801\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5176\u4e2d\u5728",(0,t.jsx)(n.code,{children:"preload.js"}),"\u4e2d\u53ef\u4ee5\u4e3b\u52a8\u66b4\u9732\u51fd\u6570\u51fa\u6765\u7ed9\u524d\u7aef\u4ee3\u7801\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7postMessage\u5411\u524d\u7aef\u4e3b\u52a8\u53d1\u9001\u6d88\u606f\u3002=> \u53c2\u8003 ",(0,t.jsx)(n.a,{href:"#%E6%B7%BB%E5%8A%A0preloadjs",children:"\u6dfb\u52a0preload.js"})," \u548c ",(0,t.jsx)(n.a,{href:"#preload%E4%B8%BB%E5%8A%A8%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE%E5%88%B0%E5%89%8D%E7%AB%AF",children:"preload\u4e3b\u52a8\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u60f3\u7ed9",(0,t.jsx)(n.code,{children:"index.js"}),"\u4e2d\u7684\u5185\u5bb9\u53d1\u9001\u5230\u524d\u7aef\uff0c\u90a3\u5c31\u9700\u8981\u5148\u53d1\u5230",(0,t.jsx)(n.code,{children:"preload.js"}),"\uff0c\u518d\u7531",(0,t.jsx)(n.code,{children:"preload.js"}),"\u53d1\u9001\u7ed9\u524d\u7aef\u3002 => \u53c2\u8003 ",(0,t.jsx)(n.a,{href:"#%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E5%BF%AB%E6%8D%B7%E9%94%AE",children:"\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["\u521b\u5efa\u9879\u76ee\u65f6\u53ef\u901a\u8fc7",(0,t.jsx)(n.a,{href:"https://www.electronforge.io/",children:"Electron Forge"}),"\u5feb\u901f\u521b\u5efa"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm init electron-app@latest my-app\ncd my-app\nnpm install --save-dev electron\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u521b\u5efa\u597d\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff0c\u53ef\u4ee5\u8bf4\u662f\u5e94\u6709\u5c3d\u6709"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u5348121752070",src:s(24379).A+"",width:"1504",height:"376"})}),"\n",(0,t.jsxs)(n.p,{children:["\u76f4\u63a5\u8fd0\u884c ",(0,t.jsx)(n.code,{children:"npm run start"})," \u5373\u53ef\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"electronvue3",children:"electron+vue3"}),"\n",(0,t.jsx)(n.h3,{id:"\u9879\u76ee\u642d\u5efa",children:"\u9879\u76ee\u642d\u5efa"}),"\n",(0,t.jsxs)(n.p,{children:["\u5148\u53c2\u8003",(0,t.jsx)(n.a,{href:"./vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%B0%8F%E7%BB%93",children:"\u300avue\u9879\u76ee\u642d\u5efa\u5c0f\u7ed3\u300b"}),"\u642d\u5efa\u597dvue\u7684\u9879\u76ee\uff0c\u80fd\u6b63\u5e38\u542f\u52a8\u6ca1\u95ee\u9898\u540e\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u6dfb\u52a0",(0,t.jsx)(n.code,{children:"electron"}),"\uff0c\u6587\u6863\u5730\u5740\u4e3a ",(0,t.jsx)(n.a,{href:"https://nklayman.github.io/vue-cli-plugin-electron-builder/guide/",children:"Vue CLI Plugin Electron Builder"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"vue add electron-builder\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u9009\u62e9\u7248\u672c\u4e3a\u6700\u65b0\u7684\u5373\u53ef\uff0c\u5b89\u88c5\u597d\u540e\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\u542f\u52a8\uff01"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# \u542f\u52a8\nnpm run electron:serve\n# \u6253\u5305\nnpm run electron:build\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534813102236",src:s(14437).A+"",width:"1598",height:"1190"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,t.jsx)(n.code,{children:"background.js"})," \u4e3aelectron\u7684\u914d\u7f6e\u6587\u4ef6\uff08",(0,t.jsx)(n.code,{children:"index.js"}),"\uff09\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534813339565",src:s(70058).A+"",width:"1506",height:"860"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u9762\u8bb0\u5f55\u4e00\u4e9b\u6211\u7528\u5f97\u6bd4\u8f83\u591a\u7684"}),"\n",(0,t.jsx)(n.h3,{id:"\u6dfb\u52a0preloadjs",children:"\u6dfb\u52a0preload.js"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728",(0,t.jsx)(n.code,{children:"vue.config.js"}),"\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  pluginOptions: {\n    electronBuilder: {\n      preload: 'src/preload.js',\n    }\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u5728",(0,t.jsx)(n.code,{children:"src/background.js"}),"\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const path = require('path')\npreload: path.join(__dirname, 'preload.js')\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534825248466",src:s(11336).A+"",width:"2108",height:"1584"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6700\u540e\u5728",(0,t.jsx)(n.code,{children:"src"}),"\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a",(0,t.jsx)(n.code,{children:"preload.js"}),"\u5373\u53ef"]}),"\n",(0,t.jsx)(n.p,{children:"\u7f16\u5199\u4ee3\u7801\u6d4b\u8bd5\u4e00\u4e0b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { contextBridge } = require('electron')\nconst {exec} = require('child_process')\n\ncontextBridge.exposeInMainWorld('versions', {\n  node: () => process.versions.node,\n  chrome: () => process.versions.chrome,\n  electron: () => process.versions.electron\n  // we can also expose variables, not just functions\n})\n\n\nfunction executeCommand(command) {\n    return new Promise((resolve, reject) => {\n        exec(command, (error, stdout, stderr) => {\n            if (error) {\n                reject(`\u6267\u884c\u9519\u8bef: ${error}`);\n                return;\n            }\n            resolve(stdout);\n        });\n    });\n}\n\ncontextBridge.exposeInMainWorld('internal', {\n    getWhoami: () => executeCommand('whoami'), // \u6267\u884c\u7cfb\u7edf\u547d\u4ee4whoami\u5e76\u8fd4\u56de\u7ed3\u679c\n    getTest: function() {\n        return \"test\"\n    }\n  })\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534840317054",src:s(52315).A+"",width:"3166",height:"1396"})}),"\n",(0,t.jsx)(n.h3,{id:"preload\u4e3b\u52a8\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef",children:"preload\u4e3b\u52a8\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u524d\u7aef\u901a\u8fc7\u8c03\u7528",(0,t.jsx)(n.code,{children:"preload.js"}),"\u4e2d\u7684\u66b4\u9732\u51fd\u6570\u5b9e\u73b0\u7684\u83b7\u53d6\u4fe1\u606f\uff0c\u90a3\u5982\u679c\u8981\u4e3b\u52a8\u7ed9\u524d\u7aef\u53d1\u6570\u636e\u5462\uff1f\u7814\u7a76\u540e\u53d1\u73b0\u901a\u8fc7",(0,t.jsx)(n.code,{children:"postMessage"}),"\u53d1\u9001\u6570\u636e\u4f1a\u6bd4\u8f83\u7b80\u5355\uff01"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.code,{children:"preload.js"})," \u4e2d\u8c03\u7528postMessage\u53d1\u9001\u6570\u636e"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { contextBridge } = require('electron')\n\ncontextBridge.exposeInMainWorld('internal', {\n    getTest: function() {\n        window.postMessage({type:\"hello\", data:\"hello post message\"}, '*')\n        return \"test\"\n    }\n  })\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728vue\u63a5\u6536\u6570\u636e\u7684\u9875\u9762\u4e2d\u76d1\u542cmessage\u4e8b\u4ef6\u5373\u53ef\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-vue",children:"<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    testEventListener(event) { // \u76d1\u542c\u5230\u4e8b\u4ef6\u540e\u6267\u884c\u7684\u64cd\u4f5c\n      console.log(event)\n      if (event.data.type === \"hello\") {\n        console.log(event.data.data)\n      }\n    }\n  },\n\n  mounted() { // \u6ce8\u518cmessage\u76d1\u542c\n    window.addEventListener('message', this.testEventListener)\n  },\n  unmounted() { // \u4e00\u5b9a\u8981\u8bb0\u5f97\u6ce8\u9500\u4e8b\u4ef6\u76d1\u542c\n    window.removeEventListener('message', this.testEventListener)\n  },\n}\n<\/script>\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6548\u679c\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534843237526",src:s(17471).A+"",width:"2826",height:"1796"})}),"\n",(0,t.jsx)(n.h3,{id:"\u9690\u85cf\u83dc\u5355",children:"\u9690\u85cf\u83dc\u5355"}),"\n",(0,t.jsxs)(n.p,{children:["\u65b9\u5f0f\u6709\u5f88\u591a\uff0c\u5217\u4e3e\u4e0b\u97622\u4e2a\uff0c\u5728",(0,t.jsx)(n.code,{children:"background.js"}),"\u4e2d\u4fee\u6539\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"autoHideMenuBar: true, // \u9690\u85cfwindows\u4e0a\u9762\u4e00\u6392\u7684\u83dc\u5355\u680f\uff0cmac\u4e0a\u597d\u50cf\u6ca1\u7528\nframe: false, // \u65e0\u8fb9\u6846\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534843812947",src:s(50931).A+"",width:"1634",height:"878"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e",children:"\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e"}),"\n",(0,t.jsxs)(n.p,{children:["\u6ce8\u518c\u5168\u5c40\u5feb\u6377\u952e ",(0,t.jsx)(n.code,{children:"option + I"}),"\uff0c\u4efb\u4f55\u5730\u65b9\u6309\u4e0b\u540e\u90fd\u4f1a\u7ed9\u5c55\u793a\u9875\u9762\u968f\u673a\u8bbe\u7f6e\u503c\u3002\uff08\u9664\u4e86\u5168\u5c40\u5916\u8fd8\u6709\u5f53\u524d\u5e94\u7528\u7684\u5feb\u6377\u952e\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u5224\u5b9a\u7528\u54ea\u4e00\u7c7b\uff0c\u5177\u4f53\u53ef\u53c2\u8003",(0,t.jsx)(n.a,{href:"https://electron.nodejs.cn/docs/latest/tutorial/keyboard-shortcuts",children:"\u952e\u76d8\u5feb\u6377\u952e"}),"\uff09"]}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u6d41\u7a0b\uff1a\u6309\u4e0b\u5feb\u6377\u952e -> \u53d1\u9001\u6570\u636e\u5230preload.js -> preload.js\u53d1\u9001\u6570\u636e\u5230\u524d\u7aef"}),"\n",(0,t.jsx)(n.p,{children:"1\u3001\u6309\u4e0b\u5feb\u6377\u952e\uff0c\u751f\u6210\u968f\u673a\u6570\u5e76\u53d1\u9001\u6570\u636e\u5230preload.js"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"globalShortcut.register('Option+I', () => {\n    let randomData = require('crypto').randomBytes(16).toString('hex')\n    console.log(randomData)\n    win.webContents.send('random', randomData)\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534853520571",src:s(86421).A+"",width:"1596",height:"1986"})}),"\n",(0,t.jsx)(n.p,{children:"2\u3001preload.js\u4ee3\u7801\uff1a\u63a5\u53d7\u6570\u636e\uff0c\u53d1\u9001\u5230\u524d\u7aef"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { ipcRenderer } = require('electron')\n\nipcRenderer.on('random', (_event, value) => {\n    window.postMessage({type: 'test', data: value}) // postMessage\u76f4\u63a5\u53d1\u7ed9\u524d\u7aef\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:"3\u3001\u524d\u7aef\u5c55\u793a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-vue",children:"<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n    <p>{{ randomString }}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      randomString: null\n    }\n  },\n  methods: {\n    testEventListener(event) { // \u76d1\u542c\u5230\u4e8b\u4ef6\u540e\u6267\u884c\u7684\u64cd\u4f5c\n      console.log(event)\n      if (event.data.type === \"test\") {\n        this.randomString = event.data.data\n      }\n    }\n  },\n\n  mounted() { // \u6ce8\u518cmessage\u76d1\u542c\n    window.addEventListener('message', this.testEventListener)\n  },\n  unmounted() { // \u4e00\u5b9a\u8981\u8bb0\u5f97\u6ce8\u9500\u4e8b\u4ef6\u76d1\u542c\n    window.removeEventListener('message', this.testEventListener)\n  },\n}\n<\/script>\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u6837\u6bcf\u6b21\u6309\u4e0b\u5feb\u6377\u952e\u540e\uff0c\u524d\u7aef\u7684\u5185\u5bb9\u5c31\u4f1a\u540c\u6b65\u66f4\u6539"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534855458238",src:s(4289).A+"",width:"1992",height:"2052"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4efb\u52a1\u680f\u56fe\u6807\u663e\u793a",children:"\u4efb\u52a1\u680f\u56fe\u6807\u663e\u793a"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528",(0,t.jsx)(n.a,{href:"https://electron.nodejs.cn/docs/latest/tutorial/tray",children:"Tray"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const { Tray, Menu, nativeImage } = require('electron')\n\nlet tray\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u5728 createWindow() \u540e\n// const icon = nativeImage.createFromPath('src/assets/logo.png')\n  const icon = nativeImage.createFromDataURL('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAn1JREFUOE+lkl9IU2EYxp/vnO3sH24gyTKJErGU0uG+TcRETSRE6I+aUSR0EUUoXahgN92EQUQUXiRdRBdFGWQgSmGZOcP8E5xzZkqQYVoYs5JZm5vbONv5YpEwYfOm9/J7v+cHz/M+BP85JFHvcDiKRFF0UweN5ZUL45455ZMSItawn93Xp6El5GdnCCH7RFEc3NBtAhSX0EmDmdsT8KrpWfu1CK7G8NujYmehRl2aiXKEg6o3EdfbUbE6KYBSagcgCUaCvEotLFYewV8qvs1G8fNzDBoBUCIsV5bl+aSA+COl9InBQhrDfgZCAMb+fSWAYCJvJkbFykTbmyzEF2UH7LdztqvNei0jxXsVDEzp0Fq/jq4+A/P6uf6xCbkuJYBSWmAxMbGtPiTMLPJ49k6HrguBuBi7rDEMSUJcWyhJ0mxSCzXV9tazh0K3bvQa0VAWgcfLYZuFYeqjBlea1vFwRIf3C/wd15i7OVWIrPlwCOMftCjMjoHnGB659Hh9zYe6zjScqozglSz09PRPn04JoLlRdLcEUNZuQa1TweoawYqPQ0QhuHgkhOtPje7BYTl+rb+zKURKKctMV1FlU7C0wkFlgF4A3PMaPO/04eAlC7Q8ll1j8o6kgKM1RZOl+UpJPKzey34cv2rGifII5j0cFr7zyDAzLP7g54Zccl5SQEWpva84P3os2xrDC0lAU1UYD4b1MOgYvD6CtoYwugd0XYMj061bFYnlZMYQCBF0NIbQcc+E87VhZJhVdD42MsaQJUnSckqA0+msUFV1tGB3dG32iybt5rkg2u+aQAhTVRW1siy/3LKJG0ubzZZl0nMneQHTwSD5mtj/RMAfdNUAIGhBEhMAAAAASUVORK5CYII=')\n  tray = new Tray(icon)\n\n  const contextMenu = Menu.buildFromTemplate([\n    {\n      label: '\u70b9\u51fb\u9000\u51fa', \n      type: 'normal' , \n      click: () => { app.quit(); }\n    }\n  ])\n  \n  tray.setContextMenu(contextMenu) // \u8bbe\u7f6e\u83dc\u5355\n  tray.setToolTip('test') // \u4ecb\u7ecd\n  tray.setTitle('d4m1ts') // \u6807\u9898\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534861559677",src:s(69207).A+"",width:"2492",height:"1996"})}),"\n",(0,t.jsx)(n.p,{children:"\u6548\u679c\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534861645418",src:s(65160).A+"",width:"408",height:"142"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6253\u5305\u56fe\u6807\u751f\u6210",children:"\u6253\u5305\u56fe\u6807\u751f\u6210"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528\u5de5\u5177 ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/electron-icon-builder",children:(0,t.jsx)(n.code,{children:"electron-icon-builder"})})," \u751f\u6210\u5230 ",(0,t.jsx)(n.code,{children:"build/icons/"})," \u76ee\u5f55\u4e0b\u5373\u53ef\uff0c\u6253\u5305\u65f6\u5c31\u4f1a\u81ea\u52a8\u5e26\u4e0a\u56fe\u6807\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm install -g electron-icon-builder\nelectron-icon-builder --input=./public/icon.png --output=./build --flatten\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534872704185",src:s(88311).A+"",width:"1504",height:"664"})}),"\n",(0,t.jsx)(n.p,{children:"\u6253\u5305\u540e\u6548\u679c\u5982\u4e0b"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534873219209",src:s(65340).A+"",width:"1468",height:"734"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6ce8\u610f\u95ee\u9898",children:"\u6ce8\u610f\u95ee\u9898"}),"\n",(0,t.jsx)(n.h3,{id:"\u6253\u5305\u5f02\u5e38",children:"\u6253\u5305\u5f02\u5e38"}),"\n",(0,t.jsxs)(n.p,{children:["\u6253\u5305\u65f6\u8bb0\u5f97\u586b\u5199\u4e0a\u4f5c\u8005",(0,t.jsx)(n.code,{children:"author"}),"\u548c\u63cf\u8ff0",(0,t.jsx)(n.code,{children:"description"}),"\u5b57\u6bb5\u3002"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u51fa\u73b0\u9519\u8bef ",(0,t.jsx)(n.code,{children:"Error: Exit code: ENOENT. spawn /usr/bin/python ENOENT"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u5148\u6267\u884c ",(0,t.jsx)(n.code,{children:"which python"})," \u627e\u5230 python2\u7684\u8def\u5f84\uff0c\u7136\u540e\u66ff\u6362\u6389 ",(0,t.jsx)(n.code,{children:"/node_modules/dmg-builder/out/dmg.js"})," \u4e2d\u7684 ",(0,t.jsx)(n.code,{children:'"/usr/bin/python"'})," \u4e3a\u67e5\u8be2\u5230\u7684\u771f\u5b9e\u7684\u8def\u5f84\u5373\u53ef\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534871424947",src:s(74913).A+"",width:"2984",height:"196"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6253\u5305\u540e\u9996\u9875\u767d\u677f",children:"\u6253\u5305\u540e\u9996\u9875\u767d\u677f"}),"\n",(0,t.jsxs)(n.p,{children:["serve\u663e\u793a\u6b63\u5e38\uff0cbuild\u540e\u6253\u5f00\u9996\u9875\u767d\u677f\uff0c\u5373\u53ea\u663e\u793a\u4e86",(0,t.jsx)(n.code,{children:"App.vue"}),"\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u6ca1\u663e\u793a\u5176 ",(0,t.jsx)(n.code,{children:"<router-view/>"})," \u6e32\u67d3\u7684\u5185\u5bb9\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image-20241020\u4e0b\u534873247110",src:s(75574).A+"",width:"1600",height:"1200"})}),"\n",(0,t.jsxs)(n.p,{children:["\u89e3\u51b3\u529e\u6cd5\u4e5f\u5f88\u7b80\u5355\uff0c\u5728 ",(0,t.jsx)(n.code,{children:"App.vue"})," \u4e2d\u52a0\u4e00\u4e2a\u9996\u9875\u8df3\u8f6c\u5373\u53ef\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<script>\nexport default {\n  mounted() {\n    this.$router.push("/")\n  },\n}\n<\/script>\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u6837\u518d\u6253\u5f00\u5c31\u4e00\u5207\u6b63\u5e38\u4e86\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},86421:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534853520571-d40bac89ddc9a5631daf4c4dbe1fd5cd.png"},88311:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/image-20241020\u4e0b\u534872704185-340a7e1adf1e5f0ebb6471365705d081.png"}}]);