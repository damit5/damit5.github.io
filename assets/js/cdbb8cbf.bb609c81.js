"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[6421],{4320:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534851625552-645968c6b4aacfe9e4d3e285c30360b0.png"},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var a=r(96540);const i={},s=a.createContext(i);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(s.Provider,{value:n},e.children)}},36475:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534844418149-955e8e5abebdf3de26f40d39ab03c6ab.png"},51063:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534845526138-a667f9e6821b2fd9dcc86e006c53f9a6.png"},52704:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534843924678-b9f7e5c9e6d213c08ca19e9ffcf0b5ee.png"},67710:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534845644435-bf5be99aae877d40a546a0099858dddd.png"},72461:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/image-20240104\u4e0b\u534843736840-9020aa44027790efab248e851e20080c.png"},80700:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>p,contentTitle:()=>t,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"\u7f16\u7a0b\u5f00\u53d1/Java/SpringBoot/SpringBoot\u7ed3\u5408Mybatis","title":"SpringBoot\u7ed3\u5408Mybatis","description":"\u73af\u5883","source":"@site/docs/03.\u7f16\u7a0b\u5f00\u53d1/Java/01.SpringBoot/01.SpringBoot\u7ed3\u5408Mybatis.md","sourceDirName":"03.\u7f16\u7a0b\u5f00\u53d1/Java/01.SpringBoot","slug":"/\u7f16\u7a0b\u5f00\u53d1/Java/SpringBoot/SpringBoot\u7ed3\u5408Mybatis","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/Java/SpringBoot/SpringBoot\u7ed3\u5408Mybatis","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"SpringBoot","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/Java/SpringBoot/"},"next":{"title":"Filter","permalink":"/docs/\u7f16\u7a0b\u5f00\u53d1/Java/SpringBoot/Filter"}}');var i=r(74848),s=r(28453);const o={},t=void 0,p={},c=[{value:"\u73af\u5883",id:"\u73af\u5883",level:2},{value:"\u524d\u7f6e\u8fc7\u7a0b",id:"\u524d\u7f6e\u8fc7\u7a0b",level:2},{value:"\u4ee3\u7801\u8fc7\u7a0b",id:"\u4ee3\u7801\u8fc7\u7a0b",level:2},{value:"\u6570\u636e\u6e90\u914d\u7f6e",id:"\u6570\u636e\u6e90\u914d\u7f6e",level:3},{value:"\u521b\u5efa\u5b9e\u4f53\u6570\u636e\u6a21\u578b",id:"\u521b\u5efa\u5b9e\u4f53\u6570\u636e\u6a21\u578b",level:3},{value:"\u5b9a\u4e49mapper\u63a5\u53e3\uff08\u65b9\u6cd5\u4e00\uff1a\u4f7f\u7528\u6ce8\u89e3\uff09",id:"\u5b9a\u4e49mapper\u63a5\u53e3\u65b9\u6cd5\u4e00\u4f7f\u7528\u6ce8\u89e3",level:3},{value:"\u5b9a\u4e49mapper\u63a5\u53e3\uff08\u65b9\u6cd5\u4e8c\uff1a\u7f16\u5199xml\u6587\u4ef6\uff09",id:"\u5b9a\u4e49mapper\u63a5\u53e3\u65b9\u6cd5\u4e8c\u7f16\u5199xml\u6587\u4ef6",level:3},{value:"\u8c03\u7528",id:"\u8c03\u7528",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u73af\u5883",children:"\u73af\u5883"}),"\n",(0,i.jsxs)(n.p,{children:["\u73af\u5883\u91c7\u7528IDEA\u81ea\u5e26\u7684Spring\u521d\u59cb\u5316\u4e00\u952e\u642d\u5efa\uff0c\u642d\u5efa\u65f6\u8bb0\u5f97\u52fe\u9009\u4e0a",(0,i.jsx)(n.code,{children:"MyBatis Framework"}),"\u5373\u53ef\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u524d\u7f6e\u8fc7\u7a0b",children:"\u524d\u7f6e\u8fc7\u7a0b"}),"\n",(0,i.jsx)(n.p,{children:"\u51c6\u5907\u597d\u6570\u636e\u5e93\u548c\u8868"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"table",src:r(72461).A+"",width:"2278",height:"720"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4ee3\u7801\u8fc7\u7a0b",children:"\u4ee3\u7801\u8fc7\u7a0b"}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u6e90\u914d\u7f6e",children:"\u6570\u636e\u6e90\u914d\u7f6e"}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,i.jsx)(n.code,{children:"mybatis.mapper-locations"})," \u662f\u914d\u7f6e mapper xml \u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5982\u679c\u91c7\u7528\u6ce8\u89e3\u7684\u65b9\u5f0f\u53ef\u4ee5\u5ffd\u7565\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spring:\n  datasource:\n    url: jdbc:mysql://127.0.0.1:3308/vulnWebDB?characterEncoding=utf-8&useSSL=false\n    username: root\n    password: xxxxxxx\n    driver-class-name: com.mysql.cj.jdbc.Driver\nmybatis:\n  mapper-locations: classpath*:mapper/*.xml\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"application.yml",src:r(52704).A+"",width:"1518",height:"442"})}),"\n",(0,i.jsx)(n.h3,{id:"\u521b\u5efa\u5b9e\u4f53\u6570\u636e\u6a21\u578b",children:"\u521b\u5efa\u5b9e\u4f53\u6570\u636e\u6a21\u578b"}),"\n",(0,i.jsx)(n.p,{children:"\u6839\u636e\u8868\u7684\u7ed3\u6784\uff0c\u521b\u5efa\u5bf9\u5e94\u7684\u6570\u636e\u6a21\u578b\uff0c\u65b9\u4fbf\u6570\u636e\u5e93\u76f4\u63a5\u628a\u67e5\u8be2\u7ed3\u679c\u8d4b\u503c\u8fdb\u53bb\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"package com.xxx.vulnweb.model;\n\nimport lombok.Data;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Data\npublic class UserModel {\n    private Integer UserID;\n    private String Username;\n    private String Password;\n    private String Email;\n    private String PhoneNumber;\n    private Boolean AccountStatus;\n    private String UserGroup;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"model",src:r(36475).A+"",width:"972",height:"770"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9a\u4e49mapper\u63a5\u53e3\u65b9\u6cd5\u4e00\u4f7f\u7528\u6ce8\u89e3",children:"\u5b9a\u4e49mapper\u63a5\u53e3\uff08\u65b9\u6cd5\u4e00\uff1a\u4f7f\u7528\u6ce8\u89e3\uff09"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u5c0f\u578b\u9879\u76ee\u53ef\u4ee5\u7528\u8fd9\u4e2a\uff0c\u6bd4\u8f83\u7b80\u6d01\u660e\u4e86\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'package com.xxx.vulnweb.repository;\n\nimport com.xxx.vulnweb.model.UserModel;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Select;\n\n@Mapper\npublic interface UserMapper {\n    @Select("select * from Users where username = #{name}")\n    UserModel QueryByName(String name);\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"\u6ce8\u89e3",src:r(4320).A+"",width:"1154",height:"604"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9a\u4e49mapper\u63a5\u53e3\u65b9\u6cd5\u4e8c\u7f16\u5199xml\u6587\u4ef6",children:"\u5b9a\u4e49mapper\u63a5\u53e3\uff08\u65b9\u6cd5\u4e8c\uff1a\u7f16\u5199xml\u6587\u4ef6\uff09"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u4e00\u822c\u5927\u578b\u9879\u76ee\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8fd8\u662f\u548c\u4e0a\u9762\u7c7b\u4f3c\u9700\u8981\u5148\u5b9a\u4e49mapper\u63a5\u53e3\uff0c\u8fd9\u91cc\u4e3a\u4e86\u89c4\u8303\u91c7\u7528 ",(0,i.jsx)(n.code,{children:"@Repository"})," \u6ce8\u89e3"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"package com.xxx.vulnweb.repository;\n\nimport com.xxx.vulnweb.model.UserModel;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserMapper {\n    UserModel QueryByName(String name);\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u518d\u7f16\u5199xml\u6587\u4ef6\u6765\u5b9e\u73b0\uff08xml\u6587\u4ef6\u9700\u8981\u4fdd\u5b58\u5728\u7b2c\u4e00\u6b65",(0,i.jsx)(n.a,{href:"#%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE",children:"\u6570\u636e\u6e90\u914d\u7f6e"}),"\u4e2d\u914d\u7f6e\u7684\u8def\u5f84\u4e2d\uff0c\u5927\u6982\u8def\u5f84\u662f ",(0,i.jsx)(n.code,{children:"src/main/resources"}),"\u76ee\u5f55\u4e0b\uff09"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.xxx.vulnweb.repository.UserMapper">\n    <select id="QueryByName" resultType="com.xxx.vulnweb.model.UserModel">\n        select * from vulnWebDB.Users where Username = #{name}\n    </select>\n</mapper>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u6700\u540e\u8fd8\u9700\u8981\u5728\u542f\u52a8\u7c7b\u6dfb\u52a0\u4e00\u4e2a\u6ce8\u89e3 ",(0,i.jsx)(n.code,{children:'@MapperScan("com.xxx.vulnweb.repository")'}),"\uff0c\u6307\u660emapper\u63a5\u53e3\u7684\u4f4d\u7f6e"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'package com.xxx.vulnweb;\n\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication()\n@MapperScan("com.xxx.vulnweb.repository")\npublic class VulnWebApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(VulnWebApplication.class, args);\n\t}\n\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u8c03\u7528",children:"\u8c03\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u4e86\uff0c\u4e00\u822c\u662f\u5728service\u4e2d\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"invoke",src:r(51063).A+"",width:"996",height:"270"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"firefox",src:r(67710).A+"",width:"1138",height:"650"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);