"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[9530],{1718:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201030144856509-83c5cef8137f9fe68d262f76cc9eee80.png"},18912:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201031160600572-7dfe206335192bd821cf06d3f4c4d5ef.png"},28453:(n,e,l)=>{l.d(e,{R:()=>r,x:()=>d});var s=l(96540);const c={},i=s.createContext(c);function r(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),s.createElement(i.Provider,{value:e},n.children)}},28680:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201031165305151-266ffb93aa88e8ab699922d4224126a4.png"},31334:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201102083749269-a7c41ba70718275c25f2b9479f4fe879.png"},31604:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201030152244194-1feb50d35c89fab4089a84c1c1277a6b.png"},51090:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201102083618534-84226ef1a23a9736a843d56801856cd7.png"},70190:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201102083254336-fcec5137e6b3fc45f9bbde75226af134.png"},81143:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201101110332918-82edd972d3c8ad2f0c95bf58013cebe1.png"},92305:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"\u5e94\u6025\u54cd\u5e94/\u5165\u4fb5\u6392\u67e5/Linux\u5165\u4fb5\u6392\u67e5","title":"Linux\u5165\u4fb5\u6392\u67e5","description":"\u4e00\u3001\u8d26\u53f7","source":"@site/docs/05.\u5e94\u6025\u54cd\u5e94/02.\u5165\u4fb5\u6392\u67e5/02.Linux\u5165\u4fb5\u6392\u67e5.md","sourceDirName":"05.\u5e94\u6025\u54cd\u5e94/02.\u5165\u4fb5\u6392\u67e5","slug":"/\u5e94\u6025\u54cd\u5e94/\u5165\u4fb5\u6392\u67e5/Linux\u5165\u4fb5\u6392\u67e5","permalink":"/docs/\u5e94\u6025\u54cd\u5e94/\u5165\u4fb5\u6392\u67e5/Linux\u5165\u4fb5\u6392\u67e5","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1749874405000,"sidebarPosition":2,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"Windows\u5165\u4fb5\u6392\u67e5","permalink":"/docs/\u5e94\u6025\u54cd\u5e94/\u5165\u4fb5\u6392\u67e5/Windows\u5165\u4fb5\u6392\u67e5"},"next":{"title":"WEB\u5165\u4fb5\u6392\u67e5","permalink":"/docs/\u5e94\u6025\u54cd\u5e94/\u5165\u4fb5\u6392\u67e5/WEB\u5165\u4fb5\u6392\u67e5"}}');var c=l(74848),i=l(28453);const r={},d="Linux\u5165\u4fb5\u6392\u67e5",h={},t=[{value:"\u4e00\u3001\u8d26\u53f7",id:"\u4e00\u8d26\u53f7",level:2},{value:"1\u3001\u662f\u5426\u4e3a\u5f31\u53e3\u4ee4",id:"1\u662f\u5426\u4e3a\u5f31\u53e3\u4ee4",level:3},{value:"2\u3001\u67e5\u8be2\u662f\u5426\u6709\u53ef\u7591\u8d26\u53f7",id:"2\u67e5\u8be2\u662f\u5426\u6709\u53ef\u7591\u8d26\u53f7",level:3},{value:"3\u3001\u67e5\u8be2\u7279\u6743\u7528\u6237(uid=0)",id:"3\u67e5\u8be2\u7279\u6743\u7528\u6237uid0",level:3},{value:"4\u3001\u67e5\u8be2\u53ef\u4ee5\u8fdc\u7a0b\u767b\u5f55\u7684\u8d26\u53f7",id:"4\u67e5\u8be2\u53ef\u4ee5\u8fdc\u7a0b\u767b\u5f55\u7684\u8d26\u53f7",level:3},{value:"5\u3001\u5176\u4ed6\u8d26\u53f7\u662f\u5426\u62e5\u6709sudo\u6743\u9650",id:"5\u5176\u4ed6\u8d26\u53f7\u662f\u5426\u62e5\u6709sudo\u6743\u9650",level:3},{value:"6\u3001\u516c\u79c1\u94a5\u514d\u5bc6\u767b\u9646",id:"6\u516c\u79c1\u94a5\u514d\u5bc6\u767b\u9646",level:3},{value:"7\u3001\u767b\u9646\u65e5\u5fd7",id:"7\u767b\u9646\u65e5\u5fd7",level:3},{value:"\u4e8c\u3001\u5386\u53f2\u547d\u4ee4",id:"\u4e8c\u5386\u53f2\u547d\u4ee4",level:2},{value:"1\u3001\u67e5\u770b\u7cfb\u7edf\u6267\u884c\u8fc7\u7684\u5386\u53f2\u547d\u4ee4",id:"1\u67e5\u770b\u7cfb\u7edf\u6267\u884c\u8fc7\u7684\u5386\u53f2\u547d\u4ee4",level:3},{value:"\u4e09\u3001\u7aef\u53e3\u548c\u8fdb\u7a0b",id:"\u4e09\u7aef\u53e3\u548c\u8fdb\u7a0b",level:2},{value:"1\u3001\u68c0\u67e5\u662f\u5426\u6709\u5f02\u5e38\u8fde\u63a5\u7684\u7aef\u53e3",id:"1\u68c0\u67e5\u662f\u5426\u6709\u5f02\u5e38\u8fde\u63a5\u7684\u7aef\u53e3",level:3},{value:"2\u3001\u68c0\u67e5\u5f02\u5e38\u8fdb\u7a0b",id:"2\u68c0\u67e5\u5f02\u5e38\u8fdb\u7a0b",level:3},{value:"\u56db\u3001\u5f00\u673a\u542f\u52a8\u9879\u3001\u8ba1\u5212\u4efb\u52a1\u3001\u670d\u52a1",id:"\u56db\u5f00\u673a\u542f\u52a8\u9879\u8ba1\u5212\u4efb\u52a1\u670d\u52a1",level:2},{value:"1\u3001\u5f00\u673a\u542f\u52a8\u9879",id:"1\u5f00\u673a\u542f\u52a8\u9879",level:3},{value:"2\u3001\u8ba1\u5212\u4efb\u52a1",id:"2\u8ba1\u5212\u4efb\u52a1",level:3},{value:"3\u3001\u670d\u52a1",id:"3\u670d\u52a1",level:3},{value:"\u4e94\u3001\u7cfb\u7edf\u4fe1\u606f",id:"\u4e94\u7cfb\u7edf\u4fe1\u606f",level:2},{value:"1\u3001\u53ef\u7591\u7684\u76ee\u5f55\u548c\u6587\u4ef6",id:"1\u53ef\u7591\u7684\u76ee\u5f55\u548c\u6587\u4ef6",level:3},{value:"2\u3001\u7cfb\u7edf\u73af\u5883\u53d8\u91cf",id:"2\u7cfb\u7edf\u73af\u5883\u53d8\u91cf",level:3},{value:"3\u3001\u547d\u4ee4\u88ab\u66ff\u6362\u6392\u67e5",id:"3\u547d\u4ee4\u88ab\u66ff\u6362\u6392\u67e5",level:3},{value:"4\u3001\u5f02\u5e38\u6d41\u91cf",id:"4\u5f02\u5e38\u6d41\u91cf",level:3},{value:"\u516d\u3001\u81ea\u52a8\u5316\u67e5\u6740",id:"\u516d\u81ea\u52a8\u5316\u67e5\u6740",level:2},{value:"1\u3001Rootkit\u67e5\u6740",id:"1rootkit\u67e5\u6740",level:3},{value:"2\u3001\u75c5\u6bd2\u67e5\u6740",id:"2\u75c5\u6bd2\u67e5\u6740",level:3},{value:"3\u3001RPM check \u68c0\u67e5\uff08\u4e0d\u9002\u7528Ubuntu\uff09",id:"3rpm-check-\u68c0\u67e5\u4e0d\u9002\u7528ubuntu",level:3},{value:"\u4e03\u3001Github\u4f18\u79c0\u811a\u672c",id:"\u4e03github\u4f18\u79c0\u811a\u672c",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"linux\u5165\u4fb5\u6392\u67e5",children:"Linux\u5165\u4fb5\u6392\u67e5"})}),"\n",(0,c.jsx)(e.h2,{id:"\u4e00\u8d26\u53f7",children:"\u4e00\u3001\u8d26\u53f7"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["1\u3001\u7528\u6237\u4fe1\u606f\u6587\u4ef6 ",(0,c.jsx)(e.code,{children:"/etc/passwd"})]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"root:x:0:0:root:/root:/bin/bash\naccount:password:UID:GID:GECOS:directory:shell\n\u7528\u6237\u540d\uff1a\u5bc6\u7801\uff1a\u7528\u6237ID\uff1a\u7ec4ID\uff1a\u7528\u6237\u8bf4\u660e\uff1a\u5bb6\u76ee\u5f55\uff1a\u767b\u9646\u4e4b\u540e\u7684 shell\n\u6ce8\u610f\uff1a\u65e0\u5bc6\u7801\u53ea\u5141\u8bb8\u672c\u673a\u767b\u9646\uff0c\u8fdc\u7a0b\u4e0d\u5141\u8bb8\u767b\u9646\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["2\u3001\u5f71\u5b50\u6587\u4ef6 ",(0,c.jsx)(e.code,{children:"/etc/shadow"})]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"root:$6$oGs1PqhL2p3ZetrE$X7o7bzoouHQVSEmSgsYN5UD4.kMHx6qgbTqwNVC5oOAouXvcjQSt.Ft7ql1WpkopY0UV9ajBwUt1DpYxTCVvI/:16809:0:99999:7:::\n\u7528\u6237\u540d\uff1a\u52a0\u5bc6\u5bc6\u7801\uff1a\u5bc6\u7801\u6700\u540e\u4e00\u6b21\u4fee\u6539\u65e5\u671f\uff1a\u4e24\u6b21\u5bc6\u7801\u7684\u4fee\u6539\u65f6\u95f4\u95f4\u9694\uff1a\u5bc6\u7801\u6709\u6548\u671f\uff1a\u5bc6\u7801\u4fee\u6539\u5230\u671f\u5230\u7684\u8b66\u544a\u5929\u6570\uff1a\u5bc6\u7801\u8fc7\u671f\u4e4b\u540e\u7684\u5bbd\u9650\u5929\u6570\uff1a\u8d26\u53f7\u5931\u6548\u65f6\u95f4\uff1a\u4fdd\u7559\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"3\u3001\u5176\u4ed6\u76f8\u5173\u7684"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"who     \u67e5\u770b\u5f53\u524d\u767b\u5f55\u7528\u6237\uff08tty \u672c\u5730\u767b\u9646  pts \u8fdc\u7a0b\u767b\u5f55\uff09\nw       \u67e5\u770b\u7cfb\u7edf\u4fe1\u606f\uff0c\u60f3\u77e5\u9053\u67d0\u4e00\u65f6\u523b\u7528\u6237\u7684\u884c\u4e3a\nuptime  \u67e5\u770b\u767b\u9646\u591a\u4e45\u3001\u591a\u5c11\u7528\u6237\uff0c\u8d1f\u8f7d\u72b6\u6001\n"})}),"\n",(0,c.jsx)(e.h3,{id:"1\u662f\u5426\u4e3a\u5f31\u53e3\u4ee4",children:"1\u3001\u662f\u5426\u4e3a\u5f31\u53e3\u4ee4"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u68c0\u67e5\u65b9\u6cd5\uff1a\u8be2\u95ee\u7ba1\u7406\u5458"}),"\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u7a7a\u53e3\u4ee4\u7528\u6237\uff1a",(0,c.jsx)(e.code,{children:"awk -F: 'length($2)==0 {print $1}' /etc/shadow"})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"2\u67e5\u8be2\u662f\u5426\u6709\u53ef\u7591\u8d26\u53f7",children:"2\u3001\u67e5\u8be2\u662f\u5426\u6709\u53ef\u7591\u8d26\u53f7"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:"cat /etc/passwd"})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"3\u67e5\u8be2\u7279\u6743\u7528\u6237uid0",children:"3\u3001\u67e5\u8be2\u7279\u6743\u7528\u6237(uid=0)"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:"awk -F: '$3==0{print $1}' /etc/passwd"})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"4\u67e5\u8be2\u53ef\u4ee5\u8fdc\u7a0b\u767b\u5f55\u7684\u8d26\u53f7",children:"4\u3001\u67e5\u8be2\u53ef\u4ee5\u8fdc\u7a0b\u767b\u5f55\u7684\u8d26\u53f7"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:"awk '/\\$1|\\$6/{print $1}' /etc/shadow"})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"5\u5176\u4ed6\u8d26\u53f7\u662f\u5426\u62e5\u6709sudo\u6743\u9650",children:"5\u3001\u5176\u4ed6\u8d26\u53f7\u662f\u5426\u62e5\u6709sudo\u6743\u9650"}),"\n",(0,c.jsx)(e.p,{children:"\u5982\u975e\u7ba1\u7406\u9700\u8981\uff0c\u666e\u901a\u5e10\u53f7\u5e94\u5220\u9664sudo\u6743\u9650"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:'cat /etc/sudoers | grep -v "^#\\|^$" | grep "ALL=(ALL)"'})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"6\u516c\u79c1\u94a5\u514d\u5bc6\u767b\u9646",children:"6\u3001\u516c\u79c1\u94a5\u514d\u5bc6\u767b\u9646"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u67e5\u770b",(0,c.jsx)(e.code,{children:"/root/.ssh/authorized_keys"}),"\u662f\u5426\u88ab\u4fee\u6539"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"7\u767b\u9646\u65e5\u5fd7",children:"7\u3001\u767b\u9646\u65e5\u5fd7"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6ce8\u610f\uff1a","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,c.jsx)(e.code,{children:"ssh root@ip whoami"}),"\u8fd9\u79cd\u6267\u884c\u547d\u4ee4\u7684\uff0c\u662f\u6ca1\u6709\u767b\u9646\u65e5\u5fd7\u7684\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:"last"})," \u548c ",(0,c.jsx)(e.code,{children:"lastlog"}),"\uff08\u4e0d\u5efa\u8bae\uff0c",(0,c.jsx)(e.code,{children:"ssh -T root@127.0.0.1 /bin/bash -i"}),"\u53ef\u4ee5\u9690\u85cf\u8bb0\u5f55\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:["\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:'cat /var/log/secure | grep -E "Accepted|Failed"'}),"\uff08\u5efa\u8bae\uff09"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u4e8c\u5386\u53f2\u547d\u4ee4",children:"\u4e8c\u3001\u5386\u53f2\u547d\u4ee4"}),"\n",(0,c.jsx)(e.h3,{id:"1\u67e5\u770b\u7cfb\u7edf\u6267\u884c\u8fc7\u7684\u5386\u53f2\u547d\u4ee4",children:"1\u3001\u67e5\u770b\u7cfb\u7edf\u6267\u884c\u8fc7\u7684\u5386\u53f2\u547d\u4ee4"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u6267\u884c\u547d\u4ee4\uff1a",(0,c.jsx)(e.code,{children:"cat /root/.bash_history"}),"\u3001",(0,c.jsx)(e.code,{children:"cat /home/$USER/.bash_history"}),"\uff0c\u68c0\u67e5\u662f\u5426\u6709\u53ef\u7591\u7684\u547d\u4ee4\u64cd\u4f5c"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u4e09\u7aef\u53e3\u548c\u8fdb\u7a0b",children:"\u4e09\u3001\u7aef\u53e3\u548c\u8fdb\u7a0b"}),"\n",(0,c.jsx)(e.h3,{id:"1\u68c0\u67e5\u662f\u5426\u6709\u5f02\u5e38\u8fde\u63a5\u7684\u7aef\u53e3",children:"1\u3001\u68c0\u67e5\u662f\u5426\u6709\u5f02\u5e38\u8fde\u63a5\u7684\u7aef\u53e3"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6267\u884c\u547d\u4ee4",(0,c.jsx)(e.code,{children:"netstat -antlp | more"}),"\uff0c\u6839\u636e\u67e5\u8be2\u5230\u7684\u5efa\u7acb\u8fde\u63a5\u7684IP\uff0c\u53ef\u4ee5\u53bb\u5fae\u6b65\u4e0a\u67e5\u4e00\u4e0b\u662f\u5426\u4e3aC2"]}),"\n",(0,c.jsxs)(e.li,{children:["\u6839\u636e\u83b7\u53d6\u5230\u7684 ",(0,c.jsx)(e.code,{children:"pid"}),"\u6267\u884c ",(0,c.jsx)(e.code,{children:"ls -l /proc/$ PID/exe"})," \u6216 ",(0,c.jsx)(e.code,{children:"file /proc/$ PID/exe"}),"\uff08$PID \u4e3a\u5bf9\u5e94\u7684 pid \u53f7\uff09\uff0c\u770b\u4e00\u4e0b\u8def\u5f84\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201029233328339",src:l(95370).A+"",width:"2008",height:"1098"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u4e5f\u53ef\u901a\u8fc7",(0,c.jsx)(e.code,{children:"lsof -i:port"}),"\u6765\u67e5\u770b\u6240\u6709\u6253\u5f00\u6307\u5b9a\u7aef\u53e3\u7684\u8fdb\u7a0b"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201102083254336",src:l(70190).A+"",width:"2696",height:"348"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6839\u636e\u67e5\u8be2\u5230\u7684\u5efa\u7acb\u8fde\u63a5\u7684IP\uff0c\u53ef\u4ee5\u53bb",(0,c.jsx)(e.a,{href:"https://x.threatbook.com/",children:"\u5fae\u6b65"}),"\u4e0a\u67e5\u4e00\u4e0b\u662f\u5426\u4e3a\u5df2\u77e5C2"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"2\u68c0\u67e5\u5f02\u5e38\u8fdb\u7a0b",children:"2\u3001\u68c0\u67e5\u5f02\u5e38\u8fdb\u7a0b"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6ce8\u610f\u4e8b\u9879","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6ce8\u610f\u6709\u6ca1\u6709\u547d\u540d\u5947\u602a\u7684\u8fdb\u7a0b\uff0c\u5982\u4ee5",(0,c.jsx)(e.code,{children:".xxx"}),"\u5f00\u5934\u7684\u8fdb\u7a0b"]}),"\n",(0,c.jsx)(e.li,{children:"\u6ce8\u610f\u6709\u6ca1\u6709CPU\u5360\u7528\u6bd4\u8f83\u9ad8\u7684\u8fdb\u7a0b\u3002"}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"kill -9 PID"}),"\u540e\u662f\u5426\u91cd\u542f\u590d\u6d3b"]}),"\n",(0,c.jsxs)(e.li,{children:["\u547d\u540d\u4e3a",(0,c.jsx)(e.code,{children:"[xxx]"}),"\u7684\u4e0d\u4e00\u5b9a\u90fd\u662f\u6b63\u5e38\u7684\uff0c\u6bd4\u5982",(0,c.jsx)(e.code,{children:"[ksoftirqd/0]"}),"\uff0c\u53ef\u80fd\u662f\u88ab\u79cd\u5230\u5185\u6838\u4e86\uff0c\u53ef\u4ee5\u7528\u4e0b\u65b9\u7684",(0,c.jsx)(e.code,{children:"lsof"}),"\u6765\u8f85\u52a9\u5206\u6790"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6267\u884c\u547d\u4ee4",(0,c.jsx)(e.code,{children:"ps -auxwww"}),"\uff08\u5e38\u89c4\uff0c\u9488\u5bf9\u53ef\u89c1\u7684\u8fdb\u7a0b\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528\u5de5\u5177",(0,c.jsx)(e.a,{href:"http://www.unhide-forensics.info/",children:(0,c.jsx)(e.code,{children:"unhide"})}),"\uff08\u9488\u5bf9\u9690\u85cf\u7684\u8fdb\u7a0b\uff0c\u5982\u4f7f\u7528\u5de5\u5177",(0,c.jsx)(e.a,{href:"https://github.com/gianlucaborello/libprocesshider",children:(0,c.jsx)(e.code,{children:"libprocesshider"})}),"\u8fdb\u884c\u9690\u85cf\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"lsof -p PID"}),"\u53ef\u4ee5\u770b\u5230\u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\u548c\u8fde\u63a5\u72b6\u6001\uff0c",(0,c.jsx)(e.code,{children:"lsof -u user"}),"\u53ef\u4ee5\u770b\u5230user\u7528\u6237\u7684\u6240\u6709\u8fdb\u7a0b"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u56db\u5f00\u673a\u542f\u52a8\u9879\u8ba1\u5212\u4efb\u52a1\u670d\u52a1",children:"\u56db\u3001\u5f00\u673a\u542f\u52a8\u9879\u3001\u8ba1\u5212\u4efb\u52a1\u3001\u670d\u52a1"}),"\n",(0,c.jsx)(e.h3,{id:"1\u5f00\u673a\u542f\u52a8\u9879",children:"1\u3001\u5f00\u673a\u542f\u52a8\u9879"}),"\n",(0,c.jsx)(e.p,{children:"\u7cfb\u7edf\u8fd0\u884c\u7ea7\u522b\u793a\u610f\u56fe\uff1a"}),"\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{style:{textAlign:"center"},children:"\u8fd0\u884c\u7ea7\u522b"}),(0,c.jsx)(e.th,{style:{textAlign:"center"},children:"\u542b\u4e49"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"0"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u5173\u673a"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"1"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u5355\u7528\u6237\u6a21\u5f0f\uff0c\u53ef\u4ee5\u60f3\u8c61\u4e3awindows\u7684\u5b89\u5168\u6a21\u5f0f\uff0c\u4e3b\u8981\u7528\u4e8e\u7cfb\u7edf\u4fee\u590d"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"2"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u4e0d\u5b8c\u5168\u7684\u547d\u4ee4\u884c\u6a21\u5f0f\uff0c\u4e0d\u542bNFS\u670d\u52a1"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"3"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u5b8c\u5168\u7684\u547d\u4ee4\u884c\u6a21\u5f0f\uff0c\u5c31\u662f\u6807\u51c6\u5b57\u7b26\u754c\u9762"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"4"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u7cfb\u7edf\u4fdd\u7559"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"5"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u56fe\u5f62\u6a21\u5f0f"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"6"}),(0,c.jsx)(e.td,{style:{textAlign:"center"},children:"\u91cd\u542f\u52a8"})]})]})]}),"\n",(0,c.jsxs)(e.p,{children:["\u67e5\u770b\u8fd0\u884c\u7ea7\u522b\u547d\u4ee4 ",(0,c.jsx)(e.code,{children:"runlevel"})]}),"\n",(0,c.jsx)(e.p,{children:"\u7cfb\u7edf\u9ed8\u8ba4\u5141\u8bb8\u7ea7\u522b"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"vi  /etc/inittab\nid=3\uff1ainitdefault  #\u7cfb\u7edf\u5f00\u673a\u540e\u76f4\u63a5\u8fdb\u5165\u54ea\u4e2a\u8fd0\u884c\u7ea7\u522b\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u5f00\u673a\u542f\u52a8\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"/etc/rc.local\n/etc/rc.d/rc[0~6].d\n"})}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u4f8b\u5b50\uff1a"})," \u5f53\u6211\u4eec\u9700\u8981\u5f00\u673a\u542f\u52a8\u81ea\u5df1\u7684\u811a\u672c\u65f6\uff0c\u53ea\u9700\u8981\u5c06\u53ef\u6267\u884c\u811a\u672c\u4e22\u5728 ",(0,c.jsx)(e.code,{children:"/etc/init.d"})," \u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u5728 ",(0,c.jsx)(e.code,{children:"/etc/rc.d/rc*.d"})," \u6587\u4ef6\u4e2d\u5efa\u7acb\u8f6f\u94fe\u63a5\u5373\u53ef\u3002"]}),"\n",(0,c.jsx)(e.p,{children:"\u6ce8\uff1a\u6b64\u4e2d\u7684 * \u4ee3\u8868 0,1,2,3,4,5,6 \u8fd9\u4e03\u4e2a\u7b49\u7ea7"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"root@localhost ~]# ln -s /etc/init.d/sshd /etc/rc.d/rc3.d/S100ssh\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u6b64\u5904sshd\u662f\u5177\u4f53\u670d\u52a1\u7684\u811a\u672c\u6587\u4ef6\uff0cS100ssh\u662f\u5176\u8f6f\u94fe\u63a5\uff0cS\u5f00\u5934\u4ee3\u8868\u52a0\u8f7d\u65f6\u81ea\u542f\u52a8\uff1b\u5982\u679c\u662fK\u5f00\u5934\u7684\u811a\u672c\u6587\u4ef6\uff0c\u4ee3\u8868\u8fd0\u884c\u7ea7\u522b\u52a0\u8f7d\u65f6\u9700\u8981\u5173\u95ed\u7684\u3002"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\u68c0\u67e5\u542f\u52a8\u9879\u6587\u4ef6 ",(0,c.jsx)(e.code,{children:"/etc/rc.local"})," \u548c ",(0,c.jsx)(e.code,{children:"/etc/rc.d/rc[0~6].d/*"})]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"2\u8ba1\u5212\u4efb\u52a1",children:"2\u3001\u8ba1\u5212\u4efb\u52a1"}),"\n",(0,c.jsx)(e.p,{children:"(1)\u3001\u5229\u7528 crontab \u521b\u5efa\u8ba1\u5212\u4efb\u52a1"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:'crontab -l   \u5217\u51fa\u67d0\u4e2a\u7528\u6237cron\u670d\u52a1\u7684\u8be6\u7ec6\u5185\u5bb9\nTips\uff1a\u9ed8\u8ba4\u7f16\u5199\u7684crontab\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5728 (/var/spool/cron/\u7528\u6237\u540d \u4f8b\u5982: /var/spool/cron/root\n\ncrontab -r   \u5220\u9664\u6bcf\u4e2a\u7528\u6237cront\u4efb\u52a1(\u8c28\u614e\uff1a\u5220\u9664\u6240\u6709\u7684\u8ba1\u5212\u4efb\u52a1)\ncrontab -e   \u4f7f\u7528\u7f16\u8f91\u5668\u7f16\u8f91\u5f53\u524d\u7684crontab\u6587\u4ef6 \n\n\u5982\uff1a*/1 * * * * echo "hello world" >> /tmp/test.txt \u6bcf\u5206\u949f\u5199\u5165\u6587\u4ef6\n'})}),"\n",(0,c.jsx)(e.p,{children:"(2)\u3001\u5229\u7528 anacron \u547d\u4ee4\u5b9e\u73b0\u5f02\u6b65\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"\u6bcf\u5929\u8fd0\u884c /home/backup.sh \u811a\u672c\uff1a\nvi /etc/anacrontab \n@daily    10    example.daily   /bin/bash /home/backup.sh\n\u5f53\u673a\u5668\u5728 backup.sh \u671f\u671b\u88ab\u8fd0\u884c\u65f6\u662f\u5173\u673a\u7684\uff0canacron\u4f1a\u5728\u673a\u5668\u5f00\u673a\u5341\u5206\u949f\u4e4b\u540e\u8fd0\u884c\u5b83\uff0c\u800c\u4e0d\u7528\u518d\u7b49\u5f85 7\u5929\u3002\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u68c0\u67e5\u65b9\u6cd5\uff1a\u68c0\u67e5\u5982\u4e0b\u76ee\u5f55\u7684\u5185\u5bb9\u4e2d\uff0c\u662f\u5426\u5305\u542b\u6076\u610f\u7684\u811a\u672c"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"more /var/spool/cron/* \n/var/spool/anacron/*\n/etc/crontab\n/etc/cron.d/*\n/etc/cron.daily/* \n/etc/cron.hourly/* \n/etc/cron.monthly/*\n/etc/cron.weekly/\n/etc/anacrontab\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u53cd\u89e3cron\u8868\u8fbe\u5f0f"}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://crontab.guru/",children:"https://crontab.guru/"})}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://qqe2.com/dev/cron",children:"https://qqe2.com/dev/cron"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"3\u670d\u52a1",children:"3\u3001\u670d\u52a1"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u670d\u52a1\u81ea\u542f\u52a8","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u7b2c\u4e00\u79cd\u4fee\u6539\u65b9\u6cd5\uff1a"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-c",children:"chkconfig \u2013add httpd   // \u589e\u52a0httpd\u670d\u52a1\nchkconfig \u2013del httpd    // \u5220\u9664httpd\u670d\u52a1\nchkconfig [--level \u8fd0\u884c\u7ea7\u522b] [\u72ec\u7acb\u670d\u52a1\u540d] [on|off]\nchkconfig \u2013level  2345 httpd on  \u5f00\u542f\u81ea\u542f\u52a8\nchkconfig httpd on \uff08\u9ed8\u8ba4level\u662f2345\uff09\n    \n/*\n\u8fd0\u884c\u7ea7\u522b0\uff1a\u7cfb\u7edf\u505c\u673a\u72b6\u6001\n\u8fd0\u884c\u7ea7\u522b1\uff1a\u5355\u7528\u6237\u5de5\u4f5c\u72b6\u6001\n\u8fd0\u884c\u7ea7\u522b2\uff1a\u591a\u7528\u6237\u72b6\u6001(\u6ca1\u6709NFS)\n\u8fd0\u884c\u7ea7\u522b3\uff1a\u5b8c\u5168\u7684\u591a\u7528\u6237\u72b6\u6001(\u6709NFS)\uff0c\u767b\u9646\u540e\u8fdb\u5165\u63a7\u5236\u53f0\u547d\u4ee4\u884c\u6a21\u5f0f\n\u8fd0\u884c\u7ea7\u522b4\uff1a\u7cfb\u7edf\u672a\u4f7f\u7528\uff0c\u4fdd\u7559\n\u8fd0\u884c\u7ea7\u522b5\uff1aX11\u63a7\u5236\u53f0\uff0c\u767b\u9646\u540e\u8fdb\u5165\u56fe\u5f62GUI\u6a21\u5f0f\n\u8fd0\u884c\u7ea7\u522b6\uff1a\u7cfb\u7edf\u6b63\u5e38\u5173\u95ed\u5e76\u91cd\u542f\n*/\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u7b2c\u4e8c\u79cd\u4fee\u6539\u65b9\u6cd5\uff1a"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u52a0\u5165\u5f00\u673a\u542f\u52a8\u9879\nvim /etc/re.d/rc.local  # /etc/rc.local\n# \u52a0\u5165\n/etc/init.d/httpd start\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u7b2c\u4e09\u79cd\u4fee\u6539\u65b9\u6cd5\uff1a"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,c.jsx)(e.code,{children:"ntsysv"}),"(RedHat\u5404\u4e2a\u53d1\u884c\u7248\u548cCentOS\u5404\u4e2a\u7248\u672c\u81ea\u5e26\uff0c\u4ea4\u4e92\u754c\u9762) \u547d\u4ee4\u7ba1\u7406\u81ea\u542f\u52a8\u3002"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201030144856509",src:l(1718).A+"",width:"1916",height:"1092"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u68c0\u67e5\u65b9\u6cd5\uff1a\na\u3001\u67e5\u770b\u670d\u52a1\u81ea\u542f\u52a8\u72b6\u6001\uff0c\u6267\u884c\u547d\u4ee4 ",(0,c.jsx)(e.code,{children:"chkconfig --list"}),"\uff08RPM\u5305\u5b89\u88c5\u7684\u670d\u52a1\uff0cUbuntu\u6ca1\u6709\u8fd9\u547d\u4ee4\uff09\nb\u3001\u67e5\u770b\u5b89\u88c5\u4e86\u54ea\u4e9b\u670d\u52a1 ",(0,c.jsx)(e.code,{children:"ls -la /etc/init.d"}),"\u3001",(0,c.jsx)(e.code,{children:"ls -la /etc/rc.d/init.d"}),"\nc\u3001\u67e5\u770b\u670d\u52a1\u7684\u72b6\u6001 ",(0,c.jsx)(e.code,{children:"service --status-all"})]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u4e94\u7cfb\u7edf\u4fe1\u606f",children:"\u4e94\u3001\u7cfb\u7edf\u4fe1\u606f"}),"\n",(0,c.jsx)(e.h3,{id:"1\u53ef\u7591\u7684\u76ee\u5f55\u548c\u6587\u4ef6",children:"1\u3001\u53ef\u7591\u7684\u76ee\u5f55\u548c\u6587\u4ef6"}),"\n",(0,c.jsx)(e.p,{children:"\u68c0\u67e5\u65b9\u6cd5\uff1a"}),"\n",(0,c.jsxs)(e.p,{children:["a\u3001\u68c0\u67e5\u654f\u611f\u76ee\u5f55\uff0c\u5982",(0,c.jsx)(e.code,{children:"/tmp"}),"\u3001",(0,c.jsx)(e.code,{children:"/var/tmp"}),"\u3001",(0,c.jsx)(e.code,{children:"/usr/tmp"}),"\u7b49\uff1b"]}),"\n",(0,c.jsxs)(e.p,{children:["b\u3001\u4f7f\u7528 ",(0,c.jsx)(e.a,{href:"https://www.cnblogs.com/klb561/p/10924399.html",children:(0,c.jsx)(e.code,{children:"find"})})," \u67e5\u627e\u6700\u8fd1\u4fee\u6539\u8fc7\u7684\u6587\u4ef6\uff1b"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u67e5\u627e60\u5206\u949f\u5185\u5185\u5bb9\u4fee\u6539\u7684\u6587\u4ef6\nfind ./ -name '*' -mmin -60 # +60\u8868\u793a60\u5206\u949f\u4e4b\u524d\u4fee\u6539\u8fc7\u7684\n\n# \u67e5\u627e24\u5c0f\u65f6\u5185\u5185\u5bb9\u4fee\u6539\u7684\u6587\u4ef6\nfind ./ -name \"*\" -mtime 0\n\n# \u67e5\u627e48\u5c0f\u65f6\u5185\u72b6\u6001\u4fee\u6539\u7684\u6587\u4ef6\nfind ./ -ctime -2\n\n# \u67e5\u627e 2022-10-24 - 2022-11-26 \u95f4\u4fee\u6539\u8fc7\u7684\u6587\u4ef6\nfind ./ -type f -newermt 2022-10-24 ! -newermt 2022-11-26\n\n-amin n \u67e5\u627en\u5206\u949f\u4ee5\u524d\u88ab\u8bbf\u95ee\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-atime n \u67e5\u627en\u5929\u4ee5\u524d\u88ab\u8bbf\u95ee\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-cmin n \u67e5\u627en\u5206\u949f\u4ee5\u524d\u6587\u4ef6\u72b6\u6001\u88ab\u4fee\u6539\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-ctime n \u67e5\u627en\u5929\u4ee5\u524d\u6587\u4ef6\u72b6\u6001\u88ab\u4fee\u6539\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-mmin n \u67e5\u627en\u5206\u949f\u4ee5\u524d\u6587\u4ef6\u5185\u5bb9\u88ab\u4fee\u6539\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-mtime n \u67e5\u627en\u5929\u4ee5\u524d\u6587\u4ef6\u5185\u5bb9\u88ab\u4fee\u6539\u8fc7\u7684\u6240\u6709\u6587\u4ef6\u3002\n-print\uff1a\u5c06\u641c\u7d22\u7ed3\u679c\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u3002 # \n"})}),"\n",(0,c.jsxs)(e.p,{children:["c\u3001\u4f7f\u7528",(0,c.jsx)(e.code,{children:"find"}),"\u67e5\u627e\u6307\u5b9a\u65f6\u95f4\u6bb5\u5185\u4fee\u6539\u7684\u6587\u4ef6"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"touch -t 10301500 file1\ntouch -t 10301600 file2\nfind ./ -newer file1 ! -newer file2 # \u5217\u51fa\u6bd4file\u65b0\u4f46\u662f\u6bd4file2\u65e7\u7684\u6587\u4ef6\n"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201101110332918",src:l(81143).A+"",width:"1694",height:"1578"})}),"\n",(0,c.jsxs)(e.p,{children:["d\u3001\u4f7f\u7528",(0,c.jsx)(e.code,{children:"find"}),"\u67e5\u627e\u7279\u6b8a\u6743\u9650\u7684\u6587\u4ef6"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'find / -name ".*" -perm 4777 # \u9632\u6b62suid\u63d0\u6743\nfind / -perm /4000 # \u9632\u6b62suid\u63d0\u6743\nfind / -uid 1001    # \u627e\u51fauid\u4e3a1001\u7684\u7528\u6237\u7684\u6587\u4ef6\n'})}),"\n",(0,c.jsxs)(e.p,{children:["e\u3001\u67e5\u627e\u9996\u5b57\u7b26\u4e3a",(0,c.jsx)(e.code,{children:"."}),"\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u5982\u679c",(0,c.jsx)(e.code,{children:"rm -rf"}),"\u4e0d\u80fd\u5220\u9664\uff0c\u53ef\u80fd\u662f\u4f7f\u7528",(0,c.jsx)(e.code,{children:"chattr +i"}),"\u9501\u5b9a\u4e86\uff0c\u53ea\u9700\u8981",(0,c.jsx)(e.code,{children:"chattr -i \u6587\u4ef6"}),"\u7136\u540e",(0,c.jsx)(e.code,{children:"rm -rf "}),"\u5220\u9664\u5373\u53ef"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'find ./ -name ".*"\n'})}),"\n",(0,c.jsxs)(e.p,{children:["f\u3001\u53ef\u7591\u6587\u4ef6\u53ef\u80fd\u88ab",(0,c.jsx)(e.code,{children:"touch"}),"\u547d\u4ee4\u4fee\u6539\u8fc7\u6587\u4ef6\u65f6\u95f4\u6765\u6df7\u6dc6\uff0c\u53ef\u7528",(0,c.jsx)(e.code,{children:"stat"}),"\u547d\u4ee4\u6765\u786e\u8ba4\u3002"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201030152244194",src:l(31604).A+"",width:"1536",height:"836"})}),"\n",(0,c.jsx)(e.h3,{id:"2\u7cfb\u7edf\u73af\u5883\u53d8\u91cf",children:"2\u3001\u7cfb\u7edf\u73af\u5883\u53d8\u91cf"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5206\u6790\u6709\u65e0\u654f\u611f\u53ef\u7591\u4fe1\u606f"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"echo $PATH\nset\ncat ~/.bashrc\n"})}),"\n",(0,c.jsx)(e.h3,{id:"3\u547d\u4ee4\u88ab\u66ff\u6362\u6392\u67e5",children:"3\u3001\u547d\u4ee4\u88ab\u66ff\u6362\u6392\u67e5"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u901a\u5e38\u88ab\u66ff\u6362\u7684\u7a0b\u5e8f\u6709login\u3001ls\u3001ps\u3001ifconfig\u3001du\u3001find\u3001netstat\u3001ss\u7b49\u3002\u6267\u884c\u4e00\u4e9b\u547d\u4ee4\u53c2\u6570\uff0c\u67e5\u770b\u7a0b\u5e8f\u662f\u5426\u88ab\u66ff\u6362\u3002"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"ls -lath\nnetstat -antlp\n"})}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"\u901a\u8fc7\u68c0\u67e5md5sum\u548c\u6587\u4ef6\u5927\u5c0f\uff0c\u5224\u65ad\u662f\u5426\u88ab\u66ff\u6362\uff08\u4e0d\u9002\u7528Ubuntu\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Ubuntu\u7248\u672c\u4e0d\u4e00\u6837\uff0cmd5\u4e5f\u4e0d\u4e00\u6837"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"Ubuntu",src:l(18912).A+"",width:"2802",height:"332"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"CentOS\u7248\u672c\u4e0d\u4e00\u6837\uff0c\u4f46\u8ba1\u7b97\u51fa\u7684md5\u4e00\u6837"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201031165305151",src:l(28680).A+"",width:"2884",height:"250"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u6309\u65f6\u95f4\u6392\u5e8f\u67e5\u770b\u4e8c\u8fdb\u5236\u547d\u4ee4\u76ee\u5f55\u5217\u8868\uff0c\u67e5\u770b\u662f\u5426\u6709\u4fee\u6539\u7684\u75d5\u8ff9"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201102083618534",src:l(51090).A+"",width:"2204",height:"572"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20201102083749269",src:l(31334).A+"",width:"1474",height:"560"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"CentOS\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u4e0b\u65b9\u7684\u201cRPM check\u201d\uff0c\u4e0d\u8fc7\u4f5c\u7528\u4e0d\u662f\u5f88\u5927"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"4\u5f02\u5e38\u6d41\u91cf",children:"4\u3001\u5f02\u5e38\u6d41\u91cf"}),"\n",(0,c.jsx)(e.p,{children:"\u540e\u95e8\u4e0d\u4e00\u5b9a\u4f1a\u662fTCP\u7684\uff0c\u53ef\u80fd\u662f\u8d70\u7684\u5176\u4ed6\u534f\u8bae\u6bd4\u5982DNS\u540e\u95e8"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-shell",children:"# \u6355\u83b7DNS\u548cICMP\u7684\u6d41\u91cf\ntcpdump -i eth0 'icmp or (udp port 53)'\n"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.img,{alt:"image-20240711\u4e0b\u534882008330",src:l(98504).A+"",width:"3126",height:"1922"})}),"\n",(0,c.jsx)(e.h2,{id:"\u516d\u81ea\u52a8\u5316\u67e5\u6740",children:"\u516d\u3001\u81ea\u52a8\u5316\u67e5\u6740"}),"\n",(0,c.jsx)(e.h3,{id:"1rootkit\u67e5\u6740",children:"1\u3001Rootkit\u67e5\u6740"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["chkrootkit\n\u7f51\u5740\uff1a",(0,c.jsx)(e.a,{href:"http://www.chkrootkit.org",children:"http://www.chkrootkit.org"})]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u4f7f\u7528\u65b9\u6cd5\uff1a\nwget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz\ntar zxvf chkrootkit.tar.gz\ncd chkrootkit-0.52\nmake sense\n#\u7f16\u8bd1\u5b8c\u6210\u6ca1\u6709\u62a5\u9519\u7684\u8bdd\u6267\u884c\u68c0\u67e5\n./chkrootkit\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"rkhunter"}),"\n",(0,c.jsxs)(e.p,{children:["\u7f51\u5740\uff1a",(0,c.jsx)(e.a,{href:"http://rkhunter.sourceforge.net",children:"http://rkhunter.sourceforge.net"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u4f7f\u7528\u65b9\u6cd5\uff1a\nwget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter-1.4.4.tar.gz\ntar -zxvf rkhunter-1.4.4.tar.gz\ncd rkhunter-1.4.4\n./installer.sh --install\nrkhunter -c\n"})}),"\n",(0,c.jsx)(e.h3,{id:"2\u75c5\u6bd2\u67e5\u6740",children:"2\u3001\u75c5\u6bd2\u67e5\u6740"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:"Clamav"}),"\n",(0,c.jsxs)(e.p,{children:["\u7f51\u5740\uff1a",(0,c.jsx)(e.a,{href:"http://www.clamav.net/download.html",children:"http://www.clamav.net/download.html"})]}),"\n",(0,c.jsx)(e.p,{children:"\u5b89\u88c5\u65b9\u5f0f\u4e00\uff1a"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'#\u5b89\u88c5 zlib\uff1a\nwget http://nchc.dl.sourceforge.net/project/libpng/zlib/1.2.7/zlib-1.2.7.tar.gz \ntar -zxvf  zlib-1.2.7.tar.gz\ncd zlib-1.2.7\n#\u5b89\u88c5\u4e00\u4e0bgcc\u7f16\u8bd1\u73af\u5883\uff1a yum install gcc\nCFLAGS="-O3 -fPIC" ./configure --prefix= /usr/local/zlib/\nmake && make install\n\n#2\u3001\u6dfb\u52a0\u7528\u6237\u7ec4 clamav \u548c\u7ec4\u6210\u5458 clamav\uff1a\ngroupadd clamav\nuseradd -g clamav -s /bin/false -c "Clam AntiVirus" clamav\n\n#3\u3001\u5b89\u88c5 Clamav\ntar \u2013zxvf clamav-0.97.6.tar.gz\ncd clamav-0.97.6\n./configure --prefix=/opt/clamav --disable-clamav -with-zlib=/usr/local/zlib\nmake\nmake install\n\n#4\u3001\u914d\u7f6e Clamav\nmkdir /opt/clamav/logs\nmkdir /opt/clamav/updata\ntouch /opt/clamav/logs/freshclam.log\ntouch /opt/clamav/logs/clamd.log\ncd /opt/clamav/logs\nchown clamav:clamav clamd.log\nchown clamav:clamav freshclam.log\n\n#5\u3001ClamAV \u4f7f\u7528\uff1a\n/opt/clamav/bin/freshclam \u5347\u7ea7\u75c5\u6bd2\u5e93\n./clamscan \u2013h \u67e5\u770b\u76f8\u5e94\u7684\u5e2e\u52a9\u4fe1\u606f\n./clamscan -r /home  \u626b\u63cf\u6240\u6709\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u5c31\u4f7f\u7528\n./clamscan -r --bell -i /bin  \u626b\u63cfbin\u76ee\u5f55\u5e76\u4e14\u663e\u793a\u6709\u95ee\u9898\u7684\u6587\u4ef6\u7684\u626b\u63cf\u7ed3\u679c\n'})}),"\n",(0,c.jsx)(e.p,{children:"\u5b89\u88c5\u65b9\u5f0f\u4e8c\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"#\u5b89\u88c5\nyum install -y clamav\n#\u66f4\u65b0\u75c5\u6bd2\u5e93\nfreshclam\n#\u626b\u63cf\u65b9\u6cd5\nclamscan -r /etc --max-dir-recursion=5 -l /root/etcclamav.log\nclamscan -r /bin --max-dir-recursion=5 -l /root/binclamav.log\nclamscan -r /usr --max-dir-recursion=5 -l /root/usrclamav.log\n#\u626b\u63cf\u5e76\u6740\u6bd2\nclamscan -r  --remove  /usr/bin/bsd-port\nclamscan -r  --remove  /usr/bin/\nclamscan -r --remove  /usr/local/zabbix/sbin\n#\u67e5\u770b\u65e5\u5fd7\u53d1\u73b0\ncat /root/usrclamav.log |grep FOUND\n"})}),"\n",(0,c.jsx)(e.h3,{id:"3rpm-check-\u68c0\u67e5\u4e0d\u9002\u7528ubuntu",children:"3\u3001RPM check \u68c0\u67e5\uff08\u4e0d\u9002\u7528Ubuntu\uff09"}),"\n",(0,c.jsxs)(e.p,{children:["\u7cfb\u7edf\u5b8c\u6574\u6027\u53ef\u4ee5\u901a\u8fc7rpm\u81ea\u5e26\u7684-Va\u6765\u6821\u9a8c\u68c0\u67e5\u6240\u6709\u7684",(0,c.jsx)(e.strong,{children:"rpm\u8f6f\u4ef6\u5305"}),"\uff0c\u67e5\u770b\u54ea\u4e9b\u547d\u4ee4\u662f\u5426\u88ab\u66ff\u6362\u4e86\uff0c\u9632\u6b62rpm\u4e5f\u88ab\u66ff\u6362,\u4e0a\u4f20\u4e00\u4e2a\u5b89\u5168\u5e72\u51c0\u7a33\u5b9a\u7248\u672crpm\u4e8c\u8fdb\u5236\u5230\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u68c0\u67e5"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"./rpm -Va > rpm.log\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u5982\u679c\u4e00\u5207\u5747\u6821\u9a8c\u6b63\u5e38\u5c06\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa\uff0c\u5982\u679c\u6709\u4e0d\u4e00\u81f4\u7684\u5730\u65b9\uff0c\u5c31\u4f1a\u663e\u793a\u51fa\u6765\uff0c\u8f93\u51fa\u683c\u5f0f\u662f8\u4f4d\u957f\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5b57\u7b26\u90fd\u7528\u4ee5\u8868\u793a\u6587\u4ef6\u4e0eRPM\u6570\u636e\u5e93\u4e2d\u4e00\u79cd\u5c5e\u6027\u7684\u6bd4\u8f83\u7ed3\u679c \uff0c\u5982\u679c\u662f. (\u70b9) \u5219\u8868\u793a\u6d4b\u8bd5\u901a\u8fc7\u3002"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"\u9a8c\u8bc1\u5185\u5bb9\u4e2d\u76848\u4e2a\u4fe1\u606f\u7684\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a\n        S         \u6587\u4ef6\u5927\u5c0f\u662f\u5426\u6539\u53d8\n        M         \u6587\u4ef6\u7684\u7c7b\u578b\u6216\u6587\u4ef6\u7684\u6743\u9650\uff08rwx\uff09\u662f\u5426\u88ab\u6539\u53d8\n        5         \u6587\u4ef6MD5\u6821\u9a8c\u662f\u5426\u6539\u53d8\uff08\u53ef\u4ee5\u770b\u6210\u6587\u4ef6\u5185\u5bb9\u662f\u5426\u6539\u53d8\uff09\n        D         \u8bbe\u5907\u4e2d\uff0c\u4ece\u4ee3\u7801\u662f\u5426\u6539\u53d8\n        L         \u6587\u4ef6\u8def\u5f84\u662f\u5426\u6539\u53d8\n        U         \u6587\u4ef6\u7684\u5c5e\u4e3b\uff08\u6240\u6709\u8005\uff09\u662f\u5426\u6539\u53d8\n        G         \u6587\u4ef6\u7684\u5c5e\u7ec4\u662f\u5426\u6539\u53d8\n        T         \u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u662f\u5426\u6539\u53d8\n\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u5982\u679c\u547d\u4ee4\u88ab\u66ff\u6362\u4e86\uff0c\u5982\u679c\u8fd8\u539f\u56de\u6765\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"\u6587\u4ef6\u63d0\u53d6\u8fd8\u539f\u6848\u4f8b\uff1a\nrpm  -qf /bin/ls  \u67e5\u8be2 ls \u547d\u4ee4\u5c5e\u4e8e\u54ea\u4e2a\u8f6f\u4ef6\u5305\nmv  /bin/ls /tmp  \u5148\u628a ls \u8f6c\u79fb\u5230 tmp \u76ee\u5f55\u4e0b\uff0c\u9020\u6210 ls \u547d\u4ee4\u4e22\u5931\u7684\u5047\u8c61\nrpm2cpio /mnt/cdrom/Packages/coreutils-8.4-19.el6.i686.rpm | cpio -idv ./bin/ls \u63d0\u53d6 rpm \u5305\u4e2d ls \u547d\u4ee4\u5230\u5f53\u524d\u76ee\u5f55\u7684 /bin/ls \u4e0b\ncp /root/bin/ls  /bin/ \u628a ls \u547d\u4ee4\u590d\u5236\u5230 /bin/ \u76ee\u5f55 \u4fee\u590d\u6587\u4ef6\u4e22\u5931\n\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u4e03github\u4f18\u79c0\u811a\u672c",children:"\u4e03\u3001Github\u4f18\u79c0\u811a\u672c"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/al0ne/LinuxCheck",children:"https://github.com/al0ne/LinuxCheck"}),"(\u4e00\u4e2alinux\u4fe1\u606f\u641c\u96c6\u5c0f\u811a\u672c \u4e3b\u8981\u7528\u4e8e\u5e94\u6025\u54cd\u5e94\uff0c\u5728Debian\u6216Centos\u4e0b\u90fd\u53ef\u4f7f\u7528)"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/grayddq/GScan",children:"https://github.com/grayddq/GScan"}),"(\u672c\u7a0b\u5e8f\u65e8\u5728\u4e3a\u5b89\u5168\u5e94\u6025\u54cd\u5e94\u4eba\u5458\u5bf9Linux\u4e3b\u673a\u6392\u67e5\u65f6\u63d0\u4f9b\u4fbf\u5229\uff0c\u5b9e\u73b0\u4e3b\u673a\u4fa7Checklist\u7684\u81ea\u52a8\u5168\u9762\u5316\u68c0\u6d4b\uff0c\u6839\u636e\u68c0\u6d4b\u7ed3\u679c\u81ea\u52a8\u6570\u636e\u805a\u5408\uff0c\u8fdb\u884c\u9ed1\u5ba2\u653b\u51fb\u8def\u5f84\u6eaf\u6e90\u3002)"]}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(a,{...n})}):a(n)}},95370:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20201029233328339-33b4a8a7dfb7bb6a2f54da101d109974.png"},98504:(n,e,l)=>{l.d(e,{A:()=>s});const s=l.p+"assets/images/image-20240711\u4e0b\u534882008330-91f474959a945927e74efb6e464ed2ac.png"}}]);