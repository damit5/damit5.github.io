"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[67],{28453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>d});var o=s(96540);const i={},t=o.createContext(i);function c(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),o.createElement(t.Provider,{value:e},n.children)}},96846:(n,e,s)=>{s.d(e,{A:()=>o});const o=s.p+"assets/images/image-20230501\u4e0a\u5348113608693-2b409d373a68ebbc79e7b82feb8c97ff.png"},97199:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"\u6682\u672a\u5206\u7c7b/GIT/gitbook/gitbook\u63d2\u4ef6\u7b80\u6613\u7f16\u5199","title":"gitbook\u63d2\u4ef6\u7b80\u6613\u7f16\u5199","description":"\u524d\u8a00","source":"@site/docs/99.\u6682\u672a\u5206\u7c7b/02.GIT/01.gitbook/02.gitbook\u63d2\u4ef6\u7b80\u6613\u7f16\u5199.md","sourceDirName":"99.\u6682\u672a\u5206\u7c7b/02.GIT/01.gitbook","slug":"/\u6682\u672a\u5206\u7c7b/GIT/gitbook/gitbook\u63d2\u4ef6\u7b80\u6613\u7f16\u5199","permalink":"/docs/\u6682\u672a\u5206\u7c7b/GIT/gitbook/gitbook\u63d2\u4ef6\u7b80\u6613\u7f16\u5199","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"gitbook\u5b89\u88c5\u4e0e\u4f7f\u7528","permalink":"/docs/\u6682\u672a\u5206\u7c7b/GIT/gitbook/gitbook\u5b89\u88c5\u4e0e\u4f7f\u7528"},"next":{"title":"gitlab","permalink":"/docs/category/gitlab"}}');var i=s(74848),t=s(28453);const c={},d=void 0,l={},r=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u8fc7\u7a0b",id:"\u8fc7\u7a0b",level:2},{value:"\u521b\u5efanpm\u9879\u76ee",id:"\u521b\u5efanpm\u9879\u76ee",level:3},{value:"\u4fee\u6539package.json",id:"\u4fee\u6539packagejson",level:3},{value:"\u521b\u5efaindex.js\u76f8\u5173",id:"\u521b\u5efaindexjs\u76f8\u5173",level:3},{value:"\u5f15\u5165\u63d2\u4ef6",id:"\u5f15\u5165\u63d2\u4ef6",level:3},{value:"\u6d4b\u8bd5\u6548\u679c",id:"\u6d4b\u8bd5\u6548\u679c",level:2}];function a(n){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,i.jsx)(e.p,{children:"\u6709\u65b0\u7684\u9700\u6c42\uff0c\u4f46\u662f\u53c8\u6ca1\u6709\u5bf9\u5e94\u7684\u63d2\u4ef6\uff0c\u6240\u4ee5\u4e34\u65f6\u7b80\u5355\u5b66\u4e86\u4e00\u4e0b\uff0c\u600e\u4e48\u5feb\u901f\u4e0a\u624b\u7f16\u5199\u4e00\u4e2agitbook\u63d2\u4ef6\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u8fc7\u7a0b",children:"\u8fc7\u7a0b"}),"\n",(0,i.jsx)(e.h3,{id:"\u521b\u5efanpm\u9879\u76ee",children:"\u521b\u5efanpm\u9879\u76ee"}),"\n",(0,i.jsxs)(e.p,{children:["\u5728",(0,i.jsx)(e.code,{children:"node_modules"}),"\u76ee\u5f55\u4e0b\u521b\u5efa\u8be5\u76ee\u5f55"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"# \u5fc5\u987b\u8981 gitbook-plugin \u5f00\u5934\nmkdir gitbook-plugin-d4test\ncd gitbook-plugin-d4test\nnpm init -y\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd0\u884c\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u751f\u6210",(0,i.jsx)(e.code,{children:"package.json"}),"\u6587\u4ef6"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4fee\u6539packagejson",children:"\u4fee\u6539package.json"}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "gitbook-plugin-d4test",\n  "version": "1.0.0",\n  "description": "",\n  "main": "index.js",\n  "engines": {\n    "gitbook": ">1.x.x"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC"\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u521b\u5efaindexjs\u76f8\u5173",children:"\u521b\u5efaindex.js\u76f8\u5173"}),"\n",(0,i.jsxs)(e.p,{children:["\u521b\u5efa",(0,i.jsx)(e.code,{children:"index.js"}),"\uff0c\u5e76\u5199\u5165\u5185\u5bb9"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"module.exports = {\n  // \u7ed9gitbook\u6ce8\u5165\u81ea\u5b9a\u4e49\u7684css\u548cjs\u6587\u4ef6\n  website: {\n    assets: './assets',\n    js: [\n      'plugins.js'\n    ],\n    css: [\n      ''\n    ]\n  },\n  // Map of hooks \u4e00\u4e9b\u94a9\u5b50\u51fd\u6570\n  hooks: {},\n\n    // Map of new blocks\n  blocks: {},\n\n  // Map of new filters\n  filters: {}\n};\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u6839\u636e\u4e0a\u8ff0\u7684\u5185\u5bb9\uff0c\u521b\u5efa",(0,i.jsx)(e.code,{children:"assets"}),"\u76ee\u5f55\uff0c\u76ee\u5f55\u4e2d\u521b\u5efa",(0,i.jsx)(e.code,{children:"plugins.js"}),"\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:".\n\u251c\u2500\u2500 assets\n\u2502\xa0\xa0 \u2514\u2500\u2500 plugins.js\n\u251c\u2500\u2500 index.js\n\u2514\u2500\u2500 package.json\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u7f16\u5199",(0,i.jsx)(e.code,{children:"plugins.js"}),"\u5185\u5bb9\u5982\u4e0b\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u5728",(0,i.jsx)(e.code,{children:"<head>"}),"\u6807\u7b7e\u4e2d\u6dfb\u52a0\u4e00\u4e2aGoogle\u5e7f\u544a\u7684JS\uff0c\u5176\u4e2d\u7684\u5e7f\u544aToken\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u4f20\u5165\u3002"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u91cc\u7684",(0,i.jsx)(e.code,{children:"plugins.js"}),"\u5c31\u662f\u6838\u5fc3\u5185\u5bb9\uff0c\u6307\u5b9a\u4e86\u5982\u4f55\u64cd\u4f5c"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:'require(["gitbook"], function(gitbook) {\n\n    // start\u4e8b\u4ef6\n    gitbook.events.bind("start", function(e, pluginConfig) {\n        // \u62ff\u5230\u914d\u7f6e\u6587\u4ef6\n        var config = pluginConfig.d4test || {};\n        console.log(pluginConfig);\n        // token\u4e0d\u4e3a\u7a7a\n        if (!config.token) {\n            throw "Need to option \'token\' for Google ads plugin";\n        }\n        // \u83b7\u53d6<head>\u6807\u7b7e\n        const head = document.getElementsByTagName(\'head\')[0];\n        // \u521b\u5efa<script>\u5143\u7d20\n        let script = document.createElement(\'script\');\n        script.async = true;\n        script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=" + config.token;\n        script.crossOrigin = "anonymous";\n\n        // \u5c06<script>\u5143\u7d20\u6dfb\u52a0\u5230<head>\u6807\u7b7e\u4e2d\n        head.appendChild(script);\n    });\n\n    // page.change\u4e8b\u4ef6\n    gitbook.events.bind("page.change", function() {\n        console.log("test");\n    });\n\n});\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u81f3\u6b64\u63d2\u4ef6\u5c31\u5b8c\u6210\u4e86\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u5f15\u5165\u63d2\u4ef6",children:"\u5f15\u5165\u63d2\u4ef6"}),"\n",(0,i.jsxs)(e.p,{children:["\u5728",(0,i.jsx)(e.code,{children:"book.js"}),"\u4e2d\u5f15\u5165\u63d2\u4ef6\uff0c\u5e76\u914d\u7f6e\u5373\u53ef"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'    {\n        "title" : "d4m1ts \u77e5\u8bc6\u5e93",\n        "author" : "d4m1ts",\n        "description" : "\u4e2a\u4eba\u7684\u90e8\u5206\u77e5\u8bc6\u6280\u80fd\uff0c\u503e\u5411\u4e8e\u4f7f\u7528\u77e5\u8bc6\u5e93\u7684\u65b9\u5f0f\u8fdb\u884c\u603b\u7ed3\u56de\u987e\u81ea\u5df1",\n        "theme-default": {\n            "showLevel": true\n        },\n        "plugins": [\n            "d4test"\n        ],\n\n        "pluginsConfig": {\n            "d4test": {\n                "token": "ca-pub-9261110029983076"\n            }\n        }\n    }\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u5f15\u5165\u540e",(0,i.jsx)(e.code,{children:"gitbook serve"})," \u5373\u53ef"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6d4b\u8bd5\u6548\u679c",children:"\u6d4b\u8bd5\u6548\u679c"}),"\n",(0,i.jsx)(e.p,{children:"\u6bcf\u4e2a\u7f51\u7ad9\u7684head\u6807\u7b7e\u4e2d\u90fd\u52a0\u5165\u4e86\u5bf9\u5e94\u7684JS\u811a\u672c\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"effect",src:s(96846).A+"",width:"2242",height:"126"})})]})}function g(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}}}]);