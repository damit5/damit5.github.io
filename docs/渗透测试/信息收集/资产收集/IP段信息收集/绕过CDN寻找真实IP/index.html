<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">绕过CDN寻找真实IP | d4m1ts 知识库</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://blog.gm7.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://blog.gm7.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="绕过CDN寻找真实IP | d4m1ts 知识库"><meta data-rh="true" name="description" content="判断是否存在CDN"><meta data-rh="true" property="og:description" content="判断是否存在CDN"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP"><link data-rh="true" rel="alternate" href="https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0LMFVYF6KV-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"渗透测试","item":"https://blog.gm7.org/docs/渗透测试/"},{"@type":"ListItem","position":2,"name":"IP段信息收集","item":"https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/"},{"@type":"ListItem","position":3,"name":"绕过CDN寻找真实IP","item":"https://blog.gm7.org/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="d4m1ts 知识库 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="d4m1ts 知识库 Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="d4m1ts 知识库" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.933499b4.css">
<script src="/assets/js/runtime~main.4c121756.js" defer="defer"></script>
<script src="/assets/js/main.5f81c564.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">知识库</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/damit5/damit5.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/渗透测试/">渗透测试</a><button aria-label="折叠侧边栏分类 &#x27;渗透测试&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/主域名收集/">信息收集</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/主域名收集/">资产收集</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/主域名收集/">主域名收集</a><button aria-label="展开侧边栏分类 &#x27;主域名收集&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/子域名收集/">子域名收集</a><button aria-label="展开侧边栏分类 &#x27;子域名收集&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/">IP段信息收集</a><button aria-label="折叠侧边栏分类 &#x27;IP段信息收集&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/绕过CDN寻找真实IP">绕过CDN寻找真实IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/IP段查询">IP段查询</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/网络空间搜索引擎">网络空间搜索引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/C段扫描工具">C段扫描工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/组合工具">组合工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/浏览器插件">浏览器插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/端口对应渗透（端口渗透备忘录）">端口对应渗透（端口渗透备忘录）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/IP反查域名">IP反查域名</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/信息收集/资产收集/其他应用收集/">其他应用收集</a><button aria-label="展开侧边栏分类 &#x27;其他应用收集&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/渗透测试/信息收集/指纹识别/CMS识别/">指纹识别</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/敏感信息收集">敏感信息收集</a><button aria-label="展开侧边栏分类 &#x27;敏感信息收集&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/WEB漏洞/">WEB漏洞</a><button aria-label="展开侧边栏分类 &#x27;WEB漏洞&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/思路技巧">思路技巧</a><button aria-label="展开侧边栏分类 &#x27;思路技巧&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/权限维持/">权限维持</a><button aria-label="展开侧边栏分类 &#x27;权限维持&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/小程序测试">小程序测试</a><button aria-label="展开侧边栏分类 &#x27;小程序测试&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/保护自己">保护自己</a><button aria-label="展开侧边栏分类 &#x27;保护自己&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/waf绕过">WAF绕过</a><button aria-label="展开侧边栏分类 &#x27;WAF绕过&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/攻防演练/">攻防演练</a><button aria-label="展开侧边栏分类 &#x27;攻防演练&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/渗透测试/社工钓鱼/">社工钓鱼</a><button aria-label="展开侧边栏分类 &#x27;社工钓鱼&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/category/cs">C2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/category/powershell">免杀</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/category/内网基础知识">内网渗透</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/基础知识扫盲">基础知识扫盲</a><button aria-label="展开侧边栏分类 &#x27;基础知识扫盲&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/代码审计/">代码审计</a><button aria-label="展开侧边栏分类 &#x27;代码审计&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/编程开发/GO/GO基础/">编程开发</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/category/前置基础知识">移动安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/应急响应/简介/">应急响应</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/category/日常使用">AI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/暂未分类/自建网盘/h5ai/">暂未分类</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/致谢">致谢</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/更新日志">更新日志</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/渗透测试/"><span>渗透测试</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">信息收集</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">资产收集</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/"><span>IP段信息收集</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">绕过CDN寻找真实IP</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>绕过CDN寻找真实IP</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="判断是否存在cdn">判断是否存在CDN<a href="#判断是否存在cdn" class="hash-link" aria-label="判断是否存在CDN的直接链接" title="判断是否存在CDN的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://img.shields.io/badge/d4m1ts-2019-ff751a?logo=Ethereum&amp;logoColor=3C3C3D&amp;labelColor=bfbfbf" alt="d4m1ts_2019" class="img_ev3q"> <img decoding="async" loading="lazy" src="https://img.shields.io/badge/d4m1ts-2021-ff751a?logo=Ethereum&amp;logoColor=3C3C3D&amp;labelColor=bfbfbf" alt="d4m1ts_2021" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="多地ping">多地ping<a href="#多地ping" class="hash-link" aria-label="多地ping的直接链接" title="多地ping的直接链接">​</a></h3>
<p>如果没有使用CDN，则只会显示一个IP地址。</p>
<p>可以使用以下站点进行多地ping，</p>
<ul>
<li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener noreferrer">http://ping.chinaz.com/</a></li>
<li><a href="https://ping.aizhan.com/" target="_blank" rel="noopener noreferrer">https://ping.aizhan.com/</a></li>
<li><a href="http://www.webkaka.com/Ping.aspx" target="_blank" rel="noopener noreferrer">http://www.webkaka.com/Ping.aspx</a></li>
<li><a href="https://www.host-tracker.com/v3/check/" target="_blank" rel="noopener noreferrer">https://www.host-tracker.com/v3/check/</a></li>
</ul>
<p>如图则不存在CDN <img decoding="async" loading="lazy" alt="image-20210831202610139" src="/assets/images/image-20210831202610139-061b08736024c8d9bbfc24bf5fb17aad.png" width="1848" height="804" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nslookup法">nslookup法<a href="#nslookup法" class="hash-link" aria-label="nslookup法的直接链接" title="nslookup法的直接链接">​</a></h3>
<blockquote>
<p>用国外的dns服务器</p>
</blockquote>
<ul>
<li>如果返回域名解析对应多个 IP 地址多半是使用了 CDN</li>
<li><code>nslookup -qt=A h5.hunbei.com 8.8.8.8</code> 用国外的可能会得到真实IP</li>
</ul>
<p>不存在：</p>
<p><img decoding="async" loading="lazy" alt="image-20210831112235864" src="/assets/images/image-20210831112235864-659c541ca7e9717bd1fce7e81645e221.png" width="1140" height="338" class="img_ev3q"></p>
<p>存在：</p>
<p><img decoding="async" loading="lazy" alt="image-20210831113703368" src="/assets/images/image-20210831113703368-c1c443315d965abf6de201a0c416fad6.png" width="1198" height="430" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ip反查域名">IP反查域名<a href="#ip反查域名" class="hash-link" aria-label="IP反查域名的直接链接" title="IP反查域名的直接链接">​</a></h3>
<p>查看是否存在大量不相关的IP</p>
<ul>
<li><a href="https://securitytrails.com/" target="_blank" rel="noopener noreferrer">https://securitytrails.com/</a></li>
<li><a href="https://dns.aizhan.com/" target="_blank" rel="noopener noreferrer">https://dns.aizhan.com/</a></li>
<li><a href="https://x.threatbook.cn" target="_blank" rel="noopener noreferrer">https://x.threatbook.cn</a></li>
</ul>
<p>如下图可以看出来是使用了CDN</p>
<p><img decoding="async" loading="lazy" alt="image-20210901091223568" src="/assets/images/image-20210901091223568-559414356a111dd718e54ca424b3b431.png" width="2300" height="1500" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="观察header">观察header<a href="#观察header" class="hash-link" aria-label="观察header的直接链接" title="观察header的直接链接">​</a></h3>
<ul>
<li>观察请求响应的返回数据的头部，是否有 CDN 服务商标识</li>
<li>若 asp 或者 asp.net 网站返回头的 server 不是 IIS、而是 Nginx，则多半使用了nginx反向代理到 CDN</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20210901093608312" src="/assets/images/image-20210901093608312-56a4c14adee0e9f53f370dc3aed755ef.png" width="1528" height="244" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="在线检测工具">在线检测工具<a href="#在线检测工具" class="hash-link" aria-label="在线检测工具的直接链接" title="在线检测工具的直接链接">​</a></h3>
<ul>
<li><a href="https://www.cdnplanet.com/tools/cdnfinder/" target="_blank" rel="noopener noreferrer">https://www.cdnplanet.com/tools/cdnfinder/</a></li>
<li><a href="https://tools.ipip.net/cdn.php" target="_blank" rel="noopener noreferrer">https://tools.ipip.net/cdn.php</a></li>
<li><a href="https://whatsmycdn.com/" target="_blank" rel="noopener noreferrer">https://whatsmycdn.com/</a></li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20210901094139643" src="/assets/images/image-20210901094139643-c58e16d0308faf799b86ba907413ebc7.png" width="2002" height="1454" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="寻找真实ip">寻找真实IP<a href="#寻找真实ip" class="hash-link" aria-label="寻找真实IP的直接链接" title="寻找真实IP的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="网络空间测绘引擎">网络空间测绘引擎<a href="#网络空间测绘引擎" class="hash-link" aria-label="网络空间测绘引擎的直接链接" title="网络空间测绘引擎的直接链接">​</a></h3>
<p>zoomeye、fofa等，搜索站点相关信息，有一定几率能够获取到站点的真实IP</p>
<ul>
<li><a href="https://fofa.so/" target="_blank" rel="noopener noreferrer">fofa</a></li>
<li><a href="https://www.shodan.io/" target="_blank" rel="noopener noreferrer">shodan</a></li>
<li><a href="https://quake.360.cn/quake/#/index" target="_blank" rel="noopener noreferrer">quake</a></li>
<li><a href="https://censys.io/" target="_blank" rel="noopener noreferrer">Censys.io</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="二级域名法">二级域名法<a href="#二级域名法" class="hash-link" aria-label="二级域名法的直接链接" title="二级域名法的直接链接">​</a></h3>
<p>由于部分CDN价格昂贵，所以一些重要的站点会使用CDN加速，而一些子域名则没有使用，且极有可能和主站在同一C段，这时候，就可以通过发现目标的子域名，从而根据IP来定位主域名的IP地址。</p>
<ul>
<li><a href="https://github.com/shmilylty/OneForAll" target="_blank" rel="noopener noreferrer">oneforall</a></li>
<li><a href="https://github.com/knownsec/ksubdomain" target="_blank" rel="noopener noreferrer">ksubdomain</a></li>
<li><a href="https://github.com/p1g3/JSINFO-SCAN" target="_blank" rel="noopener noreferrer">Jsinfo-scan</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="邮箱">邮箱<a href="#邮箱" class="hash-link" aria-label="邮箱的直接链接" title="邮箱的直接链接">​</a></h3>
<blockquote>
<p>用目标邮件服务器发送邮件给自己(QQ邮箱)再查看邮件源码一定情况下可以找到真实IP（服务端和我们建立连接）</p>
</blockquote>
<blockquote>
<p>这里还有一个<code>奇淫技巧</code>，通过发送邮件给一个不存在的邮箱地址，比如 <a href="mailto:000xxx@domain.com" target="_blank" rel="noopener noreferrer">000xxx@domain.com</a> ，因为该用户不存在，所以发送将失败，并且还会收到一个包含发送该电子邮件给你的服务器的真实 IP 通知。</p>
</blockquote>
<ul>
<li>RSS 订阅</li>
<li>邮箱注册、激活处</li>
<li>邮箱找回密码处</li>
<li>产品更新的邮件推送</li>
<li>某业务执行后发送的邮件通知</li>
<li>员工邮箱、邮件管理平台等入口处的忘记密码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="海外ping">海外ping<a href="#海外ping" class="hash-link" aria-label="海外ping的直接链接" title="海外ping的直接链接">​</a></h3>
<p>由于国内厂家可能只针对国内使用cdn，对海外没有铺设，导致通过通过海外的IP可以直接获取到真实IP。</p>
<p>可以使用：</p>
<ul>
<li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener noreferrer">http://ping.chinaz.com/</a></li>
<li><a href="https://asm.ca.com/zh_cn/ping.php" target="_blank" rel="noopener noreferrer">https://asm.ca.com/zh_cn/ping.php</a></li>
<li><a href="http://host-tracker.com/" target="_blank" rel="noopener noreferrer">http://host-tracker.com/</a></li>
<li><a href="http://www.webpagetest.org/" target="_blank" rel="noopener noreferrer">http://www.webpagetest.org/</a></li>
<li><a href="https://dnscheck.pingdom.com/" target="_blank" rel="noopener noreferrer">https://dnscheck.pingdom.com/</a></li>
</ul>
<p>进行查询</p>
<p><img decoding="async" loading="lazy" alt="image-20210901100541926" src="/assets/images/image-20210901100541926-f34e3d3ccfb9d8e60010d3c6a145a623.png" width="1946" height="834" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dns历史解析记录">DNS历史解析记录<a href="#dns历史解析记录" class="hash-link" aria-label="DNS历史解析记录的直接链接" title="DNS历史解析记录的直接链接">​</a></h3>
<ul>
<li><a href="https://dnsdb.io/zh-cn/" target="_blank" rel="noopener noreferrer">https://dnsdb.io/zh-cn/</a></li>
<li><a href="https://securitytrails.com/dns-trails" target="_blank" rel="noopener noreferrer">https://securitytrails.com/dns-trails</a></li>
<li><a href="https://x.threatbook.cn/" target="_blank" rel="noopener noreferrer">https://x.threatbook.cn/</a></li>
<li><a href="http://toolbar.netcraft.com/site_report?url=" target="_blank" rel="noopener noreferrer">http://toolbar.netcraft.com/site_report?url=</a></li>
<li><a href="https://viewdns.info/iphistory/?domain=" target="_blank" rel="noopener noreferrer">https://viewdns.info/iphistory/?domain=</a></li>
</ul>
<p>以微步在线为例</p>
<p>找到站点</p>
<p><img decoding="async" loading="lazy" alt="image-20210901095527356" src="/assets/images/image-20210901095527356-6e202b49cb85154788567d284da5678a.png" width="680" height="192" class="img_ev3q"></p>
<p>判断存在CDN</p>
<p><img decoding="async" loading="lazy" alt="image-20210901095537130" src="/assets/images/image-20210901095537130-3b46007f2bbebd6a5e1c054071f63cb2.png" width="1066" height="244" class="img_ev3q"></p>
<p>微步查询</p>
<p><img decoding="async" loading="lazy" alt="image-20210901095550022" src="/assets/images/image-20210901095550022-47df42b380dccee8bee4b10c52dc9d06.png" width="1022" height="480" class="img_ev3q"></p>
<p>确认为真实IP</p>
<p><img decoding="async" loading="lazy" alt="image-20210901095559956" src="/assets/images/image-20210901095559956-ff5918f72b74d9f7f95305188365e1f7.png" width="1048" height="272" class="img_ev3q"></p>
<p>这些很有可能就是在使用CDN之前留下的解析记录</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssl证书">SSL证书<a href="#ssl证书" class="hash-link" aria-label="SSL证书的直接链接" title="SSL证书的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="在线">在线<a href="#在线" class="hash-link" aria-label="在线的直接链接" title="在线的直接链接">​</a></h4>
<ul>
<li><a href="https://censys.io/certificates?q=parsed.names.raw%3A+%22baidu.cn%22+and+tags.raw%3A+trusted" target="_blank" rel="noopener noreferrer">https://censys.io/certificates?q=parsed.names.raw%3A+%22baidu.cn%22+and+tags.raw%3A+trusted</a></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查询有效的证书</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Certificates: parsed.names.raw: &quot;baidu.cn&quot; and tags.raw: trusted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 注意</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试过程中，很容易陷入思维误区，认为 有效 的证书才是我们需要的，但其实并不一定，很多服务器配置错误依然保留的是 无效 的证书</span><br></span></code></pre></div></div>
<p>sha1 签名反查IPV4</p>
<p><img decoding="async" loading="lazy" alt="image-20210223153534665" src="/assets/images/image-20210223153534665-290720f741797ab2b8259c93a2a01560.png" width="2986" height="2104" class="img_ev3q"></p>
<ul>
<li><a href="https://crt.sh/" target="_blank" rel="noopener noreferrer">https://crt.sh/</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="命令行工具">命令行工具<a href="#命令行工具" class="hash-link" aria-label="命令行工具的直接链接" title="命令行工具的直接链接">​</a></h4>
<ul>
<li>openssl</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client -connect hao123.com:443 | grep subject</span><br></span></code></pre></div></div>
<ul>
<li>curl</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v https://hao123.com | grep &#x27;subject&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="敏感文件泄漏">敏感文件泄漏<a href="#敏感文件泄漏" class="hash-link" aria-label="敏感文件泄漏的直接链接" title="敏感文件泄漏的直接链接">​</a></h3>
<ul>
<li>服务器日志文件</li>
<li>探针文件，例如 phpinfo</li>
<li>网站备份压缩文件</li>
<li>.DS_Store</li>
<li>.hg</li>
<li>.git</li>
<li>SVN</li>
<li>Web.xml</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="历史域名">历史域名<a href="#历史域名" class="hash-link" aria-label="历史域名的直接链接" title="历史域名的直接链接">​</a></h3>
<ul>
<li>很多网站在发展的过程中，会更换域名，比如京东以前的域名是 360buy.com ，后来斥巨资购买了 jd.com 。</li>
<li>网站在更换新域名时，如果将 CDN 部署到新的域名上，而之前的域名由于没过期，可能未使用 CDN，因此可以直接获得服务器 IP，所以，历史域名也是一个很重要的点。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-xml-rpc-pingback-通信">通过 XML-RPC PINGBACK 通信<a href="#通过-xml-rpc-pingback-通信" class="hash-link" aria-label="通过 XML-RPC PINGBACK 通信的直接链接" title="通过 XML-RPC PINGBACK 通信的直接链接">​</a></h3>
<ul>
<li>XML-RPC 是支持 WordPress 与其他系统之间通信的规范，它通过使用 HTTP 作为传输机制和 XML 作为编码机制来标准化这些通信过程。</li>
<li>在 WordPress 的早期版本中，默认情况下已关闭 XML-RPC，但是从3.5版本开始，默认情况下开启。</li>
<li>XML-RPC 支持 trackback 和 pingback。</li>
<li>虽然 WordPress 启用了 REST API 来代替 XML-RPC ，不过 XML-RPX 不会过时的，放心大胆的使用就好，虽然 XML-RPC 这个技术很老了，但依然可以通杀很多网站。</li>
</ul>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /xmlrpc.php HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host: domain.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: max-age=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Upgrade-Insecure-Requests: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept-Encoding: gzip, deflate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept-Language: en,zh-CN;q=0.9,zh;q=0.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection: close</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Length: 323</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;methodCall&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;methodName&gt;pingback.ping&lt;/methodName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;params&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;&lt;string&gt;http://2vbis4.dnslog.cn&lt;/string&gt;&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;&lt;string&gt;https://domain.com/&lt;/string&gt;&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/params&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/methodCall&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="app">APP<a href="#app" class="hash-link" aria-label="APP的直接链接" title="APP的直接链接">​</a></h3>
<ul>
<li>目标若存在APP，则APP可能通过IP直接与服务端进行通信，若最新版采用域名通信，也可尝试寻找历史版本进行分析。</li>
</ul>
<blockquote>
<p>历史版本宝贝一般很多</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="漏洞">漏洞<a href="#漏洞" class="hash-link" aria-label="漏洞的直接链接" title="漏洞的直接链接">​</a></h3>
<ul>
<li>如果目标网站本身存在漏洞的话，比如 SSRF、XXE、XSS、文件上传、命令执行等漏洞，或者我们找到的其他突破口，注入我们自己的带外服务器地址，然后在服务器上检查 HTTP 日志记录。</li>
<li>应用本身的错误会造成当传递一些错误的参数值或者错误的地址时，内部会抛出异常，也就是日常所说的报错，关注报错点，经常会泄露一些真实的 IP 地址或者内网 IP 段。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-virtual-host-碰撞">通过 virtual-host 碰撞<a href="#通过-virtual-host-碰撞" class="hash-link" aria-label="通过 virtual-host 碰撞的直接链接" title="通过 virtual-host 碰撞的直接链接">​</a></h3>
<ul>
<li>当我们收集了目标足够多的可能的真实 IP 时，可以通过 IP 和子域的碰撞，来批量获得命中目标以及目标哪些的子域。</li>
<li>在线收集工具 <a href="https://pentest-tools.com/information-gathering/find-virtual-hosts#" target="_blank" rel="noopener noreferrer">https://pentest-tools.com/information-gathering/find-virtual-hosts#</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-faviconico-哈希特征">通过 favicon.ico 哈希特征<a href="#通过-faviconico-哈希特征" class="hash-link" aria-label="通过 favicon.ico 哈希特征的直接链接" title="通过 favicon.ico 哈希特征的直接链接">​</a></h3>
<ul>
<li>favicon.ico 是现代浏览器在网页标题的左侧显示的一个小图标。</li>
<li>该图标数据通常是从 <a href="https://anywebsite/favicon.ico" target="_blank" rel="noopener noreferrer">https://anywebsite/favicon.ico</a> 处获取的，浏览器会在浏览任何网站时自动请求它。</li>
<li>因为可以通过计算 favicon.ico 的指纹哈希，然后去 shodan 等搜索引擎搜索与之相同的主机结果，从而进一步探测是否能挖掘出目标网站的真实 IP 地址。</li>
<li>目前网络空间搜索引擎均支持</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20210901100622559" src="/assets/images/image-20210901100622559-f6c70f0b66d667a0d09f9e3772035dee.png" width="2478" height="762" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过网页源码特征值">通过网页源码特征值<a href="#通过网页源码特征值" class="hash-link" aria-label="通过网页源码特征值的直接链接" title="通过网页源码特征值的直接链接">​</a></h3>
<ul>
<li>在服务器源 IP 地址允许访问并且返回的也是类似的网站内容情况下，可以通过侦察页面源码中 JS 、CSS 、HTML 等一系列静态特征值，然后用 Shodan 、Zoomeye 、Censys 等搜索引擎进行匹配搜索，从而定位 IP 。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过域名备案信息广域探测成功率高">通过域名备案信息广域探测（成功率高）<a href="#通过域名备案信息广域探测成功率高" class="hash-link" aria-label="通过域名备案信息广域探测（成功率高）的直接链接" title="通过域名备案信息广域探测（成功率高）的直接链接">​</a></h3>
<ul>
<li>针对目标域名，目标二级域名，如果都做了 CDN 的情况下，是不是就思路中断了呢？</li>
<li>肯定不是。这里分享一个很少有人去关注的独门秘技。</li>
<li>网站需要服务器，但是再土豪的公司，也不可能一个域名一台服务器，大多数情况下，都是多个域名业务，共用一台服务器。</li>
<li>那么如果目标网站存在备案，可以查询其备案信息，收集该单位或者个人备案的其他网站域名以及其他子域，然后再进行一轮广域的探测，很有可能其中的某个边缘子域，没有做 CDN，就直接暴露了真实服务器的 IP 地址，然后再进一步验证该 IP 是否也是目标网站的真实 IP 。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="找到真实-ip-后如何使用">找到真实 IP 后如何使用<a href="#找到真实-ip-后如何使用" class="hash-link" aria-label="找到真实 IP 后如何使用的直接链接" title="找到真实 IP 后如何使用的直接链接">​</a></h2>
<p>在获取到真实IP后，通过直接访问IP可能无法访问，那么此时提供2种思路进行解决</p>
<ul>
<li>通过修改 hosts 文件，将域名和 IP 绑定。（要是不会，不建议阅读此文。）</li>
<li>如使用 burpsuite 测试，可以在 Project options ----&gt; Connections ----&gt; Hostname Resolution 中增加域名和 IP 记录。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20210901100807514" src="/assets/images/image-20210901100807514-134ec252d33cb7c2c56dba5aa29e3370.png" width="3582" height="1988" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2>
<ol>
<li><a href="https://github.com/bin-maker/2021CDN/blob/main/CDN%202021%20%E5%AE%8C%E5%85%A8%E6%94%BB%E5%87%BB%E6%8C%87%E5%8D%97%EF%BC%88%E4%B8%80%EF%BC%89.md" target="_blank" rel="noopener noreferrer">https://github.com/bin-maker/2021CDN/blob/main/CDN%202021%20%E5%AE%8C%E5%85%A8%E6%94%BB%E5%87%BB%E6%8C%87%E5%8D%97%EF%BC%88%E4%B8%80%EF%BC%89.md</a></li>
<li><a href="https://www.anquanke.com/post/id/227818" target="_blank" rel="noopener noreferrer">https://www.anquanke.com/post/id/227818</a></li>
<li><a href="https://www.anquanke.com/post/id/231437" target="_blank" rel="noopener noreferrer">https://www.anquanke.com/post/id/231437</a></li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>d4m1ts</b> <!-- -->于 <b><time datetime="2025-06-14T04:13:25.000Z" itemprop="dateModified">2025年6月14日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">IP段信息收集</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/渗透测试/信息收集/资产收集/IP段信息收集/IP段查询"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">IP段查询</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#判断是否存在cdn" class="table-of-contents__link toc-highlight">判断是否存在CDN</a><ul><li><a href="#多地ping" class="table-of-contents__link toc-highlight">多地ping</a></li><li><a href="#nslookup法" class="table-of-contents__link toc-highlight">nslookup法</a></li><li><a href="#ip反查域名" class="table-of-contents__link toc-highlight">IP反查域名</a></li><li><a href="#观察header" class="table-of-contents__link toc-highlight">观察header</a></li><li><a href="#在线检测工具" class="table-of-contents__link toc-highlight">在线检测工具</a></li></ul></li><li><a href="#寻找真实ip" class="table-of-contents__link toc-highlight">寻找真实IP</a><ul><li><a href="#网络空间测绘引擎" class="table-of-contents__link toc-highlight">网络空间测绘引擎</a></li><li><a href="#二级域名法" class="table-of-contents__link toc-highlight">二级域名法</a></li><li><a href="#邮箱" class="table-of-contents__link toc-highlight">邮箱</a></li><li><a href="#海外ping" class="table-of-contents__link toc-highlight">海外ping</a></li><li><a href="#dns历史解析记录" class="table-of-contents__link toc-highlight">DNS历史解析记录</a></li><li><a href="#ssl证书" class="table-of-contents__link toc-highlight">SSL证书</a><ul><li><a href="#在线" class="table-of-contents__link toc-highlight">在线</a></li><li><a href="#命令行工具" class="table-of-contents__link toc-highlight">命令行工具</a></li></ul></li><li><a href="#敏感文件泄漏" class="table-of-contents__link toc-highlight">敏感文件泄漏</a></li><li><a href="#历史域名" class="table-of-contents__link toc-highlight">历史域名</a></li><li><a href="#通过-xml-rpc-pingback-通信" class="table-of-contents__link toc-highlight">通过 XML-RPC PINGBACK 通信</a></li><li><a href="#app" class="table-of-contents__link toc-highlight">APP</a></li><li><a href="#漏洞" class="table-of-contents__link toc-highlight">漏洞</a></li><li><a href="#通过-virtual-host-碰撞" class="table-of-contents__link toc-highlight">通过 virtual-host 碰撞</a></li><li><a href="#通过-faviconico-哈希特征" class="table-of-contents__link toc-highlight">通过 favicon.ico 哈希特征</a></li><li><a href="#通过网页源码特征值" class="table-of-contents__link toc-highlight">通过网页源码特征值</a></li><li><a href="#通过域名备案信息广域探测成功率高" class="table-of-contents__link toc-highlight">通过域名备案信息广域探测（成功率高）</a></li></ul></li><li><a href="#找到真实-ip-后如何使用" class="table-of-contents__link toc-highlight">找到真实 IP 后如何使用</a></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">内容导航</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/friends">友情链接</a></li><li class="footer__item"><a class="footer__link-item" href="/promotions">我的推广</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">实用工具</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://markdown.gm7.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">在线Markdown<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rshell.gm7.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reverse Shell Generator<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://gtfobins.gm7.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GTFOBins<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">关注我</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/damit5/damit5.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:admin@gm7.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">联系我<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 d4m1ts 知识库</div></div></div></footer></div>
</body>
</html>