"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[2048],{28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>r});var l=n(96540);const i={},d=l.createContext(i);function c(e){const s=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(d.Provider,{value:s},e.children)}},34580:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>r,default:()=>x,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"\u6e17\u900f\u6d4b\u8bd5/\u793e\u5de5\u9493\u9c7c/\u9493\u9c7c\u73af\u5883\u642d\u5efa","title":"\u9493\u9c7c\u73af\u5883\u642d\u5efa","description":"\u8bf4\u660e","source":"@site/docs/01.\u6e17\u900f\u6d4b\u8bd5/09.\u793e\u5de5\u9493\u9c7c/01.\u9493\u9c7c\u73af\u5883\u642d\u5efa.md","sourceDirName":"01.\u6e17\u900f\u6d4b\u8bd5/09.\u793e\u5de5\u9493\u9c7c","slug":"/\u6e17\u900f\u6d4b\u8bd5/\u793e\u5de5\u9493\u9c7c/\u9493\u9c7c\u73af\u5883\u642d\u5efa","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/\u793e\u5de5\u9493\u9c7c/\u9493\u9c7c\u73af\u5883\u642d\u5efa","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u9493\u9c7c\u8bdd\u672f\u6574\u7406","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/\u793e\u5de5\u9493\u9c7c/\u9493\u9c7c\u8bdd\u672f\u6574\u7406"},"next":{"title":"\u5feb\u901f\u4f2a\u9020\u9493\u9c7c\u7ad9\u70b9","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/\u793e\u5de5\u9493\u9c7c/\u5feb\u901f\u4f2a\u9020\u9493\u9c7c\u7ad9\u70b9"}}');var i=n(74848),d=n(28453);const c={},r=void 0,h={},t=[{value:"\u8bf4\u660e",id:"\u8bf4\u660e",level:2},{value:"\u90ae\u4ef6\u670d\u52a1\u5668\uff1aEwoMail",id:"\u90ae\u4ef6\u670d\u52a1\u5668ewomail",level:2},{value:"\u4e0b\u8f7d\u955c\u50cf",id:"\u4e0b\u8f7d\u955c\u50cf",level:3},{value:"\u7f16\u5199\u5feb\u901f\u542f\u52a8\u6587\u4ef6",id:"\u7f16\u5199\u5feb\u901f\u542f\u52a8\u6587\u4ef6",level:3},{value:"\u53ef\u914d\u7f6e\u53c2\u6570",id:"\u53ef\u914d\u7f6e\u53c2\u6570",level:4},{value:"\u542f\u52a8\u955c\u50cf",id:"\u542f\u52a8\u955c\u50cf",level:3},{value:"\u914d\u7f6eDNS",id:"\u914d\u7f6edns",level:3},{value:"\u914d\u7f6e\u90ae\u7bb1",id:"\u914d\u7f6e\u90ae\u7bb1",level:3},{value:"\u7279\u522b\u6ce8\u610f\u26a0\ufe0f",id:"\u7279\u522b\u6ce8\u610f\ufe0f",level:3},{value:"\u90ae\u4ef6\u53d1\u4e0d\u51fa\u53bb",id:"\u90ae\u4ef6\u53d1\u4e0d\u51fa\u53bb",level:4},{value:"\u4e0d\u80fd\u4f2a\u9020From",id:"\u4e0d\u80fd\u4f2a\u9020from",level:4},{value:"\u90ae\u4ef6\u81ea\u52a8\u91cd\u53d1",id:"\u90ae\u4ef6\u81ea\u52a8\u91cd\u53d1",level:4},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:3},{value:"\u9493\u9c7c\u5e73\u53f0\uff1agophish",id:"\u9493\u9c7c\u5e73\u53f0gophish",level:2},{value:"\u4e0b\u8f7d\u955c\u50cf",id:"\u4e0b\u8f7d\u955c\u50cf-1",level:3},{value:"\u542f\u52a8\u955c\u50cf",id:"\u542f\u52a8\u955c\u50cf-1",level:3},{value:"\u767b\u9646\u7cfb\u7edf",id:"\u767b\u9646\u7cfb\u7edf",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:3},{value:"\u6548\u679c",id:"\u6548\u679c",level:3},{value:"\u7279\u522b\u6ce8\u610f\u26a0\ufe0f",id:"\u7279\u522b\u6ce8\u610f\ufe0f-1",level:3},{value:"\u6355\u83b7\u4e0d\u5230\u63d0\u4ea4\u7684\u6570\u636e",id:"\u6355\u83b7\u4e0d\u5230\u63d0\u4ea4\u7684\u6570\u636e",level:4},{value:"\u6355\u83b7\u6570\u636e\u4e0d\u9f50\u5168",id:"\u6355\u83b7\u6570\u636e\u4e0d\u9f50\u5168",level:4},{value:"\u5bc6\u7801\u88ab\u52a0\u5bc6",id:"\u5bc6\u7801\u88ab\u52a0\u5bc6",level:4}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"\u8bf4\u660e",children:"\u8bf4\u660e"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u4e3b\u8981\u5206\u4e24\u6b65"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"1\u662f\u90e8\u7f72\u90ae\u4ef6\u670d\u52a1\u5668\uff08\u5df2\u7ecf\u6709\u90ae\u4ef6\u670d\u52a1\u5668\u6216\u8005\u6709\u76f8\u5173\u7684\u8d26\u53f7\u53ef\u4ee5\u76f4\u63a5\u4ece\u7b2c\u4e8c\u6b65\u5f00\u59cb\uff09"}),"\n",(0,i.jsx)(s.li,{children:"2\u662f\u90e8\u7f72\u9493\u9c7c\u5e73\u53f0"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u4e3a\u4e86\u5b89\u5168\u3001\u7b80\u5355\u3001\u65b9\u4fbf\uff0c\u6211\u6bd4\u8f83\u559c\u6b22\u7528docker\uff0c\u6240\u4ee5\u4e0b\u6587\u80fd\u7528docker\u7684\u6211\u90fd\u7528docker\u4e86"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\u90ae\u4ef6\u670d\u52a1\u5668ewomail",children:"\u90ae\u4ef6\u670d\u52a1\u5668\uff1aEwoMail"}),"\n",(0,i.jsx)(s.h3,{id:"\u4e0b\u8f7d\u955c\u50cf",children:"\u4e0b\u8f7d\u955c\u50cf"}),"\n",(0,i.jsxs)(s.p,{children:["EwoMail\u5f00\u6e90\u4f01\u4e1a\u90ae\u4ef6\u7cfb\u7edf\uff0c\u5148\u4ece",(0,i.jsx)(s.a,{href:"https://hub.docker.com/r/bestwu/ewomail",children:"docker pull"}),"\u4e0b\u6765"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker pull bestwu/ewomail\n"})}),"\n",(0,i.jsx)(s.h3,{id:"\u7f16\u5199\u5feb\u901f\u542f\u52a8\u6587\u4ef6",children:"\u7f16\u5199\u5feb\u901f\u542f\u52a8\u6587\u4ef6"}),"\n",(0,i.jsxs)(s.p,{children:["\u521b\u5efa",(0,i.jsx)(s.code,{children:"docker-compose.yml"}),"\u6587\u4ef6\u5e76\u5199\u5165\u5982\u4e0b\u5185\u5bb9\uff0c\u9700\u8981\u7ed9",(0,i.jsx)(s.code,{children:"mail.dvwatest.xyz"}),"\u66ff\u6362\u6210\u81ea\u5df1\u7684\u57df\u540d"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:'service:\n  mail:\n    image: bestwu/ewomail\n    hostname: mail.dvwatest.xyz\n    container_name: ewomail\n    restart: always\n    ports:\n      - "25:25"\n      - "143:143"\n      - "587:587"\n      - "993:993"\n      - "109:109"\n      - "110:110"\n      - "465:465"\n      - "995:995"\n      - "127.0.0.1:8002:80"\n      - "8001:8080"\n    volumes:\n      - ./mysql:/ewomail/mysql/data\n      - ./vmail:/ewomail/mail\n      - ./rainloop:/ewomail/www/rainloop/data\n      - ./ssl/certs/:/etc/ssl/certs/\n      - ./ssl/private/:/etc/ssl/private/\n      - ./ssl/dkim/:/ewomail/dkim/\n'})}),"\n",(0,i.jsx)(s.h4,{id:"\u53ef\u914d\u7f6e\u53c2\u6570",children:"\u53ef\u914d\u7f6e\u53c2\u6570"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"MYSQL_ROOT_PASSWORD mysql\u6570\u636e\u5e93root\u5bc6\u7801\uff0c\u9ed8\u8ba4\uff1amysql"}),"\n",(0,i.jsx)(s.li,{children:"MYSQL_MAIL_PASSWORD mysql\u6570\u636e\u5e93ewomail\u5bc6\u7801\uff0c\u9ed8\u8ba4\uff1a123456"}),"\n",(0,i.jsx)(s.li,{children:"URL \u7f51\u7ad9\u94fe\u63a5\uff0c\u540e\u9762\u4e0d\u8981\u52a0/\u7ebf"}),"\n",(0,i.jsx)(s.li,{children:"WEBMAIL_URL \u90ae\u4ef6\u7cfb\u7edf\u94fe\u63a5\uff0c\u540e\u9762\u4e0d\u8981\u52a0/\u7ebf"}),"\n",(0,i.jsx)(s.li,{children:"TITLE \u7528\u6237\u90ae\u7edf\u6807\u9898"}),"\n",(0,i.jsx)(s.li,{children:"COPYRIGHT \u90ae\u7bb1\u7ba1\u7406\u540e\u53f0\u7f51\u7ad9\u7248\u6743"}),"\n",(0,i.jsx)(s.li,{children:"ICP \u90ae\u7bb1\u7ba1\u7406\u540e\u53f0\u7f51\u7ad9\u5907\u6848\u53f7"}),"\n",(0,i.jsxs)(s.li,{children:["LANGUAGE \u8bed\u8a00\u9009\u62e9\uff0c\u9ed8\u8ba4",":zh_CN"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"\u542f\u52a8\u955c\u50cf",children:"\u542f\u52a8\u955c\u50cf"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker compose up -d\n"})}),"\n",(0,i.jsxs)(s.p,{children:["\u542f\u52a8\u540e\u5c31\u53ef\u4ee5\u8bbf\u95eeweb\u9875\u9762\u4e86 ",(0,i.jsx)(s.code,{children:"http://ip:8001"}),"\uff0c\u7528\u6237\u540d\uff1aadmin\uff0c\u5bc6\u7801\uff1aewomail123"]}),"\n",(0,i.jsx)(s.p,{children:"\u767b\u9646\u540e\u5982\u4e0b\u56fe"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220524171025179",src:n(70592).A+"",width:"3584",height:"1592"})}),"\n",(0,i.jsx)(s.h3,{id:"\u914d\u7f6edns",children:"\u914d\u7f6eDNS"}),"\n",(0,i.jsx)(s.p,{children:"\u8981\u60f3\u8ba9\u57df\u540d\u6307\u5411\u8fc7\u53bb\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u4e00\u4e0bDNS"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"\u4e3b\u673a\u8bb0\u5f55"}),(0,i.jsx)(s.th,{children:"\u8bb0\u5f55\u7c7b\u578b"}),(0,i.jsx)(s.th,{children:"\u89e3\u6790\u7ebf\u8def"}),(0,i.jsx)(s.th,{children:"\u8bb0\u5f55\u503c"}),(0,i.jsx)(s.th,{children:"MX\u4f18\u5148\u7ea7"}),(0,i.jsx)(s.th,{children:"TTL\u503c"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@"}),(0,i.jsx)(s.td,{children:"TXT"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"v=spf1 ip4:\u90ae\u4ef6\u670d\u52a1\u5668IP -all"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"dkim._domainkey"}),(0,i.jsx)(s.td,{children:"TXT"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"DKIM\u503c"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"mail"}),(0,i.jsx)(s.td,{children:"A"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"\u90ae\u4ef6\u670d\u52a1\u5668IP"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"smtp"}),(0,i.jsx)(s.td,{children:"CNAME"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"mail.dvwatest.xyz"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"pop"}),(0,i.jsx)(s.td,{children:"CNAME"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"mail.dvwatest.xyz"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"imap"}),(0,i.jsx)(s.td,{children:"CNAME"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"mail.dvwatest.xyz"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"600"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@"}),(0,i.jsx)(s.td,{children:"MX"}),(0,i.jsx)(s.td,{children:"\u9ed8\u8ba4"}),(0,i.jsx)(s.td,{children:"mail.dvwatest.xyz"}),(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"600"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"DKIM\u503c\u83b7\u53d6\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker exec ewomail amavisd showkeys\n"})}),"\n",(0,i.jsxs)(s.p,{children:["\u7136\u540e\u9700\u8981\u5bf9\u8fd9\u4e2a\u503c\u8fdb\u884c\u6574\u7406\uff0c\u53ef\u4f7f\u7528\u7f51\u7ad9\uff1a",(0,i.jsx)(s.a,{href:"http://www.ewomail.com/list-20.html",children:"http://www.ewomail.com/list-20.html"})]}),"\n",(0,i.jsx)(s.p,{children:"\u7b49\u5f8510\u5206\u949f\u5de6\u53f3\u6d4b\u8bd5\u662f\u5426\u8bbe\u7f6e\u6b63\u786e\uff1a"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker exec ewomail amavisd testkeys\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u51fa\u73b0pass\u5c31\u8bf4\u660e\u6b63\u786e"}),"\n",(0,i.jsx)(s.h3,{id:"\u914d\u7f6e\u90ae\u7bb1",children:"\u914d\u7f6e\u90ae\u7bb1"}),"\n",(0,i.jsxs)(s.p,{children:["\u73b0\u5728\u4e00\u5207\u90fd\u51c6\u5907\u5c31\u7eea\u4e86\uff0c\u53ea\u9700\u8981\u6211\u4eec\u53bb",(0,i.jsx)(s.code,{children:"http://ip:8001"}),"\u914d\u7f6e\u8d26\u53f7\u5c31\u884c\u4e86\uff08\u5176\u4ed6\u4e00\u822c\u4e0d\u7528\u914d\u7f6e\uff0c\u53ef\u4ee5\u6d4f\u89c8\u4e00\u904d\u68c0\u67e5\u4e00\u4e0b\uff09"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u7cfb\u7edf\u8bbe\u7f6e\uff1a"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220524172833396",src:n(55831).A+"",width:"1194",height:"772"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u6dfb\u52a0\u8d26\u53f7\uff1a"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220524172902573",src:n(87417).A+"",width:"3584",height:"840"})}),"\n",(0,i.jsx)(s.h3,{id:"\u7279\u522b\u6ce8\u610f\ufe0f",children:"\u7279\u522b\u6ce8\u610f\u26a0\ufe0f"}),"\n",(0,i.jsx)(s.p,{children:"\u53ea\u901a\u8fc7\u4e0a\u9762\u7684\u6d41\u7a0b\uff0c\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(s.h4,{id:"\u90ae\u4ef6\u53d1\u4e0d\u51fa\u53bb",children:"\u90ae\u4ef6\u53d1\u4e0d\u51fa\u53bb"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220526105512696",src:n(45148).A+"",width:"3840",height:"262"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"\u539f\u56e0\u662f"}),"\u56e0\u4e3a",(0,i.jsx)(s.code,{children:"10024"}),"\u7aef\u53e3\u8dd1\u7684\u670d\u52a1\u4e3b\u8981\u7528\u4e8eewomail\u4e2d\u53cd\u5783\u573e\u53cd\u75c5\u6bd2\u4f5c\u7528\uff0c\u7136\u800cdocker\u955c\u50cf\u4e2d\u6ca1\u6709\u96c6\u6210\uff0c\u6240\u4ee5\u4f1a\u65e0\u6cd5\u63a5\u6536\u5230\u90ae\u4ef6"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u89e3\u51b3\u529e\u6cd5\uff1a"})}),"\n",(0,i.jsxs)(s.p,{children:["\u6ce8\u91ca",(0,i.jsx)(s.code,{children:"/etc/postfix/main.cf"}),"\u4e2d\u7684\uff08\u6700\u524d\u9762\u52a0\u4e2a",(0,i.jsx)(s.code,{children:"#"}),"\u5373\u53ef\uff09"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"content_filter = smtp-amavis:[127.0.0.1]:10024\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u7136\u540e\u91cd\u542f\u5bb9\u5668"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker restart ewomail\n"})}),"\n",(0,i.jsx)(s.h4,{id:"\u4e0d\u80fd\u4f2a\u9020from",children:"\u4e0d\u80fd\u4f2a\u9020From"}),"\n",(0,i.jsxs)(s.p,{children:["\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4e0b\u7684\u60c5\u51b5 ",(0,i.jsx)(s.code,{children:"Sender address rejected: not owned by user"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220526121830577",src:n(68833).A+"",width:"1378",height:"686"})}),"\n",(0,i.jsxs)(s.p,{children:["\u8fd8\u662f\u67e5\u770b\u65e5\u5fd7\uff0c\u53d1\u73b0\u5728",(0,i.jsx)(s.code,{children:"postfix/smtpd"}),"\u88ab\u62d2\u7edd\u4e86\uff0c\u89e3\u51b3\u65b9\u6848\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsxs)(s.p,{children:["\u8fdb\u5165docker\u5bb9\u5668\uff0c\u7f16\u8f91",(0,i.jsx)(s.code,{children:"/etc/postfix/main.cf"}),"\u6587\u4ef6"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"# 1. \u627e\u5230smtpd_sender_login_maps\uff0c\u4fee\u6539\u4e3a\nsmtpd_sender_login_maps = mysql:/etc/postfix/mysql/mysql-sender-login-maps.cf,pcre:/etc/postfix/login_maps.pcre\n\n# 2. \u627e\u5230smtpd_recipient_restrictions\uff0c\u5220\u9664reject_unknown_sender_domain\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u5bf9\u53d1\u9001\u7684\u57df\u8fdb\u884c\u9a8c\u8bc1\u4e86\n"})}),"\n",(0,i.jsxs)(s.p,{children:["\u7136\u540e\u521b\u5efa",(0,i.jsx)(s.code,{children:"/etc/postfix/login_maps.pcre"}),"\u6587\u4ef6\uff0c\u5199\u5165\u5982\u4e0b\u5185\u5bb9\uff1a"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"# \u610f\u601d\u662f\u5141\u8bb8\u7528\u6237admin@dvwatest.xyz\uff08\u4f60\u81ea\u5df1\u7684\u90ae\u7bb1\u8d26\u6237\uff09\u7684\u7528\u6237\u4f7f\u7528\u4efb\u610fdomain\n/^(.*)$/ admin@dvwatest.xyz\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u5237\u65b0\u914d\u7f6e"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"postmap /etc/postfix/login_maps.pcre\npostfix reload\n"})}),"\n",(0,i.jsx)(s.h4,{id:"\u90ae\u4ef6\u81ea\u52a8\u91cd\u53d1",children:"\u90ae\u4ef6\u81ea\u52a8\u91cd\u53d1"}),"\n",(0,i.jsxs)(s.p,{children:["\u5982\u679c\u67e5\u770b\u65e5\u5fd7\uff0c\u53d1\u73b0\u6536\u4ef6\u670d\u52a1\u5668\u63d0\u793a ",(0,i.jsx)(s.code,{children:"rejected"}),"\uff0c\u90a3\u4e48\u4f1a\u57285\u5206\u949f\u5de6\u53f3\u81ea\u52a8\u91cd\u53d1\u4e00\u6b21\u3002"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"**\u8fd9\u91cc\u4e3b\u8981\u6ce8\u610f\u7684\u662f\uff1a**\u5982\u679c\u5ba2\u6237\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u6709\u65f6\u5019\u62d2\u7edd\u6709\u65f6\u5019\u6210\u529f\u7684\u8bdd\uff0c\u8981\u8010\u5fc3\u7b49\u5f85\u81ea\u52a8\u91cd\u53d1\uff0c\u4e0d\u8981\u770b\u5230\u5931\u8d25\u4e86\u9a6c\u4e0a\u5c31\u53bb\u624b\u52a8\u7ee7\u7eed\u53d1\uff0c\u8fd9\u6837\u53ef\u80fd\u5bfc\u81f4\u90ae\u4ef6\u591a\u6b21\u53d1\u9001\uff0c\u5f71\u54cd\u9493\u9c7c\u6548\u679c\u3002"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20240408\u4e0b\u534824911532",src:n(69252).A+"",width:"3746",height:"174"})}),"\n",(0,i.jsx)(s.h3,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(s.p,{children:["\u53ef\u4ee5\u76f4\u63a5\u7528",(0,i.jsx)(s.code,{children:"swaks"}),"\u5de5\u5177\u6765\u6d4b\u8bd5"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"swaks --to helloworcoody@qq.com --from admin@dvwatest.xyz --header 'Subject:TEST' --body hello --server smtp.dvwatest.xyz -p 25 -au admin@dvwatest.xyz -ap \u8bbe\u7f6e\u7684\u5bc6\u7801\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220526110251873",src:n(44023).A+"",width:"654",height:"366"})}),"\n",(0,i.jsx)(s.h2,{id:"\u9493\u9c7c\u5e73\u53f0gophish",children:"\u9493\u9c7c\u5e73\u53f0\uff1agophish"}),"\n",(0,i.jsx)(s.h3,{id:"\u4e0b\u8f7d\u955c\u50cf-1",children:"\u4e0b\u8f7d\u955c\u50cf"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker pull gophish/gophish\n"})}),"\n",(0,i.jsx)(s.h3,{id:"\u542f\u52a8\u955c\u50cf-1",children:"\u542f\u52a8\u955c\u50cf"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker run -it -d --rm --name gophish -p 3333:3333 -p 8003:80 -p 8004:8080 gophish/gophish\n"})}),"\n",(0,i.jsx)(s.h3,{id:"\u767b\u9646\u7cfb\u7edf",children:"\u767b\u9646\u7cfb\u7edf"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"https"}),"\u8bbf\u95ee",(0,i.jsx)(s.code,{children:"3333"}),"\u7aef\u53e3"]}),"\n",(0,i.jsxs)(s.p,{children:["\u7528\u6237\u540d\u4e3a",(0,i.jsx)(s.code,{children:"admin"}),"\uff0c\u5bc6\u7801\u7b2c\u4e00\u6b21\u767b\u9646\u4e3a\u968f\u673a\u5bc6\u7801\uff0c\u901a\u8fc7\u67e5\u770b\u65e5\u5fd7\u83b7\u53d6"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker logs gophish\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220526111509823",src:n(72485).A+"",width:"2380",height:"354"})}),"\n",(0,i.jsx)(s.p,{children:"\u767b\u9646\u5373\u53ef"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220526112733054",src:n(35707).A+"",width:"1454",height:"1336"})}),"\n",(0,i.jsx)(s.h3,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,i.jsx)(s.p,{children:"\u4f7f\u7528\u6682\u65f6\u6211\u89c9\u5f97\u8fd8\u662f\u6ca1\u5fc5\u8981\u8bf4\uff0c\u70b9\u70b9\u70b9\u5c31\u4f1a\u4e86"}),"\n",(0,i.jsx)(s.h3,{id:"\u6548\u679c",children:"\u6548\u679c"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"image-20220527101642888",src:n(49508).A+"",width:"2876",height:"1590"})}),"\n",(0,i.jsx)(s.h3,{id:"\u7279\u522b\u6ce8\u610f\ufe0f-1",children:"\u7279\u522b\u6ce8\u610f\u26a0\ufe0f"}),"\n",(0,i.jsx)(s.h4,{id:"\u6355\u83b7\u4e0d\u5230\u63d0\u4ea4\u7684\u6570\u636e",children:"\u6355\u83b7\u4e0d\u5230\u63d0\u4ea4\u7684\u6570\u636e"}),"\n",(0,i.jsx)(s.p,{children:"1\uff09\u5bfc\u5165\u540e\u8981\u5728HTML\u7f16\u8f91\u6846\u7684\u975eSource\u6a21\u5f0f\u4e0b\u89c2\u5bdf\u6e90\u7801\u89e3\u6790\u60c5\u51b5\uff0c\u5982\u679c\u660e\u663e\u53d1\u73b0\u5b58\u5728\u8bb8\u591a\u5730\u65b9\u672a\u52a0\u8f7d\uff0c\u5219\u6709\u53ef\u80fd\u5bfc\u5165\u7684\u6e90\u7801\u5e76\u975e\u9875\u9762\u5b8c\u5168\u52a0\u8f7d\u540e\u7684\u524d\u7aef\u4ee3\u7801\uff0c\u800c\u662f\u4e00\u4e2a\u534a\u6210\u54c1\uff0c\u9700\u8981\u901a\u8fc7\u6d4f\u89c8\u5668\u4e8c\u6b21\u89e3\u6790\uff0c\u6e32\u67d3\u672a\u52a0\u8f7d\u7684DOM\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9664\u975e\u80fd\u591f\u76f4\u63a5\u722c\u53d6\u9875\u9762\u5b8c\u5168\u52a0\u8f7d\u540e\u7684\u524d\u7aef\u4ee3\u7801\uff0c\u5426\u5219\u65e0\u6cd5\u5229\u7528gophish\u8fdb\u884c\u9493\u9c7c\uff0c\u9020\u6210\u7684\u539f\u56e0\u662f\u4e0d\u6ee1\u8db3\u7b2c2\u70b9\u3002"}),"\n",(0,i.jsx)(s.p,{children:"2\uff09\u5bfc\u5165\u7684\u524d\u7aef\u6e90\u7801\uff0c\u5fc5\u987b\u5b58\u5728\u4e25\u683c\u5b58\u5728\u7ed3\u6784"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<form method="post" \xb7\xb7\xb7><input name="aaa" \xb7\xb7\xb7 /> \xb7\xb7\xb7 <input type="submit" \xb7\xb7\xb7 /></form>\n'})}),"\n",(0,i.jsx)(s.p,{children:"\u5373\u8868\u5355\uff08POST\u65b9\u5f0f\uff09\u2014 Input\u6807\u7b7e\uff08\u5177\u6709name\u5c5e\u6027\uff09Input\u6807\u7b7e\uff08submit\u7c7b\u578b\uff09\u2014 \u8868\u5355\u95ed\u5408\u7684\u7ed3\u6784\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u5219\u65e0\u6cd5\u6355\u83b7\u5230\u63d0\u4ea4\u7684\u6570\u636e"}),"\n",(0,i.jsxs)(s.p,{children:["3\uff09\u5728\u6ee1\u8db3\u7b2c2\u70b9\u7684\u7ed3\u6784\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u9700\u8981\u6c42",(0,i.jsx)(s.code,{children:'<form method="post" \xb7\xb7\xb7>'}),"\u5728\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u540e\uff08\u5373\u9884\u89c8\u60c5\u51b5\u4e0b\uff09\u4e0d\u80fd\u5305\u542baction\u5c5e\u6027\uff0c\u6216\u8005action\u5c5e\u6027\u7684\u503c\u4e3a\u7a7a\u3002\u5426\u5219\u5c06\u4f1a\u628a\u8868\u5355\u6570\u636e\u63d0\u4ea4\u7ed9action\u6307\u5b9a\u7684\u9875\u9762\uff0c\u800c\u5bfc\u81f4\u65e0\u6cd5\u88ab\u6355\u83b7\u5230."]}),"\n",(0,i.jsx)(s.h4,{id:"\u6355\u83b7\u6570\u636e\u4e0d\u9f50\u5168",children:"\u6355\u83b7\u6570\u636e\u4e0d\u9f50\u5168"}),"\n",(0,i.jsxs)(s.p,{children:["\u5bf9\u4e8e\u9700\u8981\u88ab\u6355\u83b7\u7684\u8868\u5355\u6570\u636e\uff0c\u9664\u4e86input\u6807\u7b7e\u9700\u8981\u88ab\u5305\u542b\u5728",(0,i.jsx)(s.code,{children:"<form>"}),"\u4e2d\uff0c\u8fd8\u9700\u6ee1\u8db3\u8be5",(0,i.jsx)(s.code,{children:"<input>"}),"\u5b58\u5728",(0,i.jsx)(s.code,{children:"name"}),"\u5c5e\u6027\u3002\u4f8b\u5982",(0,i.jsx)(s.code,{children:'<input name="username">'}),",\u5426\u5219\u4f1a\u56e0\u4e3a\u6ca1\u6709\u5b57\u6bb5\u540d\u800c\u5bfc\u81f4value\u88ab\u5ffd\u7565\u3002"]}),"\n",(0,i.jsx)(s.h4,{id:"\u5bc6\u7801\u88ab\u52a0\u5bc6",children:"\u5bc6\u7801\u88ab\u52a0\u5bc6"}),"\n",(0,i.jsx)(s.p,{children:"\u9488\u5bf9https\u9875\u9762\u7684import\uff0c\u901a\u5e38\u5bc6\u7801\u4f1a\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\uff0c\u8fd9\u65f6\u9700\u8981\u901a\u8fc7\u5ba1\u8ba1\u5bfc\u5165\u7684\u524d\u7aef\u4ee3\u7801\uff0c\u627e\u5230\u52a0\u5bc6\u7684JavaScript\u51fd\u6570\uff08\u591a\u6570\u60c5\u51b5\u5b58\u5728\u4e8e\u5355\u72ec\u7684js\u6587\u4ef6\u4e2d\uff0c\u901a\u8fc7src\u5f15\u5165\uff09\uff0c\u5c06\u5176\u5728gophish\u7684HTML\u7f16\u8f91\u6846\u4e2d\u5220\u9664\uff0c\u963b\u6b62\u8868\u5355\u6570\u636e\u88ab\u52a0\u5bc6\u3002"})]})}function x(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},35707:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220526112733054-50915fbf13eb7f11070f0f0f373d534c.png"},44023:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220526110251873-54566d0e23247a4ccd5572b58fbe1c44.png"},45148:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220526105512696-d7cbbd31afb819a7c6ca3536c0ea7a24.png"},49508:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220527101642888-4f6452003c3eb0926bc0452f9a82228b.png"},55831:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220524172833396-7126a8a9e61dba76bf644545d308411f.png"},68833:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220526121830577-62ef3a87e9b291d75b181863171a709f.png"},69252:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20240408\u4e0b\u534824911532-8e6ec93b09d044b0b835802916a0455a.png"},70592:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220524171025179-68ff9621591fc092990fc4565138ed05.png"},72485:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220526111509823-154db0c833946b4518e2b6093044060b.png"},87417:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/image-20220524172902573-a1058351b498ff5ffec3a52ca8b3c0f9.png"}}]);