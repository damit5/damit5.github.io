"use strict";(self.webpackChunkblog_source_2025=self.webpackChunkblog_source_2025||[]).push([[2642],{14081:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225171853149-7322380516ca13fa06585782beb818ba.png"},23102:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225172432261-dbb609778301475a18eabccf1bc898be.png"},28453:(e,s,i)=>{i.d(s,{R:()=>l,x:()=>r});var n=i(96540);const d={},a=n.createContext(d);function l(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),n.createElement(a.Provider,{value:s},e.children)}},40414:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225155955145-3a7e9093bd5e4fc7212662d8c8a7f90f.png"},57204:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225155705540-0f85c3720fdc65f85cd4449b251cf593.png"},74289:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225172207578-4ece8542531e55e86dfe5fd64a7eb37d.png"},78204:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225134619062-b66e31765294ae3ae7a2948be4b2e953.png"},79685:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225172802399-138cafe4b776ce314ab432e87f1c5903.png"},84795:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225133430087-2b87c8be5e6af28db25cac2125bff1fe.png"},85859:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225134307854-e605c1fb4ef768c9050d551fe263ec23.png"},87591:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>t,contentTitle:()=>r,default:()=>o,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"\u79fb\u52a8\u5b89\u5168/frida-hook/hook \u5b9e\u6218/\u3010\u5b9e\u4f8b\u4e8c\u3011\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305","title":"\u3010\u5b9e\u4f8b\u4e8c\u3011\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305","description":"\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305","source":"@site/docs/04.\u79fb\u52a8\u5b89\u5168/03.frida-hook/05.hook \u5b9e\u6218/02.\u3010\u5b9e\u4f8b\u4e8c\u3011\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305.md","sourceDirName":"04.\u79fb\u52a8\u5b89\u5168/03.frida-hook/05.hook \u5b9e\u6218","slug":"/\u79fb\u52a8\u5b89\u5168/frida-hook/hook \u5b9e\u6218/\u3010\u5b9e\u4f8b\u4e8c\u3011\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305","permalink":"/docs/\u79fb\u52a8\u5b89\u5168/frida-hook/hook \u5b9e\u6218/\u3010\u5b9e\u4f8b\u4e8c\u3011\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"d4m1ts","lastUpdatedAt":1748742749000,"sidebarPosition":2,"frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"\u3010\u5b9e\u4f8b\u4e00\u3011\u52a0\u5bc6+\u7b7e\u540d\u5206\u6790","permalink":"/docs/\u79fb\u52a8\u5b89\u5168/frida-hook/hook \u5b9e\u6218/\u3010\u5b9e\u4f8b\u4e00\u3011\u52a0\u5bc6+\u7b7e\u540d\u5206\u6790"},"next":{"title":"frida\u6280\u5de7","permalink":"/docs/\u79fb\u52a8\u5b89\u5168/frida-hook/frida\u6280\u5de7"}}');var d=i(74848),a=i(28453);const l={},r=void 0,t={},c=[{value:"\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305",id:"\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305",level:2},{value:"\u5148\u5c1d\u8bd5\u4e00\u4e0b\u662f\u4e0d\u662f\u5355\u5411\u9a8c\u8bc1+SSL pinning\u6765\u9632\u6b62\u6293\u5305\u7684",id:"\u5148\u5c1d\u8bd5\u4e00\u4e0b\u662f\u4e0d\u662f\u5355\u5411\u9a8c\u8bc1ssl-pinning\u6765\u9632\u6b62\u6293\u5305\u7684",level:3},{value:"\u65b9\u6cd5\u4e00\uff1aXposed\u52a0\u8f7dJustTrustMe\u6a21\u5757",id:"\u65b9\u6cd5\u4e00xposed\u52a0\u8f7djusttrustme\u6a21\u5757",level:4},{value:"\u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528frida\u7684ssl_pinning\u7684js\u6a21\u5757",id:"\u65b9\u6cd5\u4e8c\u4f7f\u7528frida\u7684ssl_pinning\u7684js\u6a21\u5757",level:4},{value:"\u6253\u5f00soul app\uff0c\u6293\u5305",id:"\u6253\u5f00soul-app\u6293\u5305",level:4},{value:"\u53cc\u5411\u9a8c\u8bc1\u6293\u5305\u5f00\u59cb",id:"\u53cc\u5411\u9a8c\u8bc1\u6293\u5305\u5f00\u59cb",level:3},{value:"\u76f4\u63a5\u89e3\u538bapk",id:"\u76f4\u63a5\u89e3\u538bapk",level:4},{value:"\u627e\u4e00\u4e0b\u8bc1\u4e66",id:"\u627e\u4e00\u4e0b\u8bc1\u4e66",level:4},{value:"\u627e\u4e00\u4e0b\u8bc1\u4e66\u5bc6\u7801",id:"\u627e\u4e00\u4e0b\u8bc1\u4e66\u5bc6\u7801",level:4},{value:"\u53cd\u7f16\u8bd1\u5206\u6790\u5565\u7684\u592a\u9ebb\u70e6\u4e86\uff0c\u4e0d\u592a\u4f1a\uff0c\u6240\u4ee5\u8fd8\u662f\u7528frida\u5427",id:"\u53cd\u7f16\u8bd1\u5206\u6790\u5565\u7684\u592a\u9ebb\u70e6\u4e86\u4e0d\u592a\u4f1a\u6240\u4ee5\u8fd8\u662f\u7528frida\u5427",level:5},{value:"\u672c\u5730\u5b89\u88c5\u5e76\u4fe1\u4efb\u8bc1\u4e66",id:"\u672c\u5730\u5b89\u88c5\u5e76\u4fe1\u4efb\u8bc1\u4e66",level:4},{value:"burp\u6dfb\u52a0p12\u8bc1\u4e66",id:"burp\u6dfb\u52a0p12\u8bc1\u4e66",level:4},{value:"\u9a8c\u8bc1",id:"\u9a8c\u8bc1",level:3},{value:"\u9898\u5916\u8bdd",id:"\u9898\u5916\u8bdd",level:3}];function h(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.h2,{id:"\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305",children:"\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u6293\u5305"}),"\n",(0,d.jsx)(s.p,{children:"\u6b64\u5904\u4ee5soal app\u4e3a\u4f8b"}),"\n",(0,d.jsx)(s.p,{children:"\u9996\u5148\u9700\u8981\u4e0b\u8f7dsoul app\uff0c\u7136\u540e\u5b89\u88c5"}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"\u5148\u5c1d\u8bd5\u4e00\u4e0b\u662f\u4e0d\u662f\u5355\u5411\u9a8c\u8bc1ssl-pinning\u6765\u9632\u6b62\u6293\u5305\u7684",children:"\u5148\u5c1d\u8bd5\u4e00\u4e0b\u662f\u4e0d\u662f\u5355\u5411\u9a8c\u8bc1+SSL pinning\u6765\u9632\u6b62\u6293\u5305\u7684"}),"\n",(0,d.jsxs)(s.h4,{id:"\u65b9\u6cd5\u4e00xposed\u52a0\u8f7djusttrustme\u6a21\u5757",children:["\u65b9\u6cd5\u4e00\uff1aXposed\u52a0\u8f7d",(0,d.jsx)(s.a,{href:"https://github.com/Fuzion24/JustTrustMe/releases/latest",children:"JustTrustMe"}),"\u6a21\u5757"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225133110322",src:i(94690).A+"",width:"1924",height:"1384"})}),"\n",(0,d.jsx)(s.h4,{id:"\u65b9\u6cd5\u4e8c\u4f7f\u7528frida\u7684ssl_pinning\u7684js\u6a21\u5757",children:"\u65b9\u6cd5\u4e8c\uff1a\u4f7f\u7528frida\u7684ssl_pinning\u7684js\u6a21\u5757"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"frida -U -l ssl_unpinning.js -f cn.soulapp.android\n## \u6ce8\u610f -f \u540e\u9762\u63a5\u7684\u662f package name\uff0c\u4ece\u8bbe\u5907\u4e2d\u8bfb\u53d6\u7684\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225155705540",src:i(57204).A+"",width:"2006",height:"1596"})}),"\n",(0,d.jsx)(s.h4,{id:"\u6253\u5f00soul-app\u6293\u5305",children:"\u6253\u5f00soul app\uff0c\u6293\u5305"}),"\n",(0,d.jsxs)(s.p,{children:["\u63d0\u793a ",(0,d.jsx)(s.code,{children:"400 No required SSL certificate was sent"}),"\uff0c\u8bf4\u660e\u662f\u8bc1\u4e66\u53cc\u5411\u9a8c\u8bc1\u7684"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225133430087",src:i(84795).A+"",width:"2520",height:"2182"})}),"\n",(0,d.jsx)(s.h3,{id:"\u53cc\u5411\u9a8c\u8bc1\u6293\u5305\u5f00\u59cb",children:"\u53cc\u5411\u9a8c\u8bc1\u6293\u5305\u5f00\u59cb"}),"\n",(0,d.jsx)(s.h4,{id:"\u76f4\u63a5\u89e3\u538bapk",children:"\u76f4\u63a5\u89e3\u538bapk"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225134307854",src:i(85859).A+"",width:"404",height:"156"})}),"\n",(0,d.jsx)(s.h4,{id:"\u627e\u4e00\u4e0b\u8bc1\u4e66",children:"\u627e\u4e00\u4e0b\u8bc1\u4e66"}),"\n",(0,d.jsx)(s.p,{children:"\u5982\u679c\u670d\u52a1\u5668\u7aef\u4f1a\u5bf9\u5ba2\u6237\u7aef\u8bc1\u4e66\u8fdb\u884c\u6821\u9a8c, \u8bc1\u4e66\u5e94\u8be5\u5c31\u76f4\u63a5\u5b58\u653e\u5728apk\u91cc"}),"\n",(0,d.jsxs)(s.p,{children:["\u8bc1\u4e66\u4e00\u822c\u653e\u5230\u76ee\u5f55 ",(0,d.jsx)(s.code,{children:"/asset"})," \u6216\u8005 ",(0,d.jsx)(s.code,{children:"/res/raw"})," \u76ee\u5f55\u4e0b\u7684\uff0c\u5982\u679c\u6ca1\u627e\u5230\uff0c\u53ef\u4ee5\u7528 find \u627e\u4e00\u4e0b\u540e\u7f00\u4e3a ",(0,d.jsx)(s.code,{children:".cer .p12 .pfx"})," \u7684\u6587\u4ef6"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225134619062",src:i(78204).A+"",width:"2360",height:"792"})}),"\n",(0,d.jsxs)(s.p,{children:["\u8fd9\u91cc\u627e\u5230\u8bc1\u4e66\u4e3a ",(0,d.jsx)(s.code,{children:"client.p12"})]}),"\n",(0,d.jsx)(s.h4,{id:"\u627e\u4e00\u4e0b\u8bc1\u4e66\u5bc6\u7801",children:"\u627e\u4e00\u4e0b\u8bc1\u4e66\u5bc6\u7801"}),"\n",(0,d.jsx)(s.p,{children:"\u5728\u6211\u4eec\u8981\u4f7f\u7528\u8be5\u8bc1\u4e66\u7684\u65f6\u5019, \u9700\u8981\u8f93\u5165\u5b89\u88c5\u8bc1\u4e66\u7684\u5bc6\u7801\u3002"}),"\n",(0,d.jsx)(s.p,{children:"\u627e\u5230p12\u8bc1\u4e66\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u8bc1\u4e66+\u5bc6\u7801\u8f6c\u6362\u6210\u672c\u673a\u5b89\u88c5\u7684\u8bc1\u4e66\u683c\u5f0f\uff0c\u6bd4\u5982cer\u3002"}),"\n",(0,d.jsx)(s.h5,{id:"\u53cd\u7f16\u8bd1\u5206\u6790\u5565\u7684\u592a\u9ebb\u70e6\u4e86\u4e0d\u592a\u4f1a\u6240\u4ee5\u8fd8\u662f\u7528frida\u5427",children:"\u53cd\u7f16\u8bd1\u5206\u6790\u5565\u7684\u592a\u9ebb\u70e6\u4e86\uff0c\u4e0d\u592a\u4f1a\uff0c\u6240\u4ee5\u8fd8\u662f\u7528frida\u5427"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"frida -U -l tracer_keystore.js -f cn.soulapp.android\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225155955145",src:i(40414).A+"",width:"2012",height:"1830"})}),"\n",(0,d.jsx)(s.h4,{id:"\u672c\u5730\u5b89\u88c5\u5e76\u4fe1\u4efb\u8bc1\u4e66",children:"\u672c\u5730\u5b89\u88c5\u5e76\u4fe1\u4efb\u8bc1\u4e66"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225171853149",src:i(14081).A+"",width:"1114",height:"1086"})}),"\n",(0,d.jsx)(s.h4,{id:"burp\u6dfb\u52a0p12\u8bc1\u4e66",children:"burp\u6dfb\u52a0p12\u8bc1\u4e66"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"\u6253\u5f00Burp --\x3e User Options--\x3eClient SSL Certificates --\x3e Add --\x3eHost\u8bbe\u7f6e\u524d\u9762\u8fd4\u56de400\u7684\u5730\u5740\uff0c\u8bc1\u4e66\u7c7b\u578b\u9009 PKCS#12"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225172207578",src:i(74289).A+"",width:"2874",height:"1660"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"\u9009\u62e9\u521a\u624d\u770b\u5230\u7684p12\u8bc1\u4e66\uff0c\u7136\u540e\u8f93\u5165frida\u63d0\u53d6\u5230\u7684\u5bc6\u7801\u3002"}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225172432261",src:i(23102).A+"",width:"2032",height:"988"})}),"\n",(0,d.jsx)(s.h3,{id:"\u9a8c\u8bc1",children:"\u9a8c\u8bc1"}),"\n",(0,d.jsx)(s.p,{children:"\u518d\u6b21\u6293\u5305\uff0c\u53ef\u89c1\u80fd\u6210\u529f\u6293\u53d6\u5230https\u7684\u5305\u3002"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"image-20201225172802399",src:i(79685).A+"",width:"3582",height:"1622"})}),"\n",(0,d.jsx)(s.h3,{id:"\u9898\u5916\u8bdd",children:"\u9898\u5916\u8bdd"}),"\n",(0,d.jsx)(s.p,{children:"\u5982\u679c\u5b9e\u5728\u62ff\u4e0d\u5230\u8bc1\u4e66\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7hook\u8bf7\u6c42\u7684\u65b9\u5f0f\uff0c\u5728\u53d1\u8d77\u8bf7\u6c42\u524d\u7be1\u6539\u8bf7\u6c42\u7684\u6570\u636e\uff01"})]})}function o(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},94690:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20201225133110322-cf5dfd1510c02ddbd0e09a709af25018.png"}}]);